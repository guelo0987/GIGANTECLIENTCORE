2025-02-08 08:14:49.630 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 08:14:49.677 -04:00 [DBG] Hosting starting
2025-02-08 08:14:49.680 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 08:14:49.686 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 08:14:49.688 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 08:14:49.688 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 08:14:49.688 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 08:14:49.690 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 08:14:49.692 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 08:14:49.692 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 08:14:49.692 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 08:14:49.694 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 08:14:49.695 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 08:14:49.698 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 08:14:49.698 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 08:14:49.699 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 08:14:49.699 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 08:14:49.718 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 08:14:49.719 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 08:14:49.724 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 08:14:49.724 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 08:14:49.724 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 08:14:49.724 -04:00 [INF] Hosting environment: Development
2025-02-08 08:14:49.724 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 08:14:49.724 -04:00 [DBG] Hosting started
2025-02-08 08:15:06.662 -04:00 [DBG] Connection id "0HNA878SO4FQ3" accepted.
2025-02-08 08:15:06.663 -04:00 [DBG] Connection id "0HNA878SO4FQ3" started.
2025-02-08 08:15:06.690 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/register - application/json-patch+json 212
2025-02-08 08:15:06.707 -04:00 [DBG] POST requests are not supported
2025-02-08 08:15:06.720 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2025-02-08 08:15:06.723 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2025-02-08 08:15:06.723 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:15:06.724 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 08:15:06.724 -04:00 [INF] CORS policy execution failed.
2025-02-08 08:15:06.724 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 08:15:06.725 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 08:15:06.744 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 08:15:06.745 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:15:06.754 -04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(GIGANTECLIENTCORE.DTO.RegisterDTO) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 08:15:06.756 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 08:15:06.756 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 08:15:06.756 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 08:15:06.756 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 08:15:06.756 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 08:15:06.757 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 08:15:06.839 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 08:15:06.856 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 08:15:06.859 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 08:15:06.860 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' using the name '' in request data ...
2025-02-08 08:15:06.860 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 08:15:06.860 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 08:15:06.863 -04:00 [DBG] Connection id "0HNA878SO4FQ3", Request id "0HNA878SO4FQ3:00000001": started reading request body.
2025-02-08 08:15:06.864 -04:00 [DBG] Connection id "0HNA878SO4FQ3", Request id "0HNA878SO4FQ3:00000001": done reading request body.
2025-02-08 08:15:06.921 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:15:06.921 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:15:06.921 -04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 08:15:06.925 -04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:15:06.928 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 08:15:07.449 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 08:15:07.481 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Any(u => u.Email == __registerRequest_Email_0)'
2025-02-08 08:15:07.640 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UsuarioCliente AS u
            WHERE u.Email == @__registerRequest_Email_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UsuarioCliente AS u
            WHERE u.Email == @__registerRequest_Email_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-02-08 08:15:07.674 -04:00 [DBG] Creating DbConnection.
2025-02-08 08:15:07.690 -04:00 [DBG] Created DbConnection. (15ms).
2025-02-08 08:15:07.691 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:07.876 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:07.878 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:15:07.883 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 08:15:07.889 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-02-08 08:15:07.895 -04:00 [DBG] Executing DbCommand [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:15:07.933 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:15:07.941 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:07.946 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 8ms reading results.
2025-02-08 08:15:07.947 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:07.951 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (3ms).
2025-02-08 08:15:07.954 -04:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Name == "Cliente")'
2025-02-08 08:15:07.985 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Role>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
        SELECT TOP(1) r.IdRol, r.Name
        FROM Roles AS r
        WHERE r.Name == N'Cliente') | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
        SELECT TOP(1) r.IdRol, r.Name
        FROM Roles AS r
        WHERE r.Name == N'Cliente', 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Role instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Role);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Role)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<IdRol>k__BackingField = dataReader.GetInt32(0);
                                instance.<Name>k__BackingField = dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-02-08 08:15:07.987 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:07.988 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:07.988 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:15:07.988 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:15:07.988 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:15:07.989 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 08:15:07.997 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 08:15:08.022 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:15:08.032 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:08.032 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 34ms reading results.
2025-02-08 08:15:08.032 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:08.032 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:15:11.434 -04:00 [DBG] Context 'MyDbContext' started tracking 'Compañium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:15:11.435 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 08:15:11.436 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 08:15:11.446 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 08:15:11.489 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.489 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.490 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:15:11.490 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:15:11.490 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:15:11.490 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Compañia] ([RNC], [Name])
VALUES (@p0, @p1);
2025-02-08 08:15:11.497 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Compañia] ([RNC], [Name])
VALUES (@p0, @p1);
2025-02-08 08:15:11.498 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.498 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 08:15:11.498 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.498 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:15:11.503 -04:00 [DBG] An entity of type 'Compañium' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:15:11.504 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 08:15:11.510 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'UsuarioCliente.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:15:11.531 -04:00 [DBG] The navigation 'UsuarioCliente.RncNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:15:11.540 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:15:11.540 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 08:15:11.540 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 08:15:11.546 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 08:15:11.553 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.553 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.553 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:15:11.553 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:15:11.554 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:15:11.554 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (DbType = Date), @p4='?' (Size = 100), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000), @p7='?' (Size = 11), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioCliente] ([Apellidos], [Ciudad], [Direccion], [DOB], [Email], [FechaIngreso], [Password], [RNC], [RolId], [Telefono], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-02-08 08:15:11.560 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (DbType = Date), @p4='?' (Size = 100), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000), @p7='?' (Size = 11), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioCliente] ([Apellidos], [Ciudad], [Direccion], [DOB], [Email], [FechaIngreso], [Password], [RNC], [RolId], [Telefono], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-02-08 08:15:11.566 -04:00 [DBG] The foreign key property 'UsuarioCliente.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 08:15:11.569 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.569 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 8ms reading results.
2025-02-08 08:15:11.569 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.569 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:15:11.571 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:15:11.571 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 08:15:11.572 -04:00 [INF] Registro exitoso para el usuario: string
2025-02-08 08:15:11.589 -04:00 [INF] Operación exitosa de autenticación
2025-02-08 08:15:11.591 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4660.8833ms.
2025-02-08 08:15:11.593 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 08:15:11.594 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 08:15:11.594 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 08:15:11.594 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 08:15:11.594 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 08:15:11.594 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[GIGANTECLIENTCORE.DTO.UserClienteDTO, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-08 08:15:11.623 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) in 4865.2543ms
2025-02-08 08:15:11.623 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:15:11.623 -04:00 [DBG] Connection id "0HNA878SO4FQ3" completed keep alive response.
2025-02-08 08:15:11.625 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 08:15:11.627 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:15:11.628 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 08:15:11.628 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/register - 200 623 application/json; charset=utf-8 4940.6801ms
2025-02-08 08:16:43.311 -04:00 [INF] Application is shutting down...
2025-02-08 08:16:43.312 -04:00 [DBG] Hosting stopping
2025-02-08 08:16:43.325 -04:00 [DBG] Connection id "0HNA878SO4FQ3" disconnecting.
2025-02-08 08:16:43.326 -04:00 [DBG] Connection id "0HNA878SO4FQ3" stopped.
2025-02-08 08:16:43.328 -04:00 [DBG] Connection id "0HNA878SO4FQ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 08:16:43.333 -04:00 [DBG] Hosting stopped
2025-02-08 08:18:12.751 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 08:18:12.800 -04:00 [DBG] Hosting starting
2025-02-08 08:18:12.804 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 08:18:12.809 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 08:18:12.812 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 08:18:12.812 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 08:18:12.813 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 08:18:12.814 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 08:18:12.816 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 08:18:12.816 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 08:18:12.816 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 08:18:12.819 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 08:18:12.820 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 08:18:12.822 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 08:18:12.822 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 08:18:12.823 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 08:18:12.823 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 08:18:12.843 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 08:18:12.844 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 08:18:12.850 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 08:18:12.850 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 08:18:12.850 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 08:18:12.850 -04:00 [INF] Hosting environment: Development
2025-02-08 08:18:12.850 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 08:18:12.850 -04:00 [DBG] Hosting started
2025-02-08 08:18:20.840 -04:00 [DBG] Connection id "0HNA87AMJUQDV" accepted.
2025-02-08 08:18:20.841 -04:00 [DBG] Connection id "0HNA87AMJUQDV" started.
2025-02-08 08:18:20.870 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/register - application/json-patch+json 212
2025-02-08 08:18:20.888 -04:00 [DBG] POST requests are not supported
2025-02-08 08:18:20.901 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2025-02-08 08:18:20.904 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2025-02-08 08:18:20.905 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:18:20.906 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 08:18:20.906 -04:00 [INF] CORS policy execution failed.
2025-02-08 08:18:20.906 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 08:18:20.907 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 08:18:20.925 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 08:18:20.926 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:18:20.935 -04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(GIGANTECLIENTCORE.DTO.RegisterDTO) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 08:18:20.937 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 08:18:20.937 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 08:18:20.938 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 08:18:20.938 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 08:18:20.938 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 08:18:20.938 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 08:18:21.012 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 08:18:21.030 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 08:18:21.033 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 08:18:21.034 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' using the name '' in request data ...
2025-02-08 08:18:21.034 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 08:18:21.034 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 08:18:21.037 -04:00 [DBG] Connection id "0HNA87AMJUQDV", Request id "0HNA87AMJUQDV:00000001": started reading request body.
2025-02-08 08:18:21.037 -04:00 [DBG] Connection id "0HNA87AMJUQDV", Request id "0HNA87AMJUQDV:00000001": done reading request body.
2025-02-08 08:18:21.093 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:18:21.094 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:18:21.094 -04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 08:18:21.097 -04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:18:21.100 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 08:18:21.692 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 08:18:21.723 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Any(u => u.Email == __registerRequest_Email_0)'
2025-02-08 08:18:21.886 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UsuarioCliente AS u
            WHERE u.Email == @__registerRequest_Email_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UsuarioCliente AS u
            WHERE u.Email == @__registerRequest_Email_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-02-08 08:18:21.917 -04:00 [DBG] Creating DbConnection.
2025-02-08 08:18:21.934 -04:00 [DBG] Created DbConnection. (15ms).
2025-02-08 08:18:21.935 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:22.107 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:22.109 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:18:22.113 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 08:18:22.119 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-02-08 08:18:22.124 -04:00 [DBG] Executing DbCommand [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:18:22.159 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:18:22.167 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:22.172 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 8ms reading results.
2025-02-08 08:18:22.174 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:22.178 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (3ms).
2025-02-08 08:18:22.180 -04:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Name == "Cliente")'
2025-02-08 08:18:22.210 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Role>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
        SELECT TOP(1) r.IdRol, r.Name
        FROM Roles AS r
        WHERE r.Name == N'Cliente') | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
        SELECT TOP(1) r.IdRol, r.Name
        FROM Roles AS r
        WHERE r.Name == N'Cliente', 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Role instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Role);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Role)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<IdRol>k__BackingField = dataReader.GetInt32(0);
                                instance.<Name>k__BackingField = dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-02-08 08:18:22.212 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:22.213 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:22.213 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:18:22.213 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:18:22.213 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:18:22.213 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 08:18:22.220 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 08:18:22.245 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:18:22.254 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:22.254 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 33ms reading results.
2025-02-08 08:18:22.254 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:22.254 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:18:24.318 -04:00 [DBG] Context 'MyDbContext' started tracking 'Compañium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:18:24.319 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 08:18:24.321 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 08:18:24.332 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 08:18:24.373 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.373 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.374 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:18:24.374 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:18:24.374 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:18:24.374 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Compañia] ([RNC], [Name])
VALUES (@p0, @p1);
2025-02-08 08:18:24.384 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Compañia] ([RNC], [Name])
VALUES (@p0, @p1);
2025-02-08 08:18:24.385 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.385 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 08:18:24.385 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.385 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:18:24.390 -04:00 [DBG] An entity of type 'Compañium' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:18:24.390 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 08:18:24.397 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'UsuarioCliente.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:18:24.417 -04:00 [DBG] The navigation 'UsuarioCliente.RncNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:18:24.425 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:18:24.426 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 08:18:24.426 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 08:18:24.431 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 08:18:24.437 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.437 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.437 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:18:24.437 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:18:24.438 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:18:24.438 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (DbType = Date), @p4='?' (Size = 100), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000), @p7='?' (Size = 11), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioCliente] ([Apellidos], [Ciudad], [Direccion], [DOB], [Email], [FechaIngreso], [Password], [RNC], [RolId], [Telefono], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-02-08 08:18:24.448 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (DbType = Date), @p4='?' (Size = 100), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000), @p7='?' (Size = 11), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioCliente] ([Apellidos], [Ciudad], [Direccion], [DOB], [Email], [FechaIngreso], [Password], [RNC], [RolId], [Telefono], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-02-08 08:18:24.453 -04:00 [DBG] The foreign key property 'UsuarioCliente.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 08:18:24.456 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.456 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 8ms reading results.
2025-02-08 08:18:24.456 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.456 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:18:24.458 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:18:24.458 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 08:18:24.459 -04:00 [INF] Registro exitoso para el usuario: string
2025-02-08 08:18:24.476 -04:00 [INF] Operación exitosa de autenticación
2025-02-08 08:18:24.478 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3376.1322ms.
2025-02-08 08:18:24.481 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 08:18:24.482 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 08:18:24.482 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 08:18:24.482 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 08:18:24.482 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 08:18:24.482 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[GIGANTECLIENTCORE.DTO.UserClienteDTO, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-08 08:18:24.513 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) in 3573.5112ms
2025-02-08 08:18:24.513 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:18:24.513 -04:00 [DBG] Connection id "0HNA87AMJUQDV" completed keep alive response.
2025-02-08 08:18:24.514 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 08:18:24.516 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:18:24.517 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 08:18:24.518 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/register - 200 623 application/json; charset=utf-8 3649.9886ms
2025-02-08 08:18:35.987 -04:00 [INF] Application is shutting down...
2025-02-08 08:18:35.988 -04:00 [DBG] Hosting stopping
2025-02-08 08:18:35.995 -04:00 [DBG] Connection id "0HNA87AMJUQDV" disconnecting.
2025-02-08 08:18:35.996 -04:00 [DBG] Connection id "0HNA87AMJUQDV" stopped.
2025-02-08 08:18:35.996 -04:00 [DBG] Connection id "0HNA87AMJUQDV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 08:18:36.000 -04:00 [DBG] Hosting stopped
2025-02-08 08:27:59.204 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 08:27:59.256 -04:00 [DBG] Hosting starting
2025-02-08 08:27:59.259 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 08:27:59.266 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 08:27:59.268 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 08:27:59.269 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 08:27:59.269 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 08:27:59.271 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 08:27:59.272 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 08:27:59.272 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 08:27:59.272 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 08:27:59.275 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 08:27:59.276 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 08:27:59.278 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 08:27:59.278 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 08:27:59.279 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 08:27:59.279 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 08:27:59.297 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 08:27:59.298 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 08:27:59.303 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 08:27:59.303 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 08:27:59.303 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 08:27:59.303 -04:00 [INF] Hosting environment: Development
2025-02-08 08:27:59.303 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 08:27:59.303 -04:00 [DBG] Hosting started
2025-02-08 08:28:14.485 -04:00 [DBG] Connection id "0HNA87G7HD0LN" accepted.
2025-02-08 08:28:14.486 -04:00 [DBG] Connection id "0HNA87G7HD0LN" started.
2025-02-08 08:28:14.511 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/register - application/json-patch+json 212
2025-02-08 08:28:14.527 -04:00 [DBG] POST requests are not supported
2025-02-08 08:28:14.540 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2025-02-08 08:28:14.542 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2025-02-08 08:28:14.543 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:28:14.544 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 08:28:14.544 -04:00 [INF] CORS policy execution failed.
2025-02-08 08:28:14.544 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 08:28:14.545 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 08:28:14.566 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 08:28:14.567 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:28:14.578 -04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GIGANTECLIENTCORE.DTO.RegisterDTO) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 08:28:14.580 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 08:28:14.580 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 08:28:14.580 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 08:28:14.580 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 08:28:14.580 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 08:28:14.581 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 08:28:14.650 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 08:28:14.668 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 08:28:14.672 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 08:28:14.673 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' using the name '' in request data ...
2025-02-08 08:28:14.673 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 08:28:14.673 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 08:28:14.676 -04:00 [DBG] Connection id "0HNA87G7HD0LN", Request id "0HNA87G7HD0LN:00000001": started reading request body.
2025-02-08 08:28:14.676 -04:00 [DBG] Connection id "0HNA87G7HD0LN", Request id "0HNA87G7HD0LN:00000001": done reading request body.
2025-02-08 08:28:14.732 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:28:14.732 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:28:14.732 -04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 08:28:14.736 -04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:28:14.739 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 08:28:15.274 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 08:28:15.307 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Any(u => u.Email == __registerRequest_Email_0)'
2025-02-08 08:28:15.469 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UsuarioCliente AS u
            WHERE u.Email == @__registerRequest_Email_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UsuarioCliente AS u
            WHERE u.Email == @__registerRequest_Email_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-02-08 08:28:15.501 -04:00 [DBG] Creating DbConnection.
2025-02-08 08:28:15.518 -04:00 [DBG] Created DbConnection. (15ms).
2025-02-08 08:28:15.520 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:15.688 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:15.691 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:28:15.695 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 08:28:15.701 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-02-08 08:28:15.706 -04:00 [DBG] Executing DbCommand [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:28:15.741 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:28:15.749 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:15.754 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 8ms reading results.
2025-02-08 08:28:15.756 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:15.760 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (4ms).
2025-02-08 08:28:15.762 -04:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Name == "Cliente")'
2025-02-08 08:28:15.792 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Role>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
        SELECT TOP(1) r.IdRol, r.Name
        FROM Roles AS r
        WHERE r.Name == N'Cliente') | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
        SELECT TOP(1) r.IdRol, r.Name
        FROM Roles AS r
        WHERE r.Name == N'Cliente', 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Role instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Role);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Role)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<IdRol>k__BackingField = dataReader.GetInt32(0);
                                instance.<Name>k__BackingField = dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-02-08 08:28:15.794 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:15.794 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:15.795 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:28:15.795 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:15.795 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:15.795 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 08:28:15.803 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 08:28:15.827 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:15.837 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:15.837 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 33ms reading results.
2025-02-08 08:28:15.837 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:15.837 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:28:17.319 -04:00 [DBG] Context 'MyDbContext' started tracking 'Compañium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:17.323 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 08:28:17.325 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 08:28:17.339 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 08:28:17.388 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.390 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.394 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:28:17.394 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:17.394 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:17.394 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Compañia] ([RNC], [Name])
VALUES (@p0, @p1);
2025-02-08 08:28:17.413 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Compañia] ([RNC], [Name])
VALUES (@p0, @p1);
2025-02-08 08:28:17.415 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.416 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 2ms reading results.
2025-02-08 08:28:17.417 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.418 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:28:17.423 -04:00 [DBG] An entity of type 'Compañium' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:17.424 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 08:28:17.432 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'UsuarioCliente.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:17.456 -04:00 [DBG] The navigation 'UsuarioCliente.RncNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:17.465 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:17.466 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 08:28:17.466 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 08:28:17.473 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 08:28:17.482 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.482 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.482 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:28:17.482 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:17.483 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:17.483 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (DbType = Date), @p4='?' (Size = 100), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000), @p7='?' (Size = 11), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioCliente] ([Apellidos], [Ciudad], [Direccion], [DOB], [Email], [FechaIngreso], [Password], [RNC], [RolId], [Telefono], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-02-08 08:28:17.492 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (DbType = Date), @p4='?' (Size = 100), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000), @p7='?' (Size = 11), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioCliente] ([Apellidos], [Ciudad], [Direccion], [DOB], [Email], [FechaIngreso], [Password], [RNC], [RolId], [Telefono], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-02-08 08:28:17.499 -04:00 [DBG] The foreign key property 'UsuarioCliente.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 08:28:17.502 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.502 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 10ms reading results.
2025-02-08 08:28:17.502 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.502 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:28:17.504 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:17.504 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 08:28:17.506 -04:00 [INF] Registro exitoso para el usuario: string
2025-02-08 08:28:17.526 -04:00 [INF] Operación exitosa de autenticación
2025-02-08 08:28:17.529 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2788.121ms.
2025-02-08 08:28:17.533 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 08:28:17.535 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 08:28:17.535 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 08:28:17.535 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 08:28:17.535 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 08:28:17.536 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[GIGANTECLIENTCORE.DTO.UserClienteDTO, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-08 08:28:17.582 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) in 2999.1892ms
2025-02-08 08:28:17.583 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:28:17.587 -04:00 [DBG] Connection id "0HNA87G7HD0LN" completed keep alive response.
2025-02-08 08:28:17.590 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 08:28:17.594 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:17.595 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 08:28:17.596 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/register - 200 623 application/json; charset=utf-8 3086.3709ms
2025-02-08 08:28:44.344 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/register - application/json-patch+json 224
2025-02-08 08:28:44.351 -04:00 [DBG] POST requests are not supported
2025-02-08 08:28:44.353 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2025-02-08 08:28:44.353 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2025-02-08 08:28:44.353 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:28:44.353 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 08:28:44.354 -04:00 [INF] CORS policy execution failed.
2025-02-08 08:28:44.354 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 08:28:44.356 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 08:28:44.356 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:28:44.357 -04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GIGANTECLIENTCORE.DTO.RegisterDTO) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 08:28:44.357 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 08:28:44.357 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 08:28:44.357 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 08:28:44.357 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 08:28:44.357 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 08:28:44.357 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 08:28:44.359 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 08:28:44.360 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 08:28:44.360 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' using the name '' in request data ...
2025-02-08 08:28:44.360 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 08:28:44.360 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 08:28:44.360 -04:00 [DBG] Connection id "0HNA87G7HD0LN", Request id "0HNA87G7HD0LN:00000002": started reading request body.
2025-02-08 08:28:44.360 -04:00 [DBG] Connection id "0HNA87G7HD0LN", Request id "0HNA87G7HD0LN:00000002": done reading request body.
2025-02-08 08:28:44.361 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:28:44.361 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:28:44.361 -04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 08:28:44.361 -04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 08:28:44.361 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 08:28:44.379 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 08:28:44.382 -04:00 [DBG] Creating DbConnection.
2025-02-08 08:28:44.382 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 08:28:44.382 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.383 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.383 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:28:44.383 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:44.383 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:44.383 -04:00 [DBG] Executing DbCommand [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:28:44.389 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:28:44.389 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.389 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 08:28:44.389 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.389 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:28:44.390 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.390 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.390 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:28:44.390 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:44.390 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:44.390 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 08:28:44.391 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 08:28:44.392 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:44.392 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.392 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 08:28:44.392 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.392 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:28:44.561 -04:00 [DBG] Context 'MyDbContext' started tracking 'Compañium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:28:44.561 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 08:28:44.561 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 08:28:44.562 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 08:28:44.564 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.564 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.565 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:28:44.565 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:44.565 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:28:44.566 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Compañia] ([RNC], [Name])
VALUES (@p0, @p1);
2025-02-08 08:28:44.623 -04:00 [ERR] Failed executing DbCommand (56ms) [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Compañia] ([RNC], [Name])
VALUES (@p0, @p1);
2025-02-08 08:28:44.626 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.626 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:28:44.651 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'GIGANTECLIENTCORE.Context.MyDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Compañia__CAFF6951C669784F'. Cannot insert duplicate key in object 'dbo.Compañia'. The duplicate key value is (123005474).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d12f71cf-737e-4038-bc4f-1b5ebbe67b56
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Compañia__CAFF6951C669784F'. Cannot insert duplicate key in object 'dbo.Compañia'. The duplicate key value is (123005474).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d12f71cf-737e-4038-bc4f-1b5ebbe67b56
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-08 08:28:44.652 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) in 295.0415ms
2025-02-08 08:28:44.652 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 08:28:44.653 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Compañia__CAFF6951C669784F'. Cannot insert duplicate key in object 'dbo.Compañia'. The duplicate key value is (123005474).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d12f71cf-737e-4038-bc4f-1b5ebbe67b56
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at GIGANTECLIENTCORE.Controllers.AuthController.Register(RegisterDTO registerRequest) in /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE/Controllers/AuthController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-08 08:28:44.664 -04:00 [DBG] Connection id "0HNA87G7HD0LN" completed keep alive response.
2025-02-08 08:28:44.664 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 08:28:44.664 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:28:44.665 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 08:28:44.665 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/register - 500 null text/plain; charset=utf-8 320.5945ms
2025-02-08 08:30:02.092 -04:00 [INF] Application is shutting down...
2025-02-08 08:30:02.093 -04:00 [DBG] Hosting stopping
2025-02-08 08:30:02.112 -04:00 [DBG] Connection id "0HNA87G7HD0LN" disconnecting.
2025-02-08 08:30:02.113 -04:00 [DBG] Connection id "0HNA87G7HD0LN" stopped.
2025-02-08 08:30:02.113 -04:00 [DBG] Connection id "0HNA87G7HD0LN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 08:30:02.118 -04:00 [DBG] Hosting stopped
2025-02-08 08:42:21.255 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 08:42:21.303 -04:00 [DBG] Hosting starting
2025-02-08 08:42:21.306 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 08:42:21.312 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 08:42:21.314 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 08:42:21.314 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 08:42:21.315 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 08:42:21.316 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 08:42:21.318 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 08:42:21.318 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 08:42:21.318 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 08:42:21.320 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 08:42:21.321 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 08:42:21.323 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 08:42:21.323 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 08:42:21.324 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 08:42:21.324 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 08:42:21.344 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 08:42:21.345 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 08:42:21.349 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 08:42:21.350 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 08:42:21.350 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 08:42:21.350 -04:00 [INF] Hosting environment: Development
2025-02-08 08:42:21.350 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 08:42:21.350 -04:00 [DBG] Hosting started
2025-02-08 08:42:24.457 -04:00 [DBG] Connection id "0HNA87O4RBPA5" accepted.
2025-02-08 08:42:24.457 -04:00 [DBG] Connection id "0HNA87O4RBPA6" accepted.
2025-02-08 08:42:24.458 -04:00 [DBG] Connection id "0HNA87O4RBPA5" started.
2025-02-08 08:42:24.460 -04:00 [DBG] Connection id "0HNA87O4RBPA6" started.
2025-02-08 08:42:24.478 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.html - null null
2025-02-08 08:42:24.572 -04:00 [DBG] Connection id "0HNA87O4RBPA5" completed keep alive response.
2025-02-08 08:42:24.573 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.html - 200 null text/html;charset=utf-8 96.2463ms
2025-02-08 08:42:24.619 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.js - null null
2025-02-08 08:42:24.619 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/swagger-ui-bundle.js - null null
2025-02-08 08:42:24.620 -04:00 [DBG] Connection id "0HNA87O4RBPA6" completed keep alive response.
2025-02-08 08:42:24.621 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.js - 200 null application/javascript;charset=utf-8 1.4069ms
2025-02-08 08:42:24.638 -04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-02-08 08:42:24.639 -04:00 [DBG] Connection id "0HNA87O4RBPA5" completed keep alive response.
2025-02-08 08:42:24.639 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 19.5334ms
2025-02-08 08:42:24.712 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - null null
2025-02-08 08:42:24.721 -04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 08:42:24.722 -04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 08:42:24.729 -04:00 [DBG] Executing API description provider 'JsonPatchOperationsArrayProvider' from assembly Microsoft.AspNetCore.Mvc.NewtonsoftJson v9.0.1.0.
2025-02-08 08:42:24.796 -04:00 [DBG] Connection id "0HNA87O4RBPA5" completed keep alive response.
2025-02-08 08:42:24.796 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.1558ms
2025-02-08 08:42:39.814 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/1 - null null
2025-02-08 08:42:39.815 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 08:42:39.841 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/SolicitudesUsuario/1'
2025-02-08 08:42:39.841 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/SolicitudesUsuario/{id}' is valid for the request path '/api/Solicitudes/SolicitudesUsuario/1'
2025-02-08 08:42:39.842 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:42:39.844 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 08:42:39.868 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 08:42:39.869 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:42:39.881 -04:00 [INF] Route matched with {action = "GetSolicitudesUsuario", controller = "Solicitudes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSolicitudesUsuario(Int32) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 08:42:39.881 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 08:42:39.882 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 08:42:39.882 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 08:42:39.882 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 08:42:39.882 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 08:42:39.883 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 08:42:39.952 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 08:42:39.968 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 08:42:39.970 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 08:42:39.970 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 08:42:39.971 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 08:42:39.971 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 08:42:39.971 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 08:42:39.971 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 08:42:39.974 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 08:42:40.453 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 08:42:40.486 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .Where(o => o.UsuarioId == __id_0)
    .Any()'
2025-02-08 08:42:40.640 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Solicitud AS s
            WHERE s.UsuarioId == @__id_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Solicitud AS s
            WHERE s.UsuarioId == @__id_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-02-08 08:42:40.673 -04:00 [DBG] Creating DbConnection.
2025-02-08 08:42:40.690 -04:00 [DBG] Created DbConnection. (15ms).
2025-02-08 08:42:40.691 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:40.860 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:40.862 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:42:40.866 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 08:42:40.871 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-02-08 08:42:40.876 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:42:40.939 -04:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:42:40.947 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:40.952 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 9ms reading results.
2025-02-08 08:42:40.953 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:40.958 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (4ms).
2025-02-08 08:42:40.958 -04:00 [INF] No se encontraron Solitudes en el Usuario
2025-02-08 08:42:40.960 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 984.4147ms.
2025-02-08 08:42:40.961 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 08:42:40.962 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 08:42:40.962 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 08:42:40.962 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 08:42:40.962 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 08:42:40.962 -04:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-08 08:42:40.964 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) in 1080.4905ms
2025-02-08 08:42:40.964 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:42:40.964 -04:00 [DBG] Connection id "0HNA87O4RBPA5" completed keep alive response.
2025-02-08 08:42:40.965 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 08:42:40.967 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:40.968 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 08:42:40.968 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/1 - 404 null text/plain; charset=utf-8 1154.3052ms
2025-02-08 08:42:55.979 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/2 - null null
2025-02-08 08:42:55.981 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 08:42:55.984 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/SolicitudesUsuario/2'
2025-02-08 08:42:55.985 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/SolicitudesUsuario/{id}' is valid for the request path '/api/Solicitudes/SolicitudesUsuario/2'
2025-02-08 08:42:55.985 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:42:55.995 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 08:42:55.995 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:42:55.995 -04:00 [INF] Route matched with {action = "GetSolicitudesUsuario", controller = "Solicitudes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSolicitudesUsuario(Int32) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 08:42:55.995 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 08:42:55.995 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 08:42:55.995 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 08:42:55.995 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 08:42:55.995 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 08:42:55.995 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 08:42:55.996 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 08:42:55.996 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 08:42:55.996 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 08:42:55.996 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 08:42:55.996 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 08:42:55.996 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 08:42:55.996 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 08:42:55.996 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 08:42:56.013 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 08:42:56.018 -04:00 [DBG] Creating DbConnection.
2025-02-08 08:42:56.018 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 08:42:56.018 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.020 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.020 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:42:56.020 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:42:56.021 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:42:56.021 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:42:56.027 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:42:56.027 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.027 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 08:42:56.027 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.027 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:42:56.027 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.8007ms.
2025-02-08 08:42:56.027 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 08:42:56.028 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 08:42:56.028 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 08:42:56.028 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 08:42:56.028 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 08:42:56.028 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 08:42:56.031 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 08:42:56.034 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .Where(o => o.UsuarioId == __id_0)'
2025-02-08 08:42:56.045 -04:00 [DBG] Including navigation: 'Solicitud.Usuario'.
2025-02-08 08:42:56.046 -04:00 [DBG] Including navigation: 'Solicitud.DetalleSolicituds'.
2025-02-08 08:42:56.049 -04:00 [DBG] Including navigation: 'DetalleSolicitud.Producto'.
2025-02-08 08:42:56.142 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Solicitud>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> 15
            7 -> 19
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s0.IdDetalle, s0.Cantidad, s0.IdSolicitud, s0.ProductoId, s0.Codigo, s0.CategoriaId, s0.ImageUrl, s0.Marca, s0.Nombre, s0.Stock, s0.SubCategoriaId
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
        ) AS s0 ON s.IdSolicitud == s0.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s0.IdDetalle ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> 15
            7 -> 19
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s0.IdDetalle, s0.Cantidad, s0.IdSolicitud, s0.ProductoId, s0.Codigo, s0.CategoriaId, s0.ImageUrl, s0.Marca, s0.Nombre, s0.Stock, s0.SubCategoriaId
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
        ) AS s0 ON s.IdSolicitud == s0.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s0.IdDetalle ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Solicitud entity;
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Solicitud instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Solicitud);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Solicitud.IdSolicitud PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Solicitud)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]: 
                            {
                                return 
                                {
                                    Solicitud instance;
                                    instance = new Solicitud();
                                    instance.<IdSolicitud>k__BackingField = dataReader.GetInt32(0);
                                    instance.<FechaSolicitud>k__BackingField = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Solicitud)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                UsuarioCliente instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(UsuarioCliente);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (UsuarioCliente)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
                                    instance.<Email>k__BackingField = dataReader.GetString(8);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<UserName>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Solicitud, Solicitud, UsuarioCliente>(
                queryContext: queryContext, 
                entity: (Solicitud)(resultContext.Values[0]), 
                relatedEntity: (UsuarioCliente)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.Usuario (UsuarioCliente) ToPrincipal UsuarioCliente Inverse: Solicituds | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("Usuario")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Solicituds (ICollection<Solicitud>) Collection ToDependent Solicitud Inverse: Usuario | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Usuario>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<UsuarioCliente, ICollection<Solicitud>, Solicitud> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Solicitud, Solicitud>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Solicitud)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: IdSolicitudNavigation | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Solicitud, DetalleSolicitud>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19) 
            }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                DetalleSolicitud entity;
                Producto entity;
                entity = 
                {
                    MaterializationContext materializationContext3;
                    IEntityType entityType3;
                    DetalleSolicitud instance3;
                    InternalEntityEntry entry3;
                    bool hasNullKey3;
                    materializationContext3 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance3 = default(DetalleSolicitud);
                    entry3 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: DetalleSolicitud.IdDetalle PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetInt32(15) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey3);
                    !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                    {
                        entityType3 = entry3.EntityType;
                        return instance3 = (DetalleSolicitud)entry3.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot3;
                        shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType3 = [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")];
                        instance3 = switch (entityType3)
                        {
                            case [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]: 
                                {
                                    return 
                                    {
                                        DetalleSolicitud instance;
                                        instance = new DetalleSolicitud();
                                        instance.<IdDetalle>k__BackingField = dataReader.IsDBNull(15) ? default(int) : dataReader.GetInt32(15);
                                        instance.<Cantidad>k__BackingField = dataReader.IsDBNull(16) ? default(int) : dataReader.GetInt32(16);
                                        instance.<IdSolicitud>k__BackingField = dataReader.IsDBNull(17) ? default(int) : dataReader.GetInt32(17);
                                        instance.<ProductoId>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext3.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(DetalleSolicitud)
                        }
                        ;
                        entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType3, 
                            entity: instance3, 
                            snapshot: shadowSnapshot3);
                        return instance3;
                    } : default(void);
                    return instance3;
                };
                entity = 
                {
                    MaterializationContext materializationContext4;
                    IEntityType entityType4;
                    Producto instance4;
                    InternalEntityEntry entry4;
                    bool hasNullKey4;
                    materializationContext4 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance4 = default(Producto);
                    entry4 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(19) ? default(object) : (object)dataReader.GetInt32(19) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey4);
                    !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                    {
                        entityType4 = entry4.EntityType;
                        return instance4 = (Producto)entry4.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot4;
                        shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType4 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                        instance4 = switch (entityType4)
                        {
                            case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                                {
                                    return 
                                    {
                                        Producto instance;
                                        instance = new Producto();
                                        instance.<Codigo>k__BackingField = dataReader.IsDBNull(19) ? default(int) : dataReader.GetInt32(19);
                                        instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(20) ? default(int?) : (int?)dataReader.GetInt32(20);
                                        instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                        instance.<Marca>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                        instance.<Nombre>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                        instance.<Stock>k__BackingField = dataReader.IsDBNull(24) ? default(bool?) : (bool?)dataReader.GetBoolean(24);
                                        instance.<SubCategoriaId>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext4.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Producto)
                        }
                        ;
                        entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType4, 
                            entity: instance4, 
                            snapshot: shadowSnapshot4);
                        return instance4;
                    } : default(void);
                    return instance4;
                };
                ShaperProcessingExpressionVisitor.IncludeReference<DetalleSolicitud, DetalleSolicitud, Producto>(
                    queryContext: queryContext, 
                    entity: entity, 
                    relatedEntity: entity, 
                    navigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.Producto (Producto) ToPrincipal Producto Inverse: DetalleSolicituds | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("Producto")], 
                    inverseNavigation: [LIFTABLE Constant: Navigation: Producto.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: Producto | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds")], 
                    fixup: (namelessParameter{21}, namelessParameter{22}) => 
                    {
                        namelessParameter{21}.<Producto>k__BackingField = namelessParameter{22};
                        return [LIFTABLE Constant: ClrICollectionAccessor<Producto, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                            entity: namelessParameter{22}, 
                            value: namelessParameter{21}, 
                            forMaterialization: True);
                    }, 
                    trackingQuery: True);
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.IdSolicitudNavigation (Solicitud) ToPrincipal Solicitud Inverse: DetalleSolicituds | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("IdSolicitudNavigation")], 
            fixup: (namelessParameter{25}, namelessParameter{26}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                    entity: namelessParameter{25}, 
                    value: namelessParameter{26}, 
                    forMaterialization: True);
                return namelessParameter{26}.<IdSolicitudNavigation>k__BackingField = namelessParameter{25};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Solicitud)(resultContext.Values[0]) : default(Solicitud);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 08:42:56.154 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.155 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.155 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:42:56.155 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:42:56.155 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:42:56.155 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[IdDetalle], [s0].[Cantidad], [s0].[IdSolicitud], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
) AS [s0] ON [s].[IdSolicitud] = [s0].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s0].[IdDetalle]
2025-02-08 08:42:56.184 -04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[IdDetalle], [s0].[Cantidad], [s0].[IdSolicitud], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
) AS [s0] ON [s].[IdSolicitud] = [s0].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s0].[IdDetalle]
2025-02-08 08:42:56.209 -04:00 [DBG] Context 'MyDbContext' started tracking 'Solicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.229 -04:00 [DBG] The navigation 'Solicitud.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.235 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.253 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.255 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.259 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.265 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.265 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.265 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:42:56.267 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.267 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 82ms reading results.
2025-02-08 08:42:56.268 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.269 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:42:56.353 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) in 358.0135ms
2025-02-08 08:42:56.354 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:42:56.355 -04:00 [DBG] Connection id "0HNA87O4RBPA5" completed keep alive response.
2025-02-08 08:42:56.355 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 08:42:56.355 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:42:56.355 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 08:42:56.355 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/2 - 200 1103 application/json; charset=utf-8 375.5767ms
2025-02-08 08:44:11.456 -04:00 [DBG] Connection id "0HNA87O4RBPA6" received FIN.
2025-02-08 08:44:11.460 -04:00 [DBG] Connection id "0HNA87O4RBPA5" received FIN.
2025-02-08 08:44:11.461 -04:00 [DBG] Connection id "0HNA87O4RBPA6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 08:44:11.461 -04:00 [DBG] Connection id "0HNA87O4RBPA5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 08:44:11.461 -04:00 [DBG] Connection id "0HNA87O4RBPA5" disconnecting.
2025-02-08 08:44:11.461 -04:00 [DBG] Connection id "0HNA87O4RBPA6" disconnecting.
2025-02-08 08:44:11.463 -04:00 [DBG] Connection id "0HNA87O4RBPA5" stopped.
2025-02-08 08:44:11.463 -04:00 [DBG] Connection id "0HNA87O4RBPA6" stopped.
2025-02-08 08:44:32.977 -04:00 [DBG] Connection id "0HNA87O4RBPA7" accepted.
2025-02-08 08:44:32.978 -04:00 [DBG] Connection id "0HNA87O4RBPA7" started.
2025-02-08 08:44:32.979 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/2 - null null
2025-02-08 08:44:32.979 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 08:44:32.980 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/SolicitudesUsuario/2'
2025-02-08 08:44:32.980 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/SolicitudesUsuario/{id}' is valid for the request path '/api/Solicitudes/SolicitudesUsuario/2'
2025-02-08 08:44:32.980 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:44:32.981 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 08:44:32.982 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:44:32.984 -04:00 [INF] Route matched with {action = "GetSolicitudesUsuario", controller = "Solicitudes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSolicitudesUsuario(Int32) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 08:44:32.984 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 08:44:32.984 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 08:44:32.984 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 08:44:32.984 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 08:44:32.984 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 08:44:32.984 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 08:44:32.987 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 08:44:32.987 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 08:44:32.987 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 08:44:32.987 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 08:44:32.987 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 08:44:32.987 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 08:44:32.987 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 08:44:32.987 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 08:44:33.024 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 08:44:33.025 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(l => l.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)
    .Any()'
2025-02-08 08:44:33.027 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Solicitud AS s
            WHERE s.UsuarioId == @__id_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Solicitud AS s
            WHERE s.UsuarioId == @__id_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-02-08 08:44:33.028 -04:00 [DBG] Creating DbConnection.
2025-02-08 08:44:33.028 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 08:44:33.028 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.029 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.029 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:44:33.029 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:44:33.029 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:44:33.029 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:44:33.041 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 08:44:33.041 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.041 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 08:44:33.041 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.041 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:44:33.041 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 53.899ms.
2025-02-08 08:44:33.041 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 08:44:33.041 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 08:44:33.041 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 08:44:33.041 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 08:44:33.041 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 08:44:33.041 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 08:44:33.042 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 08:44:33.042 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(l => l.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)'
2025-02-08 08:44:33.042 -04:00 [DBG] Including navigation: 'Solicitud.Usuario'.
2025-02-08 08:44:33.042 -04:00 [DBG] Including navigation: 'Solicitud.DetalleSolicituds'.
2025-02-08 08:44:33.042 -04:00 [DBG] Including navigation: 'DetalleSolicitud.Producto'.
2025-02-08 08:44:33.044 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 08:44:33.044 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 08:44:33.054 -04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-08 08:44:33.068 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Solicitud>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 26], [Property: Categorium.Nombre (string) Required MaxLength(100), 27] }
            7 -> 15
            8 -> 19
            9 -> 26
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: SubCategorium.CategoriaId (int) Required FK Index, 29], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 30] }
            11 -> 28
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s1.IdDetalle, s1.Cantidad, s1.IdSolicitud, s1.ProductoId, s1.Codigo, s1.CategoriaId, s1.ImageUrl, s1.Marca, s1.Nombre, s1.Stock, s1.SubCategoriaId, s1.Id, s1.Nombre0, s1.Id0, s1.CategoriaId0, s1.Nombre1
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0, s0.Id AS Id0, s0.CategoriaId AS CategoriaId0, s0.Nombre AS Nombre1
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
            LEFT JOIN SubCategoria AS s0 ON c.Id == s0.CategoriaId
        ) AS s1 ON s.IdSolicitud == s1.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s1.IdDetalle ASC, s1.Codigo ASC, s1.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 26], [Property: Categorium.Nombre (string) Required MaxLength(100), 27] }
            7 -> 15
            8 -> 19
            9 -> 26
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: SubCategorium.CategoriaId (int) Required FK Index, 29], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 30] }
            11 -> 28
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s1.IdDetalle, s1.Cantidad, s1.IdSolicitud, s1.ProductoId, s1.Codigo, s1.CategoriaId, s1.ImageUrl, s1.Marca, s1.Nombre, s1.Stock, s1.SubCategoriaId, s1.Id, s1.Nombre0, s1.Id0, s1.CategoriaId0, s1.Nombre1
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0, s0.Id AS Id0, s0.CategoriaId AS CategoriaId0, s0.Nombre AS Nombre1
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
            LEFT JOIN SubCategoria AS s0 ON c.Id == s0.CategoriaId
        ) AS s1 ON s.IdSolicitud == s1.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s1.IdDetalle ASC, s1.Codigo ASC, s1.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Solicitud entity;
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Solicitud instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Solicitud);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Solicitud.IdSolicitud PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Solicitud)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]: 
                            {
                                return 
                                {
                                    Solicitud instance;
                                    instance = new Solicitud();
                                    instance.<IdSolicitud>k__BackingField = dataReader.GetInt32(0);
                                    instance.<FechaSolicitud>k__BackingField = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Solicitud)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                UsuarioCliente instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(UsuarioCliente);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (UsuarioCliente)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
                                    instance.<Email>k__BackingField = dataReader.GetString(8);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<UserName>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Solicitud, Solicitud, UsuarioCliente>(
                queryContext: queryContext, 
                entity: (Solicitud)(resultContext.Values[0]), 
                relatedEntity: (UsuarioCliente)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.Usuario (UsuarioCliente) ToPrincipal UsuarioCliente Inverse: Solicituds | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("Usuario")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Solicituds (ICollection<Solicitud>) Collection ToDependent Solicitud Inverse: Usuario | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Usuario>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<UsuarioCliente, ICollection<Solicitud>, Solicitud> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Solicitud, Solicitud>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Solicitud)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: IdSolicitudNavigation | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Solicitud, DetalleSolicitud>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
            }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    DetalleSolicitud entity;
                    Producto entity;
                    Categorium entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        DetalleSolicitud instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(DetalleSolicitud);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleSolicitud.IdDetalle PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetInt32(15) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (DetalleSolicitud)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]: 
                                    {
                                        return 
                                        {
                                            DetalleSolicitud instance;
                                            instance = new DetalleSolicitud();
                                            instance.<IdDetalle>k__BackingField = dataReader.IsDBNull(15) ? default(int) : dataReader.GetInt32(15);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(16) ? default(int) : dataReader.GetInt32(16);
                                            instance.<IdSolicitud>k__BackingField = dataReader.IsDBNull(17) ? default(int) : dataReader.GetInt32(17);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleSolicitud)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext4;
                        IEntityType entityType4;
                        Producto instance4;
                        InternalEntityEntry entry4;
                        bool hasNullKey4;
                        materializationContext4 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance4 = default(Producto);
                        entry4 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(19) ? default(object) : (object)dataReader.GetInt32(19) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey4);
                        !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                        {
                            entityType4 = entry4.EntityType;
                            return instance4 = (Producto)entry4.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot4;
                            shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType4 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                            instance4 = switch (entityType4)
                            {
                                case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                                    {
                                        return 
                                        {
                                            Producto instance;
                                            instance = new Producto();
                                            instance.<Codigo>k__BackingField = dataReader.IsDBNull(19) ? default(int) : dataReader.GetInt32(19);
                                            instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(20) ? default(int?) : (int?)dataReader.GetInt32(20);
                                            instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                            instance.<Marca>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                            instance.<Stock>k__BackingField = dataReader.IsDBNull(24) ? default(bool?) : (bool?)dataReader.GetBoolean(24);
                                            instance.<SubCategoriaId>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext4.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Producto)
                            }
                            ;
                            entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType4, 
                                entity: instance4, 
                                snapshot: shadowSnapshot4);
                            return instance4;
                        } : default(void);
                        return instance4;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext5;
                        IEntityType entityType5;
                        Categorium instance5;
                        InternalEntityEntry entry5;
                        bool hasNullKey5;
                        materializationContext5 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance5 = default(Categorium);
                        entry5 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(26) ? default(object) : (object)dataReader.GetInt32(26) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey5);
                        !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                        {
                            entityType5 = entry5.EntityType;
                            return instance5 = (Categorium)entry5.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot5;
                            shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType5 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                            instance5 = switch (entityType5)
                            {
                                case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                                    {
                                        return 
                                        {
                                            Categorium instance;
                                            instance = new Categorium();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(26) ? default(int) : dataReader.GetInt32(26);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext5.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Categorium)
                            }
                            ;
                            entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType5, 
                                entity: instance5, 
                                snapshot: shadowSnapshot5);
                            return instance5;
                        } : default(void);
                        return instance5;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                        collectionId: 1, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Categorium)(resultContext.Values[2]), 
                        parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                            (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                            (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                        }], 
                        outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                            (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                            (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                        }], 
                        navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                        queryContext: queryContext, 
                        entity: (Producto)(resultContext.Values[1]), 
                        relatedEntity: (Categorium)(resultContext.Values[2]), 
                        navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                        fixup: (namelessParameter{26}, namelessParameter{27}) => 
                        {
                            namelessParameter{26}.<Categoria>k__BackingField = namelessParameter{27};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                                entity: namelessParameter{27}, 
                                value: namelessParameter{26}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<DetalleSolicitud, DetalleSolicitud, Producto>(
                        queryContext: queryContext, 
                        entity: (DetalleSolicitud)(resultContext.Values[0]), 
                        relatedEntity: (Producto)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.Producto (Producto) ToPrincipal Producto Inverse: DetalleSolicituds | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("Producto")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Producto.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: Producto | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds")], 
                        fixup: (namelessParameter{31}, namelessParameter{32}) => 
                        {
                            namelessParameter{31}.<Producto>k__BackingField = namelessParameter{32};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Producto, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                                entity: namelessParameter{32}, 
                                value: namelessParameter{31}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
                    collectionId: 1, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                        (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                        (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                        (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                        (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                    }], 
                    selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        SubCategorium entity;
                        entity = 
                        {
                            MaterializationContext materializationContext6;
                            IEntityType entityType6;
                            SubCategorium instance6;
                            InternalEntityEntry entry6;
                            bool hasNullKey6;
                            materializationContext6 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance6 = default(SubCategorium);
                            entry6 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey6);
                            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                            {
                                entityType6 = entry6.EntityType;
                                return instance6 = (SubCategorium)entry6.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot6;
                                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType6 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                                instance6 = switch (entityType6)
                                {
                                    case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                        {
                                            return 
                                            {
                                                SubCategorium instance;
                                                instance = new SubCategorium();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                                instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                                instance.<Nombre>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext6.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(SubCategorium)
                                }
                                ;
                                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType6, 
                                    entity: instance6, 
                                    snapshot: shadowSnapshot6);
                                return instance6;
                            } : default(void);
                            return instance6;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
                    fixup: (namelessParameter{38}, namelessParameter{39}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                            entity: namelessParameter{38}, 
                            value: namelessParameter{39}, 
                            forMaterialization: True);
                        return namelessParameter{39}.<Categoria>k__BackingField = namelessParameter{38};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (DetalleSolicitud)(resultContext.Values[0]) : default(DetalleSolicitud);
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.IdSolicitudNavigation (Solicitud) ToPrincipal Solicitud Inverse: DetalleSolicituds | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("IdSolicitudNavigation")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                    entity: namelessParameter{42}, 
                    value: namelessParameter{43}, 
                    forMaterialization: True);
                return namelessParameter{43}.<IdSolicitudNavigation>k__BackingField = namelessParameter{42};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Solicitud)(resultContext.Values[0]) : default(Solicitud);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 08:44:33.071 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.071 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.071 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 08:44:33.071 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:44:33.071 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 08:44:33.071 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 08:44:33.101 -04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 08:44:33.101 -04:00 [DBG] Context 'MyDbContext' started tracking 'Solicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.102 -04:00 [DBG] The navigation 'Solicitud.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.102 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.105 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.105 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.105 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.109 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.110 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.114 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.114 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.115 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.115 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.115 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.116 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.116 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.116 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.116 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 08:44:33.116 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.116 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 14ms reading results.
2025-02-08 08:44:33.116 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.116 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 08:44:33.118 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) in 133.9445ms
2025-02-08 08:44:33.118 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 08:44:33.118 -04:00 [DBG] Connection id "0HNA87O4RBPA7" completed keep alive response.
2025-02-08 08:44:33.118 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 08:44:33.118 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 08:44:33.118 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 08:44:33.118 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/2 - 200 1589 application/json; charset=utf-8 139.6747ms
2025-02-08 08:44:36.452 -04:00 [DBG] Connection id "0HNA87O4RBPA7" received FIN.
2025-02-08 08:44:36.452 -04:00 [DBG] Connection id "0HNA87O4RBPA7" disconnecting.
2025-02-08 08:44:36.452 -04:00 [DBG] Connection id "0HNA87O4RBPA7" stopped.
2025-02-08 08:44:36.453 -04:00 [DBG] Connection id "0HNA87O4RBPA7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 08:56:45.054 -04:00 [INF] Application is shutting down...
2025-02-08 08:56:45.057 -04:00 [DBG] Hosting stopping
2025-02-08 08:56:45.069 -04:00 [DBG] Hosting stopped
2025-02-08 17:12:33.121 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 17:12:33.168 -04:00 [DBG] Hosting starting
2025-02-08 17:12:33.173 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 17:12:33.178 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 17:12:33.180 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 17:12:33.181 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 17:12:33.181 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 17:12:33.183 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 17:12:33.184 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 17:12:33.184 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 17:12:33.184 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 17:12:33.187 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 17:12:33.188 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 17:12:33.190 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 17:12:33.190 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 17:12:33.191 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 17:12:33.192 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 17:12:33.211 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 17:12:33.213 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 17:12:33.218 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 17:12:33.218 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 17:12:33.218 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 17:12:33.218 -04:00 [INF] Hosting environment: Development
2025-02-08 17:12:33.218 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 17:12:33.218 -04:00 [DBG] Hosting started
2025-02-08 17:12:48.018 -04:00 [DBG] Connection id "0HNA8GLBCCTD1" accepted.
2025-02-08 17:12:48.019 -04:00 [DBG] Connection id "0HNA8GLBCCTD1" started.
2025-02-08 17:12:48.043 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/2 - null null
2025-02-08 17:12:48.064 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 17:12:48.077 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/SolicitudesUsuario/2'
2025-02-08 17:12:48.079 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/SolicitudesUsuario/{id}' is valid for the request path '/api/Solicitudes/SolicitudesUsuario/2'
2025-02-08 17:12:48.080 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 17:12:48.081 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 17:12:48.104 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:12:48.105 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 17:12:48.114 -04:00 [INF] Route matched with {action = "GetSolicitudesUsuario", controller = "Solicitudes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSolicitudesUsuario(Int32) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 17:12:48.116 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:12:48.116 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:12:48.116 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:12:48.116 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:12:48.116 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:12:48.117 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 17:12:48.196 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 17:12:48.214 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 17:12:48.218 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 17:12:48.218 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 17:12:48.218 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 17:12:48.218 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 17:12:48.218 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 17:12:48.219 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 17:12:48.222 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:12:48.718 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 17:12:48.759 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(l => l.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)
    .Any()'
2025-02-08 17:12:48.920 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Solicitud AS s
            WHERE s.UsuarioId == @__id_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Solicitud AS s
            WHERE s.UsuarioId == @__id_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-02-08 17:12:48.952 -04:00 [DBG] Creating DbConnection.
2025-02-08 17:12:48.969 -04:00 [DBG] Created DbConnection. (14ms).
2025-02-08 17:12:48.970 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.137 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.140 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:12:49.144 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 17:12:49.149 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-02-08 17:12:49.154 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 17:12:49.202 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 17:12:49.210 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.216 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 9ms reading results.
2025-02-08 17:12:49.217 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.221 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (4ms).
2025-02-08 17:12:49.224 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1000.0487ms.
2025-02-08 17:12:49.226 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 17:12:49.227 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 17:12:49.227 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 17:12:49.227 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 17:12:49.227 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 17:12:49.227 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 17:12:49.230 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 17:12:49.233 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(l => l.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)'
2025-02-08 17:12:49.241 -04:00 [DBG] Including navigation: 'Solicitud.Usuario'.
2025-02-08 17:12:49.242 -04:00 [DBG] Including navigation: 'Solicitud.DetalleSolicituds'.
2025-02-08 17:12:49.243 -04:00 [DBG] Including navigation: 'DetalleSolicitud.Producto'.
2025-02-08 17:12:49.244 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 17:12:49.244 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 17:12:49.322 -04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-08 17:12:49.342 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Solicitud>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 26], [Property: Categorium.Nombre (string) Required MaxLength(100), 27] }
            7 -> 15
            8 -> 19
            9 -> 26
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: SubCategorium.CategoriaId (int) Required FK Index, 29], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 30] }
            11 -> 28
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s1.IdDetalle, s1.Cantidad, s1.IdSolicitud, s1.ProductoId, s1.Codigo, s1.CategoriaId, s1.ImageUrl, s1.Marca, s1.Nombre, s1.Stock, s1.SubCategoriaId, s1.Id, s1.Nombre0, s1.Id0, s1.CategoriaId0, s1.Nombre1
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0, s0.Id AS Id0, s0.CategoriaId AS CategoriaId0, s0.Nombre AS Nombre1
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
            LEFT JOIN SubCategoria AS s0 ON c.Id == s0.CategoriaId
        ) AS s1 ON s.IdSolicitud == s1.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s1.IdDetalle ASC, s1.Codigo ASC, s1.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 26], [Property: Categorium.Nombre (string) Required MaxLength(100), 27] }
            7 -> 15
            8 -> 19
            9 -> 26
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: SubCategorium.CategoriaId (int) Required FK Index, 29], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 30] }
            11 -> 28
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s1.IdDetalle, s1.Cantidad, s1.IdSolicitud, s1.ProductoId, s1.Codigo, s1.CategoriaId, s1.ImageUrl, s1.Marca, s1.Nombre, s1.Stock, s1.SubCategoriaId, s1.Id, s1.Nombre0, s1.Id0, s1.CategoriaId0, s1.Nombre1
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0, s0.Id AS Id0, s0.CategoriaId AS CategoriaId0, s0.Nombre AS Nombre1
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
            LEFT JOIN SubCategoria AS s0 ON c.Id == s0.CategoriaId
        ) AS s1 ON s.IdSolicitud == s1.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s1.IdDetalle ASC, s1.Codigo ASC, s1.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Solicitud entity;
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Solicitud instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Solicitud);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Solicitud.IdSolicitud PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Solicitud)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]: 
                            {
                                return 
                                {
                                    Solicitud instance;
                                    instance = new Solicitud();
                                    instance.<IdSolicitud>k__BackingField = dataReader.GetInt32(0);
                                    instance.<FechaSolicitud>k__BackingField = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Solicitud)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                UsuarioCliente instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(UsuarioCliente);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (UsuarioCliente)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
                                    instance.<Email>k__BackingField = dataReader.GetString(8);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<UserName>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Solicitud, Solicitud, UsuarioCliente>(
                queryContext: queryContext, 
                entity: (Solicitud)(resultContext.Values[0]), 
                relatedEntity: (UsuarioCliente)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.Usuario (UsuarioCliente) ToPrincipal UsuarioCliente Inverse: Solicituds | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("Usuario")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Solicituds (ICollection<Solicitud>) Collection ToDependent Solicitud Inverse: Usuario | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Usuario>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<UsuarioCliente, ICollection<Solicitud>, Solicitud> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Solicitud, Solicitud>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Solicitud)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: IdSolicitudNavigation | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Solicitud, DetalleSolicitud>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
            }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    DetalleSolicitud entity;
                    Producto entity;
                    Categorium entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        DetalleSolicitud instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(DetalleSolicitud);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleSolicitud.IdDetalle PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetInt32(15) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (DetalleSolicitud)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]: 
                                    {
                                        return 
                                        {
                                            DetalleSolicitud instance;
                                            instance = new DetalleSolicitud();
                                            instance.<IdDetalle>k__BackingField = dataReader.IsDBNull(15) ? default(int) : dataReader.GetInt32(15);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(16) ? default(int) : dataReader.GetInt32(16);
                                            instance.<IdSolicitud>k__BackingField = dataReader.IsDBNull(17) ? default(int) : dataReader.GetInt32(17);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleSolicitud)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext4;
                        IEntityType entityType4;
                        Producto instance4;
                        InternalEntityEntry entry4;
                        bool hasNullKey4;
                        materializationContext4 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance4 = default(Producto);
                        entry4 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(19) ? default(object) : (object)dataReader.GetInt32(19) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey4);
                        !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                        {
                            entityType4 = entry4.EntityType;
                            return instance4 = (Producto)entry4.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot4;
                            shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType4 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                            instance4 = switch (entityType4)
                            {
                                case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                                    {
                                        return 
                                        {
                                            Producto instance;
                                            instance = new Producto();
                                            instance.<Codigo>k__BackingField = dataReader.IsDBNull(19) ? default(int) : dataReader.GetInt32(19);
                                            instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(20) ? default(int?) : (int?)dataReader.GetInt32(20);
                                            instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                            instance.<Marca>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                            instance.<Stock>k__BackingField = dataReader.IsDBNull(24) ? default(bool?) : (bool?)dataReader.GetBoolean(24);
                                            instance.<SubCategoriaId>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext4.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Producto)
                            }
                            ;
                            entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType4, 
                                entity: instance4, 
                                snapshot: shadowSnapshot4);
                            return instance4;
                        } : default(void);
                        return instance4;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext5;
                        IEntityType entityType5;
                        Categorium instance5;
                        InternalEntityEntry entry5;
                        bool hasNullKey5;
                        materializationContext5 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance5 = default(Categorium);
                        entry5 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(26) ? default(object) : (object)dataReader.GetInt32(26) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey5);
                        !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                        {
                            entityType5 = entry5.EntityType;
                            return instance5 = (Categorium)entry5.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot5;
                            shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType5 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                            instance5 = switch (entityType5)
                            {
                                case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                                    {
                                        return 
                                        {
                                            Categorium instance;
                                            instance = new Categorium();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(26) ? default(int) : dataReader.GetInt32(26);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext5.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Categorium)
                            }
                            ;
                            entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType5, 
                                entity: instance5, 
                                snapshot: shadowSnapshot5);
                            return instance5;
                        } : default(void);
                        return instance5;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                        collectionId: 1, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Categorium)(resultContext.Values[2]), 
                        parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                            (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                            (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                        }], 
                        outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                            (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                            (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                        }], 
                        navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                        queryContext: queryContext, 
                        entity: (Producto)(resultContext.Values[1]), 
                        relatedEntity: (Categorium)(resultContext.Values[2]), 
                        navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                        fixup: (namelessParameter{26}, namelessParameter{27}) => 
                        {
                            namelessParameter{26}.<Categoria>k__BackingField = namelessParameter{27};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                                entity: namelessParameter{27}, 
                                value: namelessParameter{26}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<DetalleSolicitud, DetalleSolicitud, Producto>(
                        queryContext: queryContext, 
                        entity: (DetalleSolicitud)(resultContext.Values[0]), 
                        relatedEntity: (Producto)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.Producto (Producto) ToPrincipal Producto Inverse: DetalleSolicituds | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("Producto")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Producto.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: Producto | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds")], 
                        fixup: (namelessParameter{31}, namelessParameter{32}) => 
                        {
                            namelessParameter{31}.<Producto>k__BackingField = namelessParameter{32};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Producto, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                                entity: namelessParameter{32}, 
                                value: namelessParameter{31}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
                    collectionId: 1, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                        (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                        (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                        (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                        (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                    }], 
                    selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        SubCategorium entity;
                        entity = 
                        {
                            MaterializationContext materializationContext6;
                            IEntityType entityType6;
                            SubCategorium instance6;
                            InternalEntityEntry entry6;
                            bool hasNullKey6;
                            materializationContext6 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance6 = default(SubCategorium);
                            entry6 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey6);
                            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                            {
                                entityType6 = entry6.EntityType;
                                return instance6 = (SubCategorium)entry6.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot6;
                                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType6 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                                instance6 = switch (entityType6)
                                {
                                    case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                        {
                                            return 
                                            {
                                                SubCategorium instance;
                                                instance = new SubCategorium();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                                instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                                instance.<Nombre>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext6.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(SubCategorium)
                                }
                                ;
                                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType6, 
                                    entity: instance6, 
                                    snapshot: shadowSnapshot6);
                                return instance6;
                            } : default(void);
                            return instance6;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
                    fixup: (namelessParameter{38}, namelessParameter{39}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                            entity: namelessParameter{38}, 
                            value: namelessParameter{39}, 
                            forMaterialization: True);
                        return namelessParameter{39}.<Categoria>k__BackingField = namelessParameter{38};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (DetalleSolicitud)(resultContext.Values[0]) : default(DetalleSolicitud);
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.IdSolicitudNavigation (Solicitud) ToPrincipal Solicitud Inverse: DetalleSolicituds | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("IdSolicitudNavigation")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                    entity: namelessParameter{42}, 
                    value: namelessParameter{43}, 
                    forMaterialization: True);
                return namelessParameter{43}.<IdSolicitudNavigation>k__BackingField = namelessParameter{42};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Solicitud)(resultContext.Values[0]) : default(Solicitud);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 17:12:49.351 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.353 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.353 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:12:49.353 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:12:49.353 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:12:49.354 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 17:12:49.386 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 17:12:49.409 -04:00 [DBG] Context 'MyDbContext' started tracking 'Solicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.428 -04:00 [DBG] The navigation 'Solicitud.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.435 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.453 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.456 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.460 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.468 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.469 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.472 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.473 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.475 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.475 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.475 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.475 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.475 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.475 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.475 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:12:49.477 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.477 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 91ms reading results.
2025-02-08 17:12:49.478 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.478 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 17:12:49.550 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) in 1432.0723ms
2025-02-08 17:12:49.551 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 17:12:49.554 -04:00 [DBG] Connection id "0HNA8GLBCCTD1" completed keep alive response.
2025-02-08 17:12:49.557 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 17:12:49.560 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:12:49.561 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 17:12:49.562 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/2 - 200 1547 application/json; charset=utf-8 1520.5302ms
2025-02-08 17:12:52.146 -04:00 [DBG] Connection id "0HNA8GLBCCTD1" received FIN.
2025-02-08 17:12:52.147 -04:00 [DBG] Connection id "0HNA8GLBCCTD1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:12:52.148 -04:00 [DBG] Connection id "0HNA8GLBCCTD1" disconnecting.
2025-02-08 17:12:52.150 -04:00 [DBG] Connection id "0HNA8GLBCCTD1" stopped.
2025-02-08 17:22:59.057 -04:00 [INF] Application is shutting down...
2025-02-08 17:22:59.059 -04:00 [DBG] Hosting stopping
2025-02-08 17:22:59.074 -04:00 [DBG] Hosting stopped
2025-02-08 17:32:25.748 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 17:32:25.798 -04:00 [DBG] Hosting starting
2025-02-08 17:32:25.801 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 17:32:25.807 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 17:32:25.809 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 17:32:25.809 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 17:32:25.810 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 17:32:25.811 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 17:32:25.813 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 17:32:25.813 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 17:32:25.813 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 17:32:25.815 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 17:32:25.816 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 17:32:25.818 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 17:32:25.818 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 17:32:25.819 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 17:32:25.819 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 17:32:25.838 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 17:32:25.839 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 17:32:25.844 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 17:32:25.844 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 17:32:25.844 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 17:32:25.844 -04:00 [INF] Hosting environment: Development
2025-02-08 17:32:25.844 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 17:32:25.844 -04:00 [DBG] Hosting started
2025-02-08 17:32:29.800 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" accepted.
2025-02-08 17:32:29.801 -04:00 [DBG] Connection id "0HNA8H0BIO7N4" accepted.
2025-02-08 17:32:29.801 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" started.
2025-02-08 17:32:29.801 -04:00 [DBG] Connection id "0HNA8H0BIO7N4" started.
2025-02-08 17:32:29.826 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.html - null null
2025-02-08 17:32:29.933 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" completed keep alive response.
2025-02-08 17:32:29.935 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.html - 200 null text/html;charset=utf-8 112.4855ms
2025-02-08 17:32:29.975 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.js - null null
2025-02-08 17:32:29.976 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" completed keep alive response.
2025-02-08 17:32:29.976 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.js - 200 null application/javascript;charset=utf-8 1.4392ms
2025-02-08 17:32:30.064 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - null null
2025-02-08 17:32:30.072 -04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 17:32:30.073 -04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 17:32:30.077 -04:00 [DBG] Executing API description provider 'JsonPatchOperationsArrayProvider' from assembly Microsoft.AspNetCore.Mvc.NewtonsoftJson v9.0.1.0.
2025-02-08 17:32:30.137 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" completed keep alive response.
2025-02-08 17:32:30.137 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.8501ms
2025-02-08 17:32:30.823 -04:00 [DBG] Connection id "0HNA8H0BIO7N4" received FIN.
2025-02-08 17:32:30.825 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" received FIN.
2025-02-08 17:32:30.832 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" disconnecting.
2025-02-08 17:32:30.833 -04:00 [DBG] Connection id "0HNA8H0BIO7N4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:32:30.834 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:32:30.839 -04:00 [DBG] Connection id "0HNA8H0BIO7N4" disconnecting.
2025-02-08 17:32:30.840 -04:00 [DBG] Connection id "0HNA8H0BIO7N4" stopped.
2025-02-08 17:32:30.841 -04:00 [DBG] Connection id "0HNA8H0BIO7N3" stopped.
2025-02-08 17:32:47.100 -04:00 [DBG] Connection id "0HNA8H0BIO7N5" accepted.
2025-02-08 17:32:47.102 -04:00 [DBG] Connection id "0HNA8H0BIO7N5" started.
2025-02-08 17:32:47.113 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json-patch+json 41
2025-02-08 17:32:47.116 -04:00 [DBG] POST requests are not supported
2025-02-08 17:32:47.137 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 17:32:47.137 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 17:32:47.138 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:32:47.139 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 17:32:47.140 -04:00 [INF] CORS policy execution failed.
2025-02-08 17:32:47.140 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 17:32:47.141 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 17:32:47.172 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:32:47.174 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:32:47.188 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:32:47.189 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:32:47.189 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:32:47.189 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:32:47.189 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:32:47.189 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:32:47.190 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:32:47.265 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 17:32:47.283 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:32:47.285 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:32:47.285 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:32:47.286 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:32:47.286 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:32:47.288 -04:00 [DBG] Connection id "0HNA8H0BIO7N5", Request id "0HNA8H0BIO7N5:00000001": started reading request body.
2025-02-08 17:32:47.289 -04:00 [DBG] Connection id "0HNA8H0BIO7N5", Request id "0HNA8H0BIO7N5:00000001": done reading request body.
2025-02-08 17:32:47.336 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:32:47.336 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:32:47.336 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:32:47.338 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:32:47.341 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:32:47.346 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 154.5588ms
2025-02-08 17:32:47.346 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:32:47.346 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request) in /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE/Controllers/CarritoController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-08 17:32:47.356 -04:00 [DBG] Connection id "0HNA8H0BIO7N5" completed keep alive response.
2025-02-08 17:32:47.357 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 500 null text/plain; charset=utf-8 253.0142ms
2025-02-08 17:32:50.830 -04:00 [DBG] Connection id "0HNA8H0BIO7N5" received FIN.
2025-02-08 17:32:50.831 -04:00 [DBG] Connection id "0HNA8H0BIO7N5" disconnecting.
2025-02-08 17:32:50.832 -04:00 [DBG] Connection id "0HNA8H0BIO7N5" stopped.
2025-02-08 17:32:50.833 -04:00 [DBG] Connection id "0HNA8H0BIO7N5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:35:35.038 -04:00 [DBG] Connection id "0HNA8H0BIO7N6" received FIN.
2025-02-08 17:35:35.041 -04:00 [DBG] Connection id "0HNA8H0BIO7N6" accepted.
2025-02-08 17:35:35.042 -04:00 [DBG] Connection id "0HNA8H0BIO7N6" started.
2025-02-08 17:35:35.042 -04:00 [DBG] Connection id "0HNA8H0BIO7N7" accepted.
2025-02-08 17:35:35.042 -04:00 [DBG] Connection id "0HNA8H0BIO7N7" started.
2025-02-08 17:35:35.042 -04:00 [DBG] Connection id "0HNA8H0BIO7N6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:35:35.042 -04:00 [DBG] Connection id "0HNA8H0BIO7N6" disconnecting.
2025-02-08 17:35:35.042 -04:00 [DBG] Connection id "0HNA8H0BIO7N6" stopped.
2025-02-08 17:35:35.043 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/login - application/json 61
2025-02-08 17:35:35.044 -04:00 [DBG] POST requests are not supported
2025-02-08 17:35:35.046 -04:00 [DBG] No candidates found for the request path '/api/login'
2025-02-08 17:35:35.046 -04:00 [DBG] Request did not match any endpoints
2025-02-08 17:35:35.051 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:35:35.052 -04:00 [DBG] Connection id "0HNA8H0BIO7N7" completed keep alive response.
2025-02-08 17:35:35.052 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/login - 404 0 null 8.6215ms
2025-02-08 17:35:35.052 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5204/api/login, Response status code: 404
2025-02-08 17:35:35.052 -04:00 [DBG] Connection id "0HNA8H0BIO7N7", Request id "0HNA8H0BIO7N7:00000001": started reading request body.
2025-02-08 17:35:35.052 -04:00 [DBG] Connection id "0HNA8H0BIO7N7", Request id "0HNA8H0BIO7N7:00000001": done reading request body.
2025-02-08 17:35:43.022 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/login - application/json 61
2025-02-08 17:35:43.023 -04:00 [DBG] POST requests are not supported
2025-02-08 17:35:43.025 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-02-08 17:35:43.026 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-02-08 17:35:43.026 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 17:35:43.030 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:35:43.030 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 17:35:43.036 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(GIGANTECLIENTCORE.DTO.LoginRequest) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 17:35:43.037 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:35:43.037 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:35:43.037 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:35:43.037 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:35:43.037 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:35:43.037 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 17:35:43.046 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 17:35:43.046 -04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' ...
2025-02-08 17:35:43.047 -04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' using the name '' in request data ...
2025-02-08 17:35:43.047 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-02-08 17:35:43.047 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-02-08 17:35:43.047 -04:00 [DBG] Connection id "0HNA8H0BIO7N7", Request id "0HNA8H0BIO7N7:00000002": started reading request body.
2025-02-08 17:35:43.047 -04:00 [DBG] Connection id "0HNA8H0BIO7N7", Request id "0HNA8H0BIO7N7:00000002": done reading request body.
2025-02-08 17:35:43.050 -04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 17:35:43.050 -04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 17:35:43.050 -04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' ...
2025-02-08 17:35:43.052 -04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 17:35:43.052 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:35:43.559 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 17:35:43.594 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Include(o => o.Rol)
    .FirstOrDefault(o => o.Email == __loginRequest_Mail_0)'
2025-02-08 17:35:43.649 -04:00 [DBG] Including navigation: 'UsuarioCliente.Rol'.
2025-02-08 17:35:43.822 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UsuarioCliente>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
            1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
        SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
        FROM UsuarioCliente AS u
        INNER JOIN Roles AS r ON u.RolId == r.IdRol
        WHERE u.Email == @__loginRequest_Mail_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
            1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
        SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
        FROM UsuarioCliente AS u
        INNER JOIN Roles AS r ON u.RolId == r.IdRol
        WHERE u.Email == @__loginRequest_Mail_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UsuarioCliente entity;
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UsuarioCliente instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UsuarioCliente);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UsuarioCliente)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                        {
                            return 
                            {
                                UsuarioCliente instance;
                                instance = new UsuarioCliente();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Apellidos>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<Ciudad>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<Direccion>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<Dob>k__BackingField = dataReader.IsDBNull(4) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(4);
                                instance.<Email>k__BackingField = dataReader.GetString(5);
                                instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                instance.<Password>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<Rnc>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RolId>k__BackingField = dataReader.GetInt32(9);
                                instance.<Telefono>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<UserName>k__BackingField = dataReader.GetString(11);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UsuarioCliente)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Role instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Role);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(12) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Role)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<IdRol>k__BackingField = dataReader.GetInt32(12);
                                instance.<Name>k__BackingField = dataReader.GetString(13);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<UsuarioCliente, UsuarioCliente, Role>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Rol (Role) ToPrincipal Role Inverse: UsuarioClientes | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Rol")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Role.UsuarioClientes (ICollection<UsuarioCliente>) Collection ToDependent UsuarioCliente Inverse: Rol | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes")], 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                namelessParameter{8}.<Rol>k__BackingField = namelessParameter{9};
                return [LIFTABLE Constant: ClrICollectionAccessor<Role, ICollection<UsuarioCliente>, UsuarioCliente> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes").GetCollectionAccessor()].Add(
                    entity: namelessParameter{9}, 
                    value: namelessParameter{8}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-02-08 17:35:43.847 -04:00 [DBG] Creating DbConnection.
2025-02-08 17:35:43.863 -04:00 [DBG] Created DbConnection. (14ms).
2025-02-08 17:35:43.864 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:44.030 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:44.033 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:35:44.037 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-02-08 17:35:44.041 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-02-08 17:35:44.046 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginRequest_Mail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Email] = @__loginRequest_Mail_0
2025-02-08 17:35:44.108 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__loginRequest_Mail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Email] = @__loginRequest_Mail_0
2025-02-08 17:35:44.114 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:44.119 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 6ms reading results.
2025-02-08 17:35:44.121 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:44.125 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (4ms).
2025-02-08 17:35:44.125 -04:00 [ERR] Usuario no encontrado
2025-02-08 17:35:44.127 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 1073.6395ms.
2025-02-08 17:35:44.128 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 17:35:44.129 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 17:35:44.129 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 17:35:44.129 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 17:35:44.129 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 17:35:44.129 -04:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-08 17:35:44.130 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE) in 1093.175ms
2025-02-08 17:35:44.130 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 17:35:44.130 -04:00 [DBG] Connection id "0HNA8H0BIO7N7" completed keep alive response.
2025-02-08 17:35:44.130 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 17:35:44.132 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:44.133 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 17:35:44.133 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/login - 404 null text/plain; charset=utf-8 1111.5355ms
2025-02-08 17:35:58.132 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/login - application/json 62
2025-02-08 17:35:58.133 -04:00 [DBG] POST requests are not supported
2025-02-08 17:35:58.135 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-02-08 17:35:58.135 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-02-08 17:35:58.135 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 17:35:58.135 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:35:58.135 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 17:35:58.136 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(GIGANTECLIENTCORE.DTO.LoginRequest) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 17:35:58.136 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:35:58.136 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:35:58.136 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:35:58.136 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:35:58.136 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:35:58.137 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 17:35:58.144 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 17:35:58.144 -04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' ...
2025-02-08 17:35:58.144 -04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' using the name '' in request data ...
2025-02-08 17:35:58.144 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-02-08 17:35:58.144 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-02-08 17:35:58.144 -04:00 [DBG] Connection id "0HNA8H0BIO7N7", Request id "0HNA8H0BIO7N7:00000003": started reading request body.
2025-02-08 17:35:58.145 -04:00 [DBG] Connection id "0HNA8H0BIO7N7", Request id "0HNA8H0BIO7N7:00000003": done reading request body.
2025-02-08 17:35:58.145 -04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 17:35:58.145 -04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 17:35:58.145 -04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' ...
2025-02-08 17:35:58.145 -04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 17:35:58.145 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:35:58.157 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 17:35:58.159 -04:00 [DBG] Creating DbConnection.
2025-02-08 17:35:58.159 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 17:35:58.159 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:58.160 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:58.160 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:35:58.161 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:35:58.161 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:35:58.161 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginRequest_Mail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Email] = @__loginRequest_Mail_0
2025-02-08 17:35:58.169 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginRequest_Mail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Email] = @__loginRequest_Mail_0
2025-02-08 17:35:58.204 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:35:58.241 -04:00 [DBG] The navigation 'UsuarioCliente.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:35:58.244 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:35:58.246 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:58.246 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 76ms reading results.
2025-02-08 17:35:58.246 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:58.246 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 17:35:58.246 -04:00 [INF] Login Exitoso
2025-02-08 17:35:58.261 -04:00 [INF] Operación exitosa de autenticación
2025-02-08 17:35:58.261 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 115.521ms.
2025-02-08 17:35:58.261 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 17:35:58.261 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 17:35:58.261 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 17:35:58.261 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 17:35:58.261 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 17:35:58.261 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[GIGANTECLIENTCORE.DTO.UserClienteDTO, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-08 17:35:58.287 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE) in 150.0263ms
2025-02-08 17:35:58.287 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 17:35:58.287 -04:00 [DBG] Connection id "0HNA8H0BIO7N7" completed keep alive response.
2025-02-08 17:35:58.287 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 17:35:58.287 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:35:58.287 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 17:35:58.287 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/login - 200 650 application/json; charset=utf-8 155.1859ms
2025-02-08 17:37:01.411 -04:00 [DBG] Connection id "0HNA8H0BIO7N8" received FIN.
2025-02-08 17:37:01.413 -04:00 [DBG] Connection id "0HNA8H0BIO7N8" accepted.
2025-02-08 17:37:01.413 -04:00 [DBG] Connection id "0HNA8H0BIO7N8" started.
2025-02-08 17:37:01.413 -04:00 [DBG] Connection id "0HNA8H0BIO7N9" accepted.
2025-02-08 17:37:01.413 -04:00 [DBG] Connection id "0HNA8H0BIO7N9" started.
2025-02-08 17:37:01.413 -04:00 [DBG] Connection id "0HNA8H0BIO7N8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:37:01.413 -04:00 [DBG] Connection id "0HNA8H0BIO7N8" disconnecting.
2025-02-08 17:37:01.414 -04:00 [DBG] Connection id "0HNA8H0BIO7N8" stopped.
2025-02-08 17:37:01.414 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json 41
2025-02-08 17:37:01.414 -04:00 [DBG] POST requests are not supported
2025-02-08 17:37:01.414 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 17:37:01.415 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 17:37:01.415 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:37:01.457 -04:00 [DBG] Successfully validated the token.
2025-02-08 17:37:01.458 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-08 17:37:01.458 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:37:01.461 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:37:01.461 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:37:01.462 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:37:01.462 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:37:01.462 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:37:01.462 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:37:01.462 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:37:01.462 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:37:01.462 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:37:01.462 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:37:01.462 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-02-08 17:37:01.462 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-02-08 17:37:01.462 -04:00 [DBG] Connection id "0HNA8H0BIO7N9", Request id "0HNA8H0BIO7N9:00000001": started reading request body.
2025-02-08 17:37:01.462 -04:00 [DBG] Connection id "0HNA8H0BIO7N9", Request id "0HNA8H0BIO7N9:00000001": done reading request body.
2025-02-08 17:37:01.463 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:37:01.463 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:37:01.463 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:37:01.463 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:37:01.463 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:37:01.464 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 2.3925ms
2025-02-08 17:37:01.464 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:37:01.464 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-08 17:37:01.466 -04:00 [DBG] Connection id "0HNA8H0BIO7N9" completed keep alive response.
2025-02-08 17:37:01.466 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 500 null text/plain; charset=utf-8 51.8485ms
2025-02-08 17:38:09.268 -04:00 [DBG] Connection id "0HNA8H0BIO7N7" disconnecting.
2025-02-08 17:38:09.271 -04:00 [DBG] Connection id "0HNA8H0BIO7N7" stopped.
2025-02-08 17:38:09.272 -04:00 [DBG] Connection id "0HNA8H0BIO7N7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:38:15.167 -04:00 [DBG] Connection id "0HNA8H0BIO7NA" received FIN.
2025-02-08 17:38:15.168 -04:00 [DBG] Connection id "0HNA8H0BIO7NA" accepted.
2025-02-08 17:38:15.168 -04:00 [DBG] Connection id "0HNA8H0BIO7NA" started.
2025-02-08 17:38:15.168 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" accepted.
2025-02-08 17:38:15.168 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" started.
2025-02-08 17:38:15.168 -04:00 [DBG] Connection id "0HNA8H0BIO7NA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:38:15.168 -04:00 [DBG] Connection id "0HNA8H0BIO7NA" disconnecting.
2025-02-08 17:38:15.168 -04:00 [DBG] Connection id "0HNA8H0BIO7NA" stopped.
2025-02-08 17:38:15.168 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json 41
2025-02-08 17:38:15.169 -04:00 [DBG] POST requests are not supported
2025-02-08 17:38:15.169 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 17:38:15.169 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 17:38:15.169 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:15.170 -04:00 [DBG] Successfully validated the token.
2025-02-08 17:38:15.170 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-08 17:38:15.172 -04:00 [DBG] Authorization was successful.
2025-02-08 17:38:15.172 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:15.174 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:38:15.174 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:38:15.174 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:38:15.174 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:38:15.174 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:38:15.174 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:38:15.174 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:38:15.175 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:38:15.175 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:38:15.175 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:38:15.175 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-02-08 17:38:15.175 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-02-08 17:38:15.175 -04:00 [DBG] Connection id "0HNA8H0BIO7NB", Request id "0HNA8H0BIO7NB:00000001": started reading request body.
2025-02-08 17:38:15.175 -04:00 [DBG] Connection id "0HNA8H0BIO7NB", Request id "0HNA8H0BIO7NB:00000001": done reading request body.
2025-02-08 17:38:15.176 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:15.176 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:15.176 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:38:15.176 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:15.176 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:38:15.177 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 2.5368ms
2025-02-08 17:38:15.177 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:15.177 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-08 17:38:15.179 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" completed keep alive response.
2025-02-08 17:38:15.179 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 500 null text/plain; charset=utf-8 10.3712ms
2025-02-08 17:38:17.322 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json 41
2025-02-08 17:38:17.322 -04:00 [DBG] POST requests are not supported
2025-02-08 17:38:17.330 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 17:38:17.330 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 17:38:17.330 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:17.330 -04:00 [DBG] Successfully validated the token.
2025-02-08 17:38:17.330 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-08 17:38:17.334 -04:00 [DBG] Authorization was successful.
2025-02-08 17:38:17.335 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:17.335 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:38:17.335 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:38:17.335 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:38:17.335 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:38:17.335 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:38:17.335 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:38:17.335 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:38:17.336 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:38:17.336 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:38:17.336 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:38:17.336 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-02-08 17:38:17.336 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-02-08 17:38:17.336 -04:00 [DBG] Connection id "0HNA8H0BIO7NB", Request id "0HNA8H0BIO7NB:00000002": started reading request body.
2025-02-08 17:38:17.336 -04:00 [DBG] Connection id "0HNA8H0BIO7NB", Request id "0HNA8H0BIO7NB:00000002": done reading request body.
2025-02-08 17:38:17.336 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:17.336 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:17.336 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:38:17.336 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:17.336 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:38:17.337 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 1.399ms
2025-02-08 17:38:17.337 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:17.337 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-08 17:38:17.337 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" completed keep alive response.
2025-02-08 17:38:17.337 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 500 null text/plain; charset=utf-8 15.5849ms
2025-02-08 17:38:19.058 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json 41
2025-02-08 17:38:19.058 -04:00 [DBG] POST requests are not supported
2025-02-08 17:38:19.059 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 17:38:19.059 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 17:38:19.059 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:19.059 -04:00 [DBG] Successfully validated the token.
2025-02-08 17:38:19.059 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-08 17:38:19.061 -04:00 [DBG] Authorization was successful.
2025-02-08 17:38:19.061 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:19.061 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:38:19.061 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:38:19.061 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:38:19.061 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:38:19.061 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:38:19.061 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:38:19.061 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:38:19.062 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:38:19.062 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:38:19.062 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:38:19.062 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-02-08 17:38:19.062 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-02-08 17:38:19.062 -04:00 [DBG] Connection id "0HNA8H0BIO7NB", Request id "0HNA8H0BIO7NB:00000003": started reading request body.
2025-02-08 17:38:19.062 -04:00 [DBG] Connection id "0HNA8H0BIO7NB", Request id "0HNA8H0BIO7NB:00000003": done reading request body.
2025-02-08 17:38:19.063 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:19.063 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:19.063 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:38:19.063 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:19.063 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:38:19.063 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 2.0676ms
2025-02-08 17:38:19.064 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:19.064 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-08 17:38:19.067 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" completed keep alive response.
2025-02-08 17:38:19.068 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 500 null text/plain; charset=utf-8 9.2987ms
2025-02-08 17:38:19.628 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json 41
2025-02-08 17:38:19.628 -04:00 [DBG] POST requests are not supported
2025-02-08 17:38:19.628 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 17:38:19.628 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 17:38:19.628 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:19.629 -04:00 [DBG] Successfully validated the token.
2025-02-08 17:38:19.629 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-08 17:38:19.629 -04:00 [DBG] Authorization was successful.
2025-02-08 17:38:19.630 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:19.630 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:38:19.630 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:38:19.630 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:38:19.630 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:38:19.630 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:38:19.630 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:38:19.630 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:38:19.631 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:38:19.631 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:38:19.632 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:38:19.632 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-02-08 17:38:19.632 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-02-08 17:38:19.633 -04:00 [DBG] Connection id "0HNA8H0BIO7NB", Request id "0HNA8H0BIO7NB:00000004": started reading request body.
2025-02-08 17:38:19.633 -04:00 [DBG] Connection id "0HNA8H0BIO7NB", Request id "0HNA8H0BIO7NB:00000004": done reading request body.
2025-02-08 17:38:19.633 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:19.633 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:19.633 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:38:19.633 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:38:19.633 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:38:19.633 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 3.0724ms
2025-02-08 17:38:19.634 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:38:19.634 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-08 17:38:19.636 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" completed keep alive response.
2025-02-08 17:38:19.636 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 500 null text/plain; charset=utf-8 7.9963ms
2025-02-08 17:39:13.359 -04:00 [DBG] Connection id "0HNA8H0BIO7N9" disconnecting.
2025-02-08 17:39:13.362 -04:00 [DBG] Connection id "0HNA8H0BIO7N9" stopped.
2025-02-08 17:39:13.362 -04:00 [DBG] Connection id "0HNA8H0BIO7N9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:40:30.522 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" disconnecting.
2025-02-08 17:40:30.526 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" stopped.
2025-02-08 17:40:30.529 -04:00 [DBG] Connection id "0HNA8H0BIO7NB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:43:07.912 -04:00 [INF] Application is shutting down...
2025-02-08 17:43:07.917 -04:00 [DBG] Hosting stopping
2025-02-08 17:43:07.934 -04:00 [DBG] Hosting stopped
2025-02-08 17:44:04.540 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 17:44:04.588 -04:00 [DBG] Hosting starting
2025-02-08 17:44:04.592 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 17:44:04.598 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 17:44:04.601 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 17:44:04.601 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 17:44:04.601 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 17:44:04.603 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 17:44:04.605 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 17:44:04.605 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 17:44:04.605 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 17:44:04.608 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 17:44:04.609 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 17:44:04.612 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 17:44:04.612 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 17:44:04.614 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 17:44:04.614 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 17:44:04.636 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 17:44:04.637 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 17:44:04.642 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 17:44:04.642 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 17:44:04.642 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 17:44:04.642 -04:00 [INF] Hosting environment: Development
2025-02-08 17:44:04.642 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 17:44:04.642 -04:00 [DBG] Hosting started
2025-02-08 17:44:22.759 -04:00 [DBG] Connection id "0HNA8H7021VLP" accepted.
2025-02-08 17:44:22.759 -04:00 [DBG] Connection id "0HNA8H7021VLQ" accepted.
2025-02-08 17:44:22.759 -04:00 [DBG] Connection id "0HNA8H7021VLP" started.
2025-02-08 17:44:22.760 -04:00 [DBG] Connection id "0HNA8H7021VLQ" started.
2025-02-08 17:44:22.779 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.html - null null
2025-02-08 17:44:22.864 -04:00 [DBG] Connection id "0HNA8H7021VLP" completed keep alive response.
2025-02-08 17:44:22.865 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.html - 200 null text/html;charset=utf-8 86.647ms
2025-02-08 17:44:22.918 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.js - null null
2025-02-08 17:44:22.919 -04:00 [DBG] Connection id "0HNA8H7021VLP" completed keep alive response.
2025-02-08 17:44:22.919 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.js - 200 null application/javascript;charset=utf-8 1.5022ms
2025-02-08 17:44:22.972 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - null null
2025-02-08 17:44:22.982 -04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 17:44:22.983 -04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 17:44:22.989 -04:00 [DBG] Executing API description provider 'JsonPatchOperationsArrayProvider' from assembly Microsoft.AspNetCore.Mvc.NewtonsoftJson v9.0.1.0.
2025-02-08 17:44:23.047 -04:00 [DBG] Connection id "0HNA8H7021VLP" completed keep alive response.
2025-02-08 17:44:23.047 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.1699ms
2025-02-08 17:44:26.021 -04:00 [DBG] Connection id "0HNA8H7021VLP" received FIN.
2025-02-08 17:44:26.021 -04:00 [DBG] Connection id "0HNA8H7021VLQ" received FIN.
2025-02-08 17:44:26.023 -04:00 [DBG] Connection id "0HNA8H7021VLP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:44:26.023 -04:00 [DBG] Connection id "0HNA8H7021VLQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:44:26.026 -04:00 [DBG] Connection id "0HNA8H7021VLP" disconnecting.
2025-02-08 17:44:26.026 -04:00 [DBG] Connection id "0HNA8H7021VLQ" disconnecting.
2025-02-08 17:44:26.027 -04:00 [DBG] Connection id "0HNA8H7021VLQ" stopped.
2025-02-08 17:44:26.027 -04:00 [DBG] Connection id "0HNA8H7021VLP" stopped.
2025-02-08 17:44:38.184 -04:00 [DBG] Connection id "0HNA8H7021VLR" accepted.
2025-02-08 17:44:38.185 -04:00 [DBG] Connection id "0HNA8H7021VLR" started.
2025-02-08 17:44:38.188 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - application/json-patch+json 59
2025-02-08 17:44:38.191 -04:00 [DBG] POST requests are not supported
2025-02-08 17:44:38.217 -04:00 [DBG] 1 candidate(s) found for the request path '/api/carrito/agregar'
2025-02-08 17:44:38.218 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/carrito/agregar' is valid for the request path '/api/carrito/agregar'
2025-02-08 17:44:38.218 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:44:38.219 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 17:44:38.219 -04:00 [INF] CORS policy execution failed.
2025-02-08 17:44:38.219 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 17:44:38.221 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 17:44:38.252 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:44:38.254 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:44:38.268 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:44:38.269 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:44:38.269 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:44:38.269 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:44:38.269 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:44:38.269 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:44:38.270 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:44:38.351 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 17:44:38.368 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:44:38.370 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:44:38.371 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:44:38.371 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:44:38.371 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:44:38.374 -04:00 [DBG] Connection id "0HNA8H7021VLR", Request id "0HNA8H7021VLR:00000001": started reading request body.
2025-02-08 17:44:38.374 -04:00 [DBG] Connection id "0HNA8H7021VLR", Request id "0HNA8H7021VLR:00000001": done reading request body.
2025-02-08 17:44:38.424 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:44:38.424 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:44:38.424 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:44:38.427 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:44:38.430 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:44:38.962 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 17:44:38.995 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .FirstOrDefault(c => c.UsuarioId == __request_UsuarioId_0)'
2025-02-08 17:44:39.176 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Carrito>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Carrito>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.FechaCreacion (DateTime) Required, 1], [Property: Carrito.UsuarioId (int) Required FK Index, 2] }
            SELECT TOP(1) c.Id, c.FechaCreacion, c.UsuarioId
            FROM Carritos AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.FechaCreacion (DateTime) Required, 1], [Property: Carrito.UsuarioId (int) Required FK Index, 2] }
            SELECT TOP(1) c.Id, c.FechaCreacion, c.UsuarioId
            FROM Carritos AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Carrito entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Carrito instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Carrito);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Carrito)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                            {
                                return 
                                {
                                    Carrito instance;
                                    instance = new Carrito();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Carrito)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 17:44:39.206 -04:00 [DBG] Creating DbConnection.
2025-02-08 17:44:39.224 -04:00 [DBG] Created DbConnection. (17ms).
2025-02-08 17:44:39.226 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:44:39.387 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:44:39.391 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:44:39.395 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 17:44:39.399 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-02-08 17:44:39.404 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carritos] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:44:39.454 -04:00 [ERR] Failed executing DbCommand (51ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carritos] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:44:39.456 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:44:39.461 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (3ms).
2025-02-08 17:44:39.474 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GIGANTECLIENTCORE.Context.MyDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Carritos'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e40c14fe-4cb0-4028-8d19-d66167293a2d
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Carritos'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e40c14fe-4cb0-4028-8d19-d66167293a2d
Error Number:208,State:1,Class:16
2025-02-08 17:44:39.482 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 1209.4877ms
2025-02-08 17:44:39.482 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:44:39.486 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Carritos'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request) in /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE/Controllers/CarritoController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e40c14fe-4cb0-4028-8d19-d66167293a2d
Error Number:208,State:1,Class:16
2025-02-08 17:44:39.495 -04:00 [DBG] Connection id "0HNA8H7021VLR" completed keep alive response.
2025-02-08 17:44:39.498 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 17:44:39.502 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:44:39.504 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 17:44:39.504 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - 500 null text/plain; charset=utf-8 1316.0172ms
2025-02-08 17:44:41.018 -04:00 [DBG] Connection id "0HNA8H7021VLR" received FIN.
2025-02-08 17:44:41.022 -04:00 [DBG] Connection id "0HNA8H7021VLR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:44:41.023 -04:00 [DBG] Connection id "0HNA8H7021VLR" disconnecting.
2025-02-08 17:44:41.023 -04:00 [DBG] Connection id "0HNA8H7021VLR" stopped.
2025-02-08 17:51:07.013 -04:00 [INF] Application is shutting down...
2025-02-08 17:51:07.014 -04:00 [DBG] Hosting stopping
2025-02-08 17:51:07.024 -04:00 [DBG] Hosting stopped
2025-02-08 17:53:02.021 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 17:53:02.079 -04:00 [DBG] Hosting starting
2025-02-08 17:53:02.083 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 17:53:02.089 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 17:53:02.091 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 17:53:02.092 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 17:53:02.092 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 17:53:02.094 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 17:53:02.096 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 17:53:02.096 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 17:53:02.096 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 17:53:02.099 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 17:53:02.100 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 17:53:02.102 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 17:53:02.102 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 17:53:02.104 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 17:53:02.104 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 17:53:02.129 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 17:53:02.131 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 17:53:02.135 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 17:53:02.136 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 17:53:02.136 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 17:53:02.136 -04:00 [INF] Hosting environment: Development
2025-02-08 17:53:02.136 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 17:53:02.136 -04:00 [DBG] Hosting started
2025-02-08 17:53:15.607 -04:00 [DBG] Connection id "0HNA8HBURMDBD" accepted.
2025-02-08 17:53:15.608 -04:00 [DBG] Connection id "0HNA8HBURMDBD" started.
2025-02-08 17:53:15.628 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - application/json-patch+json 59
2025-02-08 17:53:15.641 -04:00 [DBG] POST requests are not supported
2025-02-08 17:53:15.664 -04:00 [DBG] 1 candidate(s) found for the request path '/api/carrito/agregar'
2025-02-08 17:53:15.666 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/carrito/agregar' is valid for the request path '/api/carrito/agregar'
2025-02-08 17:53:15.666 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:15.667 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 17:53:15.667 -04:00 [INF] CORS policy execution failed.
2025-02-08 17:53:15.667 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 17:53:15.668 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 17:53:15.687 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:53:15.688 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:15.698 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:53:15.700 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:53:15.700 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:53:15.700 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:53:15.700 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:53:15.700 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:53:15.701 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:53:15.783 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 17:53:15.801 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:53:15.804 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:53:15.804 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:53:15.805 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:53:15.805 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:53:15.807 -04:00 [DBG] Connection id "0HNA8HBURMDBD", Request id "0HNA8HBURMDBD:00000001": started reading request body.
2025-02-08 17:53:15.808 -04:00 [DBG] Connection id "0HNA8HBURMDBD", Request id "0HNA8HBURMDBD:00000001": done reading request body.
2025-02-08 17:53:15.876 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:15.876 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:15.876 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:53:15.879 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:15.881 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:53:16.431 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 17:53:16.466 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .FirstOrDefault(c => c.UsuarioId == __request_UsuarioId_0)'
2025-02-08 17:53:16.648 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Carrito>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Carrito>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.FechaCreacion (DateTime) Required, 1], [Property: Carrito.UsuarioId (int) Required FK Index, 2] }
            SELECT TOP(1) c.Id, c.FechaCreacion, c.UsuarioId
            FROM Carrito AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.FechaCreacion (DateTime) Required, 1], [Property: Carrito.UsuarioId (int) Required FK Index, 2] }
            SELECT TOP(1) c.Id, c.FechaCreacion, c.UsuarioId
            FROM Carrito AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Carrito entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Carrito instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Carrito);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Carrito)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                            {
                                return 
                                {
                                    Carrito instance;
                                    instance = new Carrito();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Carrito)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 17:53:16.681 -04:00 [DBG] Creating DbConnection.
2025-02-08 17:53:16.698 -04:00 [DBG] Created DbConnection. (15ms).
2025-02-08 17:53:16.700 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:16.856 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:16.860 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:53:16.864 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 17:53:16.868 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-02-08 17:53:16.872 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:53:16.920 -04:00 [ERR] Failed executing DbCommand (44ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:53:16.921 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:16.926 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (3ms).
2025-02-08 17:53:16.938 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GIGANTECLIENTCORE.Context.MyDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
2025-02-08 17:53:16.945 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 1242.2887ms
2025-02-08 17:53:16.948 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:16.951 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request) in /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE/Controllers/CarritoController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
2025-02-08 17:53:16.962 -04:00 [DBG] Connection id "0HNA8HBURMDBD" completed keep alive response.
2025-02-08 17:53:16.965 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 17:53:16.970 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:16.971 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 17:53:16.972 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - 500 null text/plain; charset=utf-8 1345.5955ms
2025-02-08 17:53:20.803 -04:00 [DBG] Connection id "0HNA8HBURMDBD" received FIN.
2025-02-08 17:53:20.806 -04:00 [DBG] Connection id "0HNA8HBURMDBD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:53:20.806 -04:00 [DBG] Connection id "0HNA8HBURMDBD" disconnecting.
2025-02-08 17:53:20.810 -04:00 [DBG] Connection id "0HNA8HBURMDBD" stopped.
2025-02-08 17:53:48.821 -04:00 [DBG] Connection id "0HNA8HBURMDBE" accepted.
2025-02-08 17:53:48.821 -04:00 [DBG] Connection id "0HNA8HBURMDBE" started.
2025-02-08 17:53:48.822 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - application/json-patch+json 59
2025-02-08 17:53:48.823 -04:00 [DBG] POST requests are not supported
2025-02-08 17:53:48.823 -04:00 [DBG] 1 candidate(s) found for the request path '/api/carrito/agregar'
2025-02-08 17:53:48.823 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/carrito/agregar' is valid for the request path '/api/carrito/agregar'
2025-02-08 17:53:48.823 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:48.824 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 17:53:48.824 -04:00 [INF] CORS policy execution failed.
2025-02-08 17:53:48.824 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 17:53:48.825 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:53:48.825 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:48.829 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:53:48.829 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:53:48.829 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:53:48.829 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:53:48.829 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:53:48.829 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:53:48.829 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:53:48.829 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:53:48.831 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:53:48.831 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:53:48.831 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:53:48.831 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:53:48.831 -04:00 [DBG] Connection id "0HNA8HBURMDBE", Request id "0HNA8HBURMDBE:00000001": started reading request body.
2025-02-08 17:53:48.831 -04:00 [DBG] Connection id "0HNA8HBURMDBE", Request id "0HNA8HBURMDBE:00000001": done reading request body.
2025-02-08 17:53:48.832 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:48.832 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:48.832 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:53:48.832 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:48.832 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:53:48.848 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 17:53:48.851 -04:00 [DBG] Creating DbConnection.
2025-02-08 17:53:48.851 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 17:53:48.851 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:48.852 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:48.852 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:53:48.852 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:53:48.852 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:53:48.852 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:53:48.873 -04:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:53:48.873 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:48.873 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 17:53:48.874 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GIGANTECLIENTCORE.Context.MyDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
2025-02-08 17:53:48.874 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 45.5402ms
2025-02-08 17:53:48.875 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:48.875 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
2025-02-08 17:53:48.877 -04:00 [DBG] Connection id "0HNA8HBURMDBE" completed keep alive response.
2025-02-08 17:53:48.877 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 17:53:48.877 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:48.878 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 17:53:48.878 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - 500 null text/plain; charset=utf-8 55.3299ms
2025-02-08 17:53:50.416 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - application/json-patch+json 59
2025-02-08 17:53:50.418 -04:00 [DBG] POST requests are not supported
2025-02-08 17:53:50.423 -04:00 [DBG] 1 candidate(s) found for the request path '/api/carrito/agregar'
2025-02-08 17:53:50.423 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/carrito/agregar' is valid for the request path '/api/carrito/agregar'
2025-02-08 17:53:50.423 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:50.424 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 17:53:50.424 -04:00 [INF] CORS policy execution failed.
2025-02-08 17:53:50.424 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 17:53:50.427 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:53:50.428 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:50.428 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:53:50.428 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:53:50.428 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:53:50.428 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:53:50.428 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:53:50.429 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:53:50.429 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:53:50.433 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:53:50.434 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:53:50.434 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:53:50.434 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:53:50.434 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:53:50.434 -04:00 [DBG] Connection id "0HNA8HBURMDBE", Request id "0HNA8HBURMDBE:00000002": started reading request body.
2025-02-08 17:53:50.434 -04:00 [DBG] Connection id "0HNA8HBURMDBE", Request id "0HNA8HBURMDBE:00000002": done reading request body.
2025-02-08 17:53:50.434 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:50.434 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:50.434 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:53:50.435 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:53:50.435 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:53:50.470 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 17:53:50.471 -04:00 [DBG] Creating DbConnection.
2025-02-08 17:53:50.471 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 17:53:50.471 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:50.471 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:50.471 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:53:50.471 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:53:50.471 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:53:50.471 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:53:50.477 -04:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:53:50.477 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:50.477 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 17:53:50.477 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GIGANTECLIENTCORE.Context.MyDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
2025-02-08 17:53:50.478 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 49.1024ms
2025-02-08 17:53:50.478 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:53:50.478 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FechaCreacion'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto(AgregarCarritoRequest request)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:6d4f9e14-eda2-4975-b9ad-c0062fc8308a
Error Number:207,State:1,Class:16
2025-02-08 17:53:50.480 -04:00 [DBG] Connection id "0HNA8HBURMDBE" completed keep alive response.
2025-02-08 17:53:50.480 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 17:53:50.480 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:53:50.480 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 17:53:50.480 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - 500 null text/plain; charset=utf-8 64.6866ms
2025-02-08 17:53:50.804 -04:00 [DBG] Connection id "0HNA8HBURMDBE" received FIN.
2025-02-08 17:53:50.804 -04:00 [DBG] Connection id "0HNA8HBURMDBE" disconnecting.
2025-02-08 17:53:50.804 -04:00 [DBG] Connection id "0HNA8HBURMDBE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:53:50.805 -04:00 [DBG] Connection id "0HNA8HBURMDBE" stopped.
2025-02-08 17:53:52.320 -04:00 [INF] Application is shutting down...
2025-02-08 17:53:52.324 -04:00 [DBG] Hosting stopping
2025-02-08 17:53:52.334 -04:00 [DBG] Hosting stopped
2025-02-08 17:53:56.461 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 17:53:56.506 -04:00 [DBG] Hosting starting
2025-02-08 17:53:56.509 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 17:53:56.514 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 17:53:56.516 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 17:53:56.517 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 17:53:56.517 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 17:53:56.519 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 17:53:56.520 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 17:53:56.520 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 17:53:56.520 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 17:53:56.523 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 17:53:56.524 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 17:53:56.526 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 17:53:56.526 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 17:53:56.527 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 17:53:56.527 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 17:53:56.542 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 17:53:56.543 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 17:53:56.548 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 17:53:56.548 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 17:53:56.548 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 17:53:56.548 -04:00 [INF] Hosting environment: Development
2025-02-08 17:53:56.548 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 17:53:56.548 -04:00 [DBG] Hosting started
2025-02-08 17:54:01.635 -04:00 [DBG] Connection id "0HNA8HCCIKS4T" accepted.
2025-02-08 17:54:01.636 -04:00 [DBG] Connection id "0HNA8HCCIKS4T" started.
2025-02-08 17:54:01.660 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - application/json-patch+json 59
2025-02-08 17:54:01.678 -04:00 [DBG] POST requests are not supported
2025-02-08 17:54:01.692 -04:00 [DBG] 1 candidate(s) found for the request path '/api/carrito/agregar'
2025-02-08 17:54:01.694 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)' with route pattern 'api/carrito/agregar' is valid for the request path '/api/carrito/agregar'
2025-02-08 17:54:01.694 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:54:01.695 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 17:54:01.696 -04:00 [INF] CORS policy execution failed.
2025-02-08 17:54:01.696 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 17:54:01.696 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 17:54:01.721 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 17:54:01.723 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:54:01.734 -04:00 [INF] Route matched with {action = "AgregarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregarProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 17:54:01.736 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 17:54:01.736 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 17:54:01.737 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 17:54:01.737 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 17:54:01.737 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 17:54:01.737 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:54:01.803 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 17:54:01.819 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 17:54:01.821 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:54:01.822 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 17:54:01.822 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:54:01.823 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 17:54:01.825 -04:00 [DBG] Connection id "0HNA8HCCIKS4T", Request id "0HNA8HCCIKS4T:00000001": started reading request body.
2025-02-08 17:54:01.825 -04:00 [DBG] Connection id "0HNA8HCCIKS4T", Request id "0HNA8HCCIKS4T:00000001": done reading request body.
2025-02-08 17:54:01.875 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:54:01.875 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:54:01.875 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 17:54:01.878 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 17:54:01.880 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 17:54:02.414 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 17:54:02.449 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .FirstOrDefault(c => c.UsuarioId == __request_UsuarioId_0)'
2025-02-08 17:54:02.633 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Carrito>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Carrito>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            SELECT TOP(1) c.Id, c.UsuarioId
            FROM Carrito AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            SELECT TOP(1) c.Id, c.UsuarioId
            FROM Carrito AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Carrito entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Carrito instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Carrito);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Carrito)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                            {
                                return 
                                {
                                    Carrito instance;
                                    instance = new Carrito();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Carrito)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 17:54:02.663 -04:00 [DBG] Creating DbConnection.
2025-02-08 17:54:02.681 -04:00 [DBG] Created DbConnection. (16ms).
2025-02-08 17:54:02.683 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:02.834 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:02.838 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:54:02.841 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-02-08 17:54:02.845 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-02-08 17:54:02.849 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:54:02.901 -04:00 [INF] Executed DbCommand (48ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 17:54:02.909 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:02.915 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 9ms reading results.
2025-02-08 17:54:02.917 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:02.921 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (4ms).
2025-02-08 17:54:02.940 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Carrito.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:54:02.972 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:54:02.974 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 17:54:02.976 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 17:54:02.980 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 17:54:03.038 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.039 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.042 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:54:03.042 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:54:03.042 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:54:03.042 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carrito] ([UsuarioId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-02-08 17:54:03.061 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carrito] ([UsuarioId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-02-08 17:54:03.071 -04:00 [DBG] The foreign key property 'Carrito.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 17:54:03.075 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.075 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 14ms reading results.
2025-02-08 17:54:03.076 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.076 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 17:54:03.084 -04:00 [DBG] An entity of type 'Carrito' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:54:03.085 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 17:54:03.087 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'DetalleCarrito.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:54:03.094 -04:00 [DBG] The navigation 'DetalleCarrito.Carrito' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:54:03.101 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:54:03.102 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 17:54:03.102 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 17:54:03.104 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 17:54:03.105 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.105 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.105 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 17:54:03.105 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:54:03.105 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 17:54:03.105 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-08 17:54:03.115 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-08 17:54:03.116 -04:00 [DBG] The foreign key property 'DetalleCarrito.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 17:54:03.117 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.117 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 17:54:03.117 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.117 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 17:54:03.117 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 17:54:03.117 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 17:54:03.121 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1237.885ms.
2025-02-08 17:54:03.124 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 17:54:03.126 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 17:54:03.126 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 17:54:03.126 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 17:54:03.127 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 17:54:03.127 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 17:54:03.133 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE) in 1392.9054ms
2025-02-08 17:54:03.133 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregarProducto (GIGANTECLIENTCORE)'
2025-02-08 17:54:03.137 -04:00 [DBG] Connection id "0HNA8HCCIKS4T" completed keep alive response.
2025-02-08 17:54:03.140 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 17:54:03.144 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 17:54:03.145 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 17:54:03.146 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/carrito/agregar - 200 null text/plain; charset=utf-8 1486.8322ms
2025-02-08 17:54:05.816 -04:00 [DBG] Connection id "0HNA8HCCIKS4T" received FIN.
2025-02-08 17:54:05.817 -04:00 [DBG] Connection id "0HNA8HCCIKS4T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 17:54:05.817 -04:00 [DBG] Connection id "0HNA8HCCIKS4T" disconnecting.
2025-02-08 17:54:05.819 -04:00 [DBG] Connection id "0HNA8HCCIKS4T" stopped.
2025-02-08 18:03:46.877 -04:00 [INF] Application is shutting down...
2025-02-08 18:03:46.879 -04:00 [DBG] Hosting stopping
2025-02-08 18:03:46.897 -04:00 [DBG] Hosting stopped
2025-02-08 18:08:42.285 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 18:08:42.334 -04:00 [DBG] Hosting starting
2025-02-08 18:08:42.338 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 18:08:42.344 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 18:08:42.347 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 18:08:42.347 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 18:08:42.348 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 18:08:42.350 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 18:08:42.351 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 18:08:42.351 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 18:08:42.352 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 18:08:42.354 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 18:08:42.355 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 18:08:42.357 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 18:08:42.357 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 18:08:42.359 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 18:08:42.359 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 18:08:42.381 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 18:08:42.383 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 18:08:42.388 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 18:08:42.388 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 18:08:42.389 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 18:08:42.389 -04:00 [INF] Hosting environment: Development
2025-02-08 18:08:42.389 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 18:08:42.389 -04:00 [DBG] Hosting started
2025-02-08 18:08:44.511 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" accepted.
2025-02-08 18:08:44.511 -04:00 [DBG] Connection id "0HNA8HKJMDDHU" accepted.
2025-02-08 18:08:44.511 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" started.
2025-02-08 18:08:44.511 -04:00 [DBG] Connection id "0HNA8HKJMDDHU" started.
2025-02-08 18:08:44.530 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.html - null null
2025-02-08 18:08:44.614 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" completed keep alive response.
2025-02-08 18:08:44.614 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.html - 200 null text/html;charset=utf-8 85.491ms
2025-02-08 18:08:44.665 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.js - null null
2025-02-08 18:08:44.667 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" completed keep alive response.
2025-02-08 18:08:44.667 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.js - 200 null application/javascript;charset=utf-8 1.3613ms
2025-02-08 18:08:44.729 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - null null
2025-02-08 18:08:44.738 -04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 18:08:44.738 -04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 18:08:44.742 -04:00 [DBG] Executing API description provider 'JsonPatchOperationsArrayProvider' from assembly Microsoft.AspNetCore.Mvc.NewtonsoftJson v9.0.1.0.
2025-02-08 18:08:44.815 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" completed keep alive response.
2025-02-08 18:08:44.815 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.0851ms
2025-02-08 18:08:45.992 -04:00 [DBG] Connection id "0HNA8HKJMDDHU" received FIN.
2025-02-08 18:08:45.993 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" received FIN.
2025-02-08 18:08:45.999 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:08:46.000 -04:00 [DBG] Connection id "0HNA8HKJMDDHU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:08:46.010 -04:00 [DBG] Connection id "0HNA8HKJMDDHU" disconnecting.
2025-02-08 18:08:46.010 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" disconnecting.
2025-02-08 18:08:46.012 -04:00 [DBG] Connection id "0HNA8HKJMDDHU" stopped.
2025-02-08 18:08:46.012 -04:00 [DBG] Connection id "0HNA8HKJMDDHT" stopped.
2025-02-08 18:09:13.948 -04:00 [DBG] Connection id "0HNA8HKJMDDHV" accepted.
2025-02-08 18:09:13.960 -04:00 [DBG] Connection id "0HNA8HKJMDDHV" started.
2025-02-08 18:09:13.962 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/Carrito/editar - application/json-patch+json 59
2025-02-08 18:09:13.963 -04:00 [DBG] PUT requests are not supported
2025-02-08 18:09:13.986 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/editar'
2025-02-08 18:09:13.986 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/editar' is valid for the request path '/api/Carrito/editar'
2025-02-08 18:09:13.987 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:09:13.988 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:09:13.989 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:09:13.989 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:09:13.990 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:09:14.017 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:09:14.019 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:09:14.034 -04:00 [INF] Route matched with {action = "EditarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarProducto(GIGANTECLIENTCORE.Controllers.EditarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:09:14.035 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:09:14.035 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:09:14.035 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:09:14.035 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:09:14.036 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:09:14.036 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:09:14.114 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 18:09:14.132 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:09:14.134 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' ...
2025-02-08 18:09:14.134 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' using the name '' in request data ...
2025-02-08 18:09:14.135 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:09:14.135 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:09:14.137 -04:00 [DBG] Connection id "0HNA8HKJMDDHV", Request id "0HNA8HKJMDDHV:00000001": started reading request body.
2025-02-08 18:09:14.137 -04:00 [DBG] Connection id "0HNA8HKJMDDHV", Request id "0HNA8HKJMDDHV:00000001": done reading request body.
2025-02-08 18:09:14.184 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:09:14.184 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:09:14.184 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' ...
2025-02-08 18:09:14.187 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:09:14.190 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:09:14.723 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:09:14.769 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .Include(c => c.DetallesCarrito)
    .FirstOrDefault(c => c.UsuarioId == __request_UsuarioId_0)'
2025-02-08 18:09:14.804 -04:00 [DBG] Including navigation: 'Carrito.DetallesCarrito'.
2025-02-08 18:09:15.008 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Carrito>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Carrito>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: DetalleCarrito.Cantidad (int) Required, 3], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 4], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 5] }
                3 -> 2
            SELECT c0.Id, c0.UsuarioId, d.Id, d.Cantidad, d.CarritoId, d.ProductoId
            FROM 
            (
                SELECT TOP(1) c.Id, c.UsuarioId
                FROM Carrito AS c
                WHERE c.UsuarioId == @__request_UsuarioId_0
            ) AS c0
            LEFT JOIN DetalleCarrito AS d ON c0.Id == d.CarritoId
            ORDER BY c0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: DetalleCarrito.Cantidad (int) Required, 3], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 4], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 5] }
                3 -> 2
            SELECT c0.Id, c0.UsuarioId, d.Id, d.Cantidad, d.CarritoId, d.ProductoId
            FROM 
            (
                SELECT TOP(1) c.Id, c.UsuarioId
                FROM Carrito AS c
                WHERE c.UsuarioId == @__request_UsuarioId_0
            ) AS c0
            LEFT JOIN DetalleCarrito AS d ON c0.Id == d.CarritoId
            ORDER BY c0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Carrito entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Carrito instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Carrito);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Carrito)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                                {
                                    return 
                                    {
                                        Carrito instance;
                                        instance = new Carrito();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<UsuarioId>k__BackingField = dataReader.GetInt32(1);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Carrito)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Carrito, Carrito>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Carrito)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Carrito.DetallesCarrito (ICollection<DetalleCarrito>) Collection ToDependent DetalleCarrito Inverse: Carrito | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Carrito, DetalleCarrito>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    DetalleCarrito entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        DetalleCarrito instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(DetalleCarrito);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleCarrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (DetalleCarrito)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]: 
                                    {
                                        return 
                                        {
                                            DetalleCarrito instance;
                                            instance = new DetalleCarrito();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(3) ? default(int) : dataReader.GetInt32(3);
                                            instance.<CarritoId>k__BackingField = dataReader.IsDBNull(4) ? default(int) : dataReader.GetInt32(4);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(5) ? default(int) : dataReader.GetInt32(5);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleCarrito)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: DetalleCarrito.Carrito (Carrito) ToPrincipal Carrito Inverse: DetallesCarrito | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindNavigation("Carrito")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Carrito>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Carrito)(resultContext.Values[0]) : default(Carrito);
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:09:15.050 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:09:15.074 -04:00 [DBG] Created DbConnection. (21ms).
2025-02-08 18:09:15.077 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.235 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.239 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:09:15.242 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-02-08 18:09:15.247 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-02-08 18:09:15.252 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:09:15.319 -04:00 [INF] Executed DbCommand (68ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:09:15.346 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:09:15.369 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:09:15.377 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.382 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 59ms reading results.
2025-02-08 18:09:15.384 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.389 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (4ms).
2025-02-08 18:09:15.391 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:09:15.392 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:09:15.399 -04:00 [DBG] The unchanged property 'DetalleCarrito.Cantidad' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:09:15.404 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:09:15.406 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:09:15.444 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.445 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.446 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:09:15.446 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:09:15.446 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:09:15.446 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DetalleCarrito] SET [Cantidad] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:09:15.460 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DetalleCarrito] SET [Cantidad] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:09:15.464 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.464 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 3ms reading results.
2025-02-08 18:09:15.465 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.465 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:09:15.468 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:09:15.470 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:09:15.473 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1280.9932ms.
2025-02-08 18:09:15.476 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:09:15.477 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:09:15.477 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:09:15.477 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:09:15.478 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:09:15.478 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:09:15.481 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE) in 1443.1245ms
2025-02-08 18:09:15.482 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:09:15.485 -04:00 [DBG] Connection id "0HNA8HKJMDDHV" completed keep alive response.
2025-02-08 18:09:15.487 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:09:15.491 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:09:15.492 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 18:09:15.492 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/Carrito/editar - 200 null text/plain; charset=utf-8 1530.9634ms
2025-02-08 18:09:15.996 -04:00 [DBG] Connection id "0HNA8HKJMDDHV" received FIN.
2025-02-08 18:09:15.996 -04:00 [DBG] Connection id "0HNA8HKJMDDHV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:09:15.996 -04:00 [DBG] Connection id "0HNA8HKJMDDHV" disconnecting.
2025-02-08 18:09:15.996 -04:00 [DBG] Connection id "0HNA8HKJMDDHV" stopped.
2025-02-08 18:14:32.948 -04:00 [DBG] Connection id "0HNA8HKJMDDI0" accepted.
2025-02-08 18:14:32.950 -04:00 [DBG] Connection id "0HNA8HKJMDDI0" started.
2025-02-08 18:14:32.951 -04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5204/api/Carrito/eliminar/9090?usuarioId=2 - null null
2025-02-08 18:14:32.952 -04:00 [DBG] DELETE requests are not supported
2025-02-08 18:14:32.955 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/eliminar/9090'
2025-02-08 18:14:32.955 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EliminarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/eliminar/{productoId}' is valid for the request path '/api/Carrito/eliminar/9090'
2025-02-08 18:14:32.956 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EliminarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:14:32.957 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:14:32.957 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:14:32.957 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:14:32.959 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:14:32.959 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EliminarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:14:32.966 -04:00 [INF] Route matched with {action = "EliminarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarProducto(Int32, Int32) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:14:32.966 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:14:32.966 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:14:32.966 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:14:32.966 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:14:32.966 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:14:32.967 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:14:32.969 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:14:32.972 -04:00 [DBG] Attempting to bind parameter 'usuarioId' of type 'System.Int32' ...
2025-02-08 18:14:32.973 -04:00 [DBG] Attempting to bind parameter 'usuarioId' of type 'System.Int32' using the name 'usuarioId' in request data ...
2025-02-08 18:14:32.974 -04:00 [DBG] Done attempting to bind parameter 'usuarioId' of type 'System.Int32'.
2025-02-08 18:14:32.974 -04:00 [DBG] Done attempting to bind parameter 'usuarioId' of type 'System.Int32'.
2025-02-08 18:14:32.974 -04:00 [DBG] Attempting to validate the bound parameter 'usuarioId' of type 'System.Int32' ...
2025-02-08 18:14:32.974 -04:00 [DBG] Done attempting to validate the bound parameter 'usuarioId' of type 'System.Int32'.
2025-02-08 18:14:32.974 -04:00 [DBG] Attempting to bind parameter 'productoId' of type 'System.Int32' ...
2025-02-08 18:14:32.974 -04:00 [DBG] Attempting to bind parameter 'productoId' of type 'System.Int32' using the name 'productoId' in request data ...
2025-02-08 18:14:32.974 -04:00 [DBG] Done attempting to bind parameter 'productoId' of type 'System.Int32'.
2025-02-08 18:14:32.974 -04:00 [DBG] Done attempting to bind parameter 'productoId' of type 'System.Int32'.
2025-02-08 18:14:32.974 -04:00 [DBG] Attempting to validate the bound parameter 'productoId' of type 'System.Int32' ...
2025-02-08 18:14:32.974 -04:00 [DBG] Done attempting to validate the bound parameter 'productoId' of type 'System.Int32'.
2025-02-08 18:14:32.974 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.EliminarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:14:32.993 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:14:32.994 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .Include(c => c.DetallesCarrito)
    .FirstOrDefault(c => c.UsuarioId == __usuarioId_0)'
2025-02-08 18:14:32.995 -04:00 [DBG] Including navigation: 'Carrito.DetallesCarrito'.
2025-02-08 18:14:33.008 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Carrito>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Carrito>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: DetalleCarrito.Cantidad (int) Required, 3], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 4], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 5] }
                3 -> 2
            SELECT c0.Id, c0.UsuarioId, d.Id, d.Cantidad, d.CarritoId, d.ProductoId
            FROM 
            (
                SELECT TOP(1) c.Id, c.UsuarioId
                FROM Carrito AS c
                WHERE c.UsuarioId == @__usuarioId_0
            ) AS c0
            LEFT JOIN DetalleCarrito AS d ON c0.Id == d.CarritoId
            ORDER BY c0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: DetalleCarrito.Cantidad (int) Required, 3], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 4], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 5] }
                3 -> 2
            SELECT c0.Id, c0.UsuarioId, d.Id, d.Cantidad, d.CarritoId, d.ProductoId
            FROM 
            (
                SELECT TOP(1) c.Id, c.UsuarioId
                FROM Carrito AS c
                WHERE c.UsuarioId == @__usuarioId_0
            ) AS c0
            LEFT JOIN DetalleCarrito AS d ON c0.Id == d.CarritoId
            ORDER BY c0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Carrito entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Carrito instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Carrito);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Carrito)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                                {
                                    return 
                                    {
                                        Carrito instance;
                                        instance = new Carrito();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<UsuarioId>k__BackingField = dataReader.GetInt32(1);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Carrito)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Carrito, Carrito>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Carrito)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Carrito.DetallesCarrito (ICollection<DetalleCarrito>) Collection ToDependent DetalleCarrito Inverse: Carrito | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Carrito, DetalleCarrito>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    DetalleCarrito entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        DetalleCarrito instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(DetalleCarrito);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleCarrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (DetalleCarrito)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]: 
                                    {
                                        return 
                                        {
                                            DetalleCarrito instance;
                                            instance = new DetalleCarrito();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(3) ? default(int) : dataReader.GetInt32(3);
                                            instance.<CarritoId>k__BackingField = dataReader.IsDBNull(4) ? default(int) : dataReader.GetInt32(4);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(5) ? default(int) : dataReader.GetInt32(5);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleCarrito)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: DetalleCarrito.Carrito (Carrito) ToPrincipal Carrito Inverse: DetallesCarrito | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindNavigation("Carrito")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Carrito>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Carrito)(resultContext.Values[0]) : default(Carrito);
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:14:33.010 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:14:33.011 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:14:33.011 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.011 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.012 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:14:33.012 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:14:33.012 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:14:33.012 -04:00 [DBG] Executing DbCommand [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__usuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:14:33.042 -04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__usuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:14:33.042 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:14:33.043 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:14:33.044 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.044 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:14:33.044 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.044 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:14:33.046 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:14:33.047 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:14:33.047 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:14:33.049 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:14:33.060 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.060 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.060 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:14:33.060 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:14:33.061 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:14:33.061 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [DetalleCarrito]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-08 18:14:33.067 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [DetalleCarrito]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-08 18:14:33.067 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.067 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:14:33.067 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.067 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:14:33.070 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:14:33.070 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:14:33.070 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.EliminarProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.3172ms.
2025-02-08 18:14:33.070 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:14:33.070 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:14:33.070 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:14:33.070 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:14:33.070 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:14:33.070 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:14:33.070 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.EliminarProducto (GIGANTECLIENTCORE) in 103.8811ms
2025-02-08 18:14:33.070 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EliminarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:14:33.070 -04:00 [DBG] Connection id "0HNA8HKJMDDI0" completed keep alive response.
2025-02-08 18:14:33.070 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:14:33.071 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:14:33.071 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:14:33.071 -04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5204/api/Carrito/eliminar/9090?usuarioId=2 - 200 null text/plain; charset=utf-8 119.4504ms
2025-02-08 18:14:36.064 -04:00 [DBG] Connection id "0HNA8HKJMDDI0" received FIN.
2025-02-08 18:14:36.065 -04:00 [DBG] Connection id "0HNA8HKJMDDI0" disconnecting.
2025-02-08 18:14:36.065 -04:00 [DBG] Connection id "0HNA8HKJMDDI0" stopped.
2025-02-08 18:14:36.066 -04:00 [DBG] Connection id "0HNA8HKJMDDI0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:15:13.637 -04:00 [DBG] Connection id "0HNA8HKJMDDI1" accepted.
2025-02-08 18:15:13.638 -04:00 [DBG] Connection id "0HNA8HKJMDDI1" started.
2025-02-08 18:15:13.638 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/Carrito/editar - application/json-patch+json 59
2025-02-08 18:15:13.638 -04:00 [DBG] PUT requests are not supported
2025-02-08 18:15:13.638 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/editar'
2025-02-08 18:15:13.638 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/editar' is valid for the request path '/api/Carrito/editar'
2025-02-08 18:15:13.638 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:13.639 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:15:13.639 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:15:13.639 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:15:13.640 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:15:13.640 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:13.641 -04:00 [INF] Route matched with {action = "EditarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarProducto(GIGANTECLIENTCORE.Controllers.EditarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:15:13.641 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:15:13.641 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:15:13.641 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:15:13.641 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:15:13.641 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:15:13.641 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:15:13.642 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:15:13.642 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' ...
2025-02-08 18:15:13.642 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' using the name '' in request data ...
2025-02-08 18:15:13.642 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:15:13.642 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:15:13.642 -04:00 [DBG] Connection id "0HNA8HKJMDDI1", Request id "0HNA8HKJMDDI1:00000001": started reading request body.
2025-02-08 18:15:13.642 -04:00 [DBG] Connection id "0HNA8HKJMDDI1", Request id "0HNA8HKJMDDI1:00000001": done reading request body.
2025-02-08 18:15:13.643 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:15:13.643 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:15:13.643 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' ...
2025-02-08 18:15:13.643 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:15:13.643 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:15:13.678 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:15:13.682 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:15:13.682 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:15:13.682 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:13.682 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:13.682 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:15:13.682 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:13.682 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:13.682 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:15:13.686 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:15:13.687 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:13.687 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:13.687 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:15:13.687 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:13.687 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:15:13.688 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 44.5477ms.
2025-02-08 18:15:13.688 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:15:13.688 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:15:13.688 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:15:13.688 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:15:13.688 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:15:13.688 -04:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-08 18:15:13.688 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE) in 47.1646ms
2025-02-08 18:15:13.688 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:13.688 -04:00 [DBG] Connection id "0HNA8HKJMDDI1" completed keep alive response.
2025-02-08 18:15:13.688 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:15:13.688 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:13.688 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:15:13.688 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/Carrito/editar - 404 null text/plain; charset=utf-8 50.0514ms
2025-02-08 18:15:16.064 -04:00 [DBG] Connection id "0HNA8HKJMDDI1" received FIN.
2025-02-08 18:15:16.064 -04:00 [DBG] Connection id "0HNA8HKJMDDI1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:15:16.064 -04:00 [DBG] Connection id "0HNA8HKJMDDI1" disconnecting.
2025-02-08 18:15:16.064 -04:00 [DBG] Connection id "0HNA8HKJMDDI1" stopped.
2025-02-08 18:15:24.090 -04:00 [DBG] Connection id "0HNA8HKJMDDI2" accepted.
2025-02-08 18:15:24.092 -04:00 [DBG] Connection id "0HNA8HKJMDDI2" started.
2025-02-08 18:15:24.093 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json-patch+json 59
2025-02-08 18:15:24.093 -04:00 [DBG] POST requests are not supported
2025-02-08 18:15:24.093 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 18:15:24.093 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 18:15:24.093 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:24.093 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:15:24.093 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:15:24.100 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:15:24.100 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:15:24.101 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:24.106 -04:00 [INF] Route matched with {action = "AgregaroProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregaroProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:15:24.106 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:15:24.106 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:15:24.106 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:15:24.106 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:15:24.106 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:15:24.106 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:15:24.107 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:15:24.107 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 18:15:24.107 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 18:15:24.107 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:15:24.107 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:15:24.107 -04:00 [DBG] Connection id "0HNA8HKJMDDI2", Request id "0HNA8HKJMDDI2:00000001": started reading request body.
2025-02-08 18:15:24.107 -04:00 [DBG] Connection id "0HNA8HKJMDDI2", Request id "0HNA8HKJMDDI2:00000001": done reading request body.
2025-02-08 18:15:24.109 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:15:24.109 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:15:24.109 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 18:15:24.110 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:15:24.110 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:15:24.112 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:15:24.112 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .FirstOrDefault(c => c.UsuarioId == __request_UsuarioId_0)'
2025-02-08 18:15:24.116 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Carrito>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Carrito>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            SELECT TOP(1) c.Id, c.UsuarioId
            FROM Carrito AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            SELECT TOP(1) c.Id, c.UsuarioId
            FROM Carrito AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Carrito entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Carrito instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Carrito);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Carrito)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                            {
                                return 
                                {
                                    Carrito instance;
                                    instance = new Carrito();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Carrito)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:15:24.117 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:15:24.117 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:15:24.117 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.117 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.117 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:15:24.117 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:24.117 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:24.118 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 18:15:24.121 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 18:15:24.121 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:24.121 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.121 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:15:24.121 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.121 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:15:24.138 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'DetalleCarrito.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:24.146 -04:00 [DBG] The navigation 'DetalleCarrito.Carrito' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:24.147 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:24.148 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:15:24.148 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:15:24.148 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:15:24.156 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.156 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.156 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:15:24.156 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:24.156 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:24.156 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-08 18:15:24.164 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-08 18:15:24.172 -04:00 [DBG] The foreign key property 'DetalleCarrito.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:15:24.175 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.175 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 10ms reading results.
2025-02-08 18:15:24.175 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.175 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:15:24.177 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:24.177 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:15:24.177 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 66.906ms.
2025-02-08 18:15:24.177 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:15:24.177 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:15:24.177 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:15:24.177 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:15:24.177 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:15:24.177 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:15:24.178 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE) in 71.1095ms
2025-02-08 18:15:24.178 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:24.178 -04:00 [DBG] Connection id "0HNA8HKJMDDI2" completed keep alive response.
2025-02-08 18:15:24.178 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:15:24.178 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:24.178 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:15:24.178 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 200 null text/plain; charset=utf-8 84.8734ms
2025-02-08 18:15:26.072 -04:00 [DBG] Connection id "0HNA8HKJMDDI2" received FIN.
2025-02-08 18:15:26.072 -04:00 [DBG] Connection id "0HNA8HKJMDDI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:15:26.072 -04:00 [DBG] Connection id "0HNA8HKJMDDI2" disconnecting.
2025-02-08 18:15:26.073 -04:00 [DBG] Connection id "0HNA8HKJMDDI2" stopped.
2025-02-08 18:15:31.523 -04:00 [DBG] Connection id "0HNA8HKJMDDI3" accepted.
2025-02-08 18:15:31.523 -04:00 [DBG] Connection id "0HNA8HKJMDDI3" started.
2025-02-08 18:15:31.523 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/Carrito/editar - application/json-patch+json 59
2025-02-08 18:15:31.523 -04:00 [DBG] PUT requests are not supported
2025-02-08 18:15:31.523 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/editar'
2025-02-08 18:15:31.523 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/editar' is valid for the request path '/api/Carrito/editar'
2025-02-08 18:15:31.523 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:31.523 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:15:31.523 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:15:31.523 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:15:31.524 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:15:31.524 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:31.524 -04:00 [INF] Route matched with {action = "EditarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarProducto(GIGANTECLIENTCORE.Controllers.EditarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:15:31.524 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:15:31.524 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:15:31.524 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:15:31.524 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:15:31.524 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:15:31.524 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:15:31.524 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:15:31.524 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' ...
2025-02-08 18:15:31.524 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' using the name '' in request data ...
2025-02-08 18:15:31.524 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:15:31.524 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:15:31.524 -04:00 [DBG] Connection id "0HNA8HKJMDDI3", Request id "0HNA8HKJMDDI3:00000001": started reading request body.
2025-02-08 18:15:31.524 -04:00 [DBG] Connection id "0HNA8HKJMDDI3", Request id "0HNA8HKJMDDI3:00000001": done reading request body.
2025-02-08 18:15:31.524 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:15:31.524 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:15:31.524 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' ...
2025-02-08 18:15:31.524 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:15:31.524 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:15:31.525 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:15:31.525 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:15:31.525 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:15:31.525 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.526 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.526 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:15:31.526 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:31.526 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:31.526 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:15:31.531 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:15:31.531 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:31.531 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:31.531 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.531 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:15:31.531 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.531 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:15:31.531 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:15:31.531 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:15:31.531 -04:00 [DBG] The unchanged property 'DetalleCarrito.Cantidad' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:15:31.531 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:31.531 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:15:31.531 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.531 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.531 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:15:31.531 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:31.531 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:15:31.532 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DetalleCarrito] SET [Cantidad] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:15:31.538 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DetalleCarrito] SET [Cantidad] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:15:31.538 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.538 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:15:31.538 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.538 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:15:31.539 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:15:31.539 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:15:31.539 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.3132ms.
2025-02-08 18:15:31.539 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:15:31.539 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:15:31.539 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:15:31.539 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:15:31.539 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:15:31.539 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:15:31.539 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE) in 15.2417ms
2025-02-08 18:15:31.539 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:15:31.539 -04:00 [DBG] Connection id "0HNA8HKJMDDI3" completed keep alive response.
2025-02-08 18:15:31.539 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:15:31.539 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:15:31.539 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:15:31.539 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/Carrito/editar - 200 null text/plain; charset=utf-8 15.8282ms
2025-02-08 18:15:36.079 -04:00 [DBG] Connection id "0HNA8HKJMDDI3" received FIN.
2025-02-08 18:15:36.081 -04:00 [DBG] Connection id "0HNA8HKJMDDI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:15:36.082 -04:00 [DBG] Connection id "0HNA8HKJMDDI3" disconnecting.
2025-02-08 18:15:36.082 -04:00 [DBG] Connection id "0HNA8HKJMDDI3" stopped.
2025-02-08 18:25:19.492 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" accepted.
2025-02-08 18:25:19.493 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" started.
2025-02-08 18:25:19.493 -04:00 [DBG] Connection id "0HNA8HKJMDDI5" accepted.
2025-02-08 18:25:19.494 -04:00 [DBG] Connection id "0HNA8HKJMDDI5" started.
2025-02-08 18:25:19.496 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.html - null null
2025-02-08 18:25:19.497 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" completed keep alive response.
2025-02-08 18:25:19.497 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.html - 200 null text/html;charset=utf-8 1.1122ms
2025-02-08 18:25:19.530 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.js - null null
2025-02-08 18:25:19.531 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" completed keep alive response.
2025-02-08 18:25:19.531 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.js - 200 null application/javascript;charset=utf-8 0.9521ms
2025-02-08 18:25:19.593 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - null null
2025-02-08 18:25:19.594 -04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 18:25:19.594 -04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 18:25:19.596 -04:00 [DBG] Executing API description provider 'JsonPatchOperationsArrayProvider' from assembly Microsoft.AspNetCore.Mvc.NewtonsoftJson v9.0.1.0.
2025-02-08 18:25:19.606 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" completed keep alive response.
2025-02-08 18:25:19.606 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.4997ms
2025-02-08 18:25:29.721 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.html - null null
2025-02-08 18:25:29.721 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" completed keep alive response.
2025-02-08 18:25:29.721 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.html - 200 null text/html;charset=utf-8 0.548ms
2025-02-08 18:25:29.767 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.js - null null
2025-02-08 18:25:29.768 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" completed keep alive response.
2025-02-08 18:25:29.768 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.js - 200 null application/javascript;charset=utf-8 0.4927ms
2025-02-08 18:25:29.803 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - null null
2025-02-08 18:25:29.815 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" completed keep alive response.
2025-02-08 18:25:29.815 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.0138ms
2025-02-08 18:25:40.657 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Carrito?id=2 - null null
2025-02-08 18:25:40.658 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:25:40.658 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito'
2025-02-08 18:25:40.658 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)' with route pattern 'api/Carrito' is valid for the request path '/api/Carrito'
2025-02-08 18:25:40.659 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:25:40.659 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:25:40.659 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:25:40.664 -04:00 [INF] Route matched with {action = "ObtenerCarritoUsario", controller = "Carrito"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerCarritoUsario(Int32) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:25:40.664 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:25:40.664 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:25:40.664 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:25:40.664 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:25:40.664 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:25:40.664 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:25:40.670 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:25:40.671 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:25:40.671 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:25:40.671 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:25:40.671 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:25:40.671 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:25:40.672 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:25:40.672 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:25:40.676 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:25:40.678 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.5675ms.
2025-02-08 18:25:40.678 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:25:40.678 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:25:40.678 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:25:40.678 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:25:40.678 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:25:40.678 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Carrito, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:25:40.682 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Carrito, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:25:40.684 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .Include(o => o.Usuario)
    .Include(o => o.DetallesCarrito)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(o => o.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)'
2025-02-08 18:25:40.686 -04:00 [DBG] Including navigation: 'Carrito.Usuario'.
2025-02-08 18:25:40.686 -04:00 [DBG] Including navigation: 'Carrito.DetallesCarrito'.
2025-02-08 18:25:40.687 -04:00 [DBG] Including navigation: 'DetalleCarrito.Producto'.
2025-02-08 18:25:40.688 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 18:25:40.688 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 18:25:40.712 -04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-08 18:25:40.732 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Carrito>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 3], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 4], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 5], [Property: UsuarioCliente.Dob (DateOnly?), 6], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 7], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 8], [Property: UsuarioCliente.Password (string), 9], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 10], [Property: UsuarioCliente.RolId (int) Required FK Index, 11], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 12], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 13] }
            2 -> 0
            3 -> 2
            4 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: DetalleCarrito.Cantidad (int) Required, 15], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 16], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 17] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 18], [Property: Producto.CategoriaId (int?) FK Index, 19], [Property: Producto.ImageUrl (string) MaxLength(255), 20], [Property: Producto.Marca (string) MaxLength(50), 21], [Property: Producto.Nombre (string) Required MaxLength(100), 22], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 23], [Property: Producto.SubCategoriaId (int) Required FK Index, 24] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Categorium.Nombre (string) Required MaxLength(100), 26] }
            7 -> 14
            8 -> 18
            9 -> 25
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: SubCategorium.CategoriaId (int) Required FK Index, 28], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 29] }
            11 -> 27
        SELECT c.Id, c.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s0.Id, s0.Cantidad, s0.CarritoId, s0.ProductoId, s0.Codigo, s0.CategoriaId, s0.ImageUrl, s0.Marca, s0.Nombre, s0.Stock, s0.SubCategoriaId, s0.Id0, s0.Nombre0, s0.Id1, s0.CategoriaId0, s0.Nombre1
        FROM Carrito AS c
        INNER JOIN UsuarioCliente AS u ON c.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.Id, d.Cantidad, d.CarritoId, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c0.Id AS Id0, c0.Nombre AS Nombre0, s.Id AS Id1, s.CategoriaId AS CategoriaId0, s.Nombre AS Nombre1
            FROM DetalleCarrito AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c0 ON p.CategoriaId == c0.Id
            LEFT JOIN SubCategoria AS s ON c0.Id == s.CategoriaId
        ) AS s0 ON c.Id == s0.CarritoId
        WHERE c.UsuarioId == @__id_0
        ORDER BY c.Id ASC, u.Id ASC, s0.Id ASC, s0.Codigo ASC, s0.Id0 ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 3], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 4], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 5], [Property: UsuarioCliente.Dob (DateOnly?), 6], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 7], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 8], [Property: UsuarioCliente.Password (string), 9], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 10], [Property: UsuarioCliente.RolId (int) Required FK Index, 11], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 12], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 13] }
            2 -> 0
            3 -> 2
            4 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: DetalleCarrito.Cantidad (int) Required, 15], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 16], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 17] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 18], [Property: Producto.CategoriaId (int?) FK Index, 19], [Property: Producto.ImageUrl (string) MaxLength(255), 20], [Property: Producto.Marca (string) MaxLength(50), 21], [Property: Producto.Nombre (string) Required MaxLength(100), 22], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 23], [Property: Producto.SubCategoriaId (int) Required FK Index, 24] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Categorium.Nombre (string) Required MaxLength(100), 26] }
            7 -> 14
            8 -> 18
            9 -> 25
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: SubCategorium.CategoriaId (int) Required FK Index, 28], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 29] }
            11 -> 27
        SELECT c.Id, c.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s0.Id, s0.Cantidad, s0.CarritoId, s0.ProductoId, s0.Codigo, s0.CategoriaId, s0.ImageUrl, s0.Marca, s0.Nombre, s0.Stock, s0.SubCategoriaId, s0.Id0, s0.Nombre0, s0.Id1, s0.CategoriaId0, s0.Nombre1
        FROM Carrito AS c
        INNER JOIN UsuarioCliente AS u ON c.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.Id, d.Cantidad, d.CarritoId, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c0.Id AS Id0, c0.Nombre AS Nombre0, s.Id AS Id1, s.CategoriaId AS CategoriaId0, s.Nombre AS Nombre1
            FROM DetalleCarrito AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c0 ON p.CategoriaId == c0.Id
            LEFT JOIN SubCategoria AS s ON c0.Id == s.CategoriaId
        ) AS s0 ON c.Id == s0.CarritoId
        WHERE c.UsuarioId == @__id_0
        ORDER BY c.Id ASC, u.Id ASC, s0.Id ASC, s0.Codigo ASC, s0.Id0 ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Carrito entity;
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Carrito instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Carrito);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Carrito)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                            {
                                return 
                                {
                                    Carrito instance;
                                    instance = new Carrito();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Carrito)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                UsuarioCliente instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(UsuarioCliente);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(2) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (UsuarioCliente)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(6) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(6);
                                    instance.<Email>k__BackingField = dataReader.GetString(7);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<UserName>k__BackingField = dataReader.GetString(13);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Carrito, Carrito, UsuarioCliente>(
                queryContext: queryContext, 
                entity: (Carrito)(resultContext.Values[0]), 
                relatedEntity: (UsuarioCliente)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Carrito.Usuario (UsuarioCliente) ToPrincipal UsuarioCliente Inverse: Carritos | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("Usuario")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Carritos (ICollection<Carrito>) Collection ToDependent Carrito Inverse: Usuario | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Carritos")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Usuario>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<UsuarioCliente, ICollection<Carrito>, Carrito> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Carritos").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Carrito, Carrito>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Carrito)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(2) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(2) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Carrito.DetallesCarrito (ICollection<DetalleCarrito>) Collection ToDependent DetalleCarrito Inverse: Carrito | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Carrito, DetalleCarrito>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(2) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(2) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
            }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    DetalleCarrito entity;
                    Producto entity;
                    Categorium entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        DetalleCarrito instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(DetalleCarrito);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleCarrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(14) ? default(object) : (object)dataReader.GetInt32(14) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (DetalleCarrito)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]: 
                                    {
                                        return 
                                        {
                                            DetalleCarrito instance;
                                            instance = new DetalleCarrito();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(14) ? default(int) : dataReader.GetInt32(14);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(15) ? default(int) : dataReader.GetInt32(15);
                                            instance.<CarritoId>k__BackingField = dataReader.IsDBNull(16) ? default(int) : dataReader.GetInt32(16);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(17) ? default(int) : dataReader.GetInt32(17);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleCarrito)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext4;
                        IEntityType entityType4;
                        Producto instance4;
                        InternalEntityEntry entry4;
                        bool hasNullKey4;
                        materializationContext4 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance4 = default(Producto);
                        entry4 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(18) ? default(object) : (object)dataReader.GetInt32(18) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey4);
                        !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                        {
                            entityType4 = entry4.EntityType;
                            return instance4 = (Producto)entry4.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot4;
                            shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType4 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                            instance4 = switch (entityType4)
                            {
                                case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                                    {
                                        return 
                                        {
                                            Producto instance;
                                            instance = new Producto();
                                            instance.<Codigo>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                            instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                            instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                            instance.<Marca>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                            instance.<Stock>k__BackingField = dataReader.IsDBNull(23) ? default(bool?) : (bool?)dataReader.GetBoolean(23);
                                            instance.<SubCategoriaId>k__BackingField = dataReader.IsDBNull(24) ? default(int) : dataReader.GetInt32(24);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext4.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Producto)
                            }
                            ;
                            entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType4, 
                                entity: instance4, 
                                snapshot: shadowSnapshot4);
                            return instance4;
                        } : default(void);
                        return instance4;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext5;
                        IEntityType entityType5;
                        Categorium instance5;
                        InternalEntityEntry entry5;
                        bool hasNullKey5;
                        materializationContext5 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance5 = default(Categorium);
                        entry5 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(25) ? default(object) : (object)dataReader.GetInt32(25) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey5);
                        !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                        {
                            entityType5 = entry5.EntityType;
                            return instance5 = (Categorium)entry5.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot5;
                            shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType5 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                            instance5 = switch (entityType5)
                            {
                                case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                                    {
                                        return 
                                        {
                                            Categorium instance;
                                            instance = new Categorium();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext5.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Categorium)
                            }
                            ;
                            entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType5, 
                                entity: instance5, 
                                snapshot: shadowSnapshot5);
                            return instance5;
                        } : default(void);
                        return instance5;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                        collectionId: 1, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Categorium)(resultContext.Values[2]), 
                        parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                            (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                            (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
                        }], 
                        outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                            (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                            (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
                        }], 
                        navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                        queryContext: queryContext, 
                        entity: (Producto)(resultContext.Values[1]), 
                        relatedEntity: (Categorium)(resultContext.Values[2]), 
                        navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                        fixup: (namelessParameter{26}, namelessParameter{27}) => 
                        {
                            namelessParameter{26}.<Categoria>k__BackingField = namelessParameter{27};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                                entity: namelessParameter{27}, 
                                value: namelessParameter{26}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<DetalleCarrito, DetalleCarrito, Producto>(
                        queryContext: queryContext, 
                        entity: (DetalleCarrito)(resultContext.Values[0]), 
                        relatedEntity: (Producto)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: DetalleCarrito.Producto (Producto) ToPrincipal Producto Inverse: DetallesCarrito | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindNavigation("Producto")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Producto.DetallesCarrito (ICollection<DetalleCarrito>) Collection ToDependent DetalleCarrito Inverse: Producto | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetallesCarrito")], 
                        fixup: (namelessParameter{31}, namelessParameter{32}) => 
                        {
                            namelessParameter{31}.<Producto>k__BackingField = namelessParameter{32};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Producto, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetallesCarrito").GetCollectionAccessor()].Add(
                                entity: namelessParameter{32}, 
                                value: namelessParameter{31}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
                    collectionId: 1, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                        (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                        (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                        (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                        (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
                    }], 
                    selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(27) ? default(int?) : (int?)dataReader.GetInt32(27) }], 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        SubCategorium entity;
                        entity = 
                        {
                            MaterializationContext materializationContext6;
                            IEntityType entityType6;
                            SubCategorium instance6;
                            InternalEntityEntry entry6;
                            bool hasNullKey6;
                            materializationContext6 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance6 = default(SubCategorium);
                            entry6 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(27) ? default(object) : (object)dataReader.GetInt32(27) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey6);
                            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                            {
                                entityType6 = entry6.EntityType;
                                return instance6 = (SubCategorium)entry6.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot6;
                                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType6 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                                instance6 = switch (entityType6)
                                {
                                    case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                        {
                                            return 
                                            {
                                                SubCategorium instance;
                                                instance = new SubCategorium();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(27) ? default(int) : dataReader.GetInt32(27);
                                                instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                                instance.<Nombre>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext6.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(SubCategorium)
                                }
                                ;
                                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType6, 
                                    entity: instance6, 
                                    snapshot: shadowSnapshot6);
                                return instance6;
                            } : default(void);
                            return instance6;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
                    fixup: (namelessParameter{38}, namelessParameter{39}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                            entity: namelessParameter{38}, 
                            value: namelessParameter{39}, 
                            forMaterialization: True);
                        return namelessParameter{39}.<Categoria>k__BackingField = namelessParameter{38};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (DetalleCarrito)(resultContext.Values[0]) : default(DetalleCarrito);
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: DetalleCarrito.Carrito (Carrito) ToPrincipal Carrito Inverse: DetallesCarrito | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindNavigation("Carrito")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()].Add(
                    entity: namelessParameter{42}, 
                    value: namelessParameter{43}, 
                    forMaterialization: True);
                return namelessParameter{43}.<Carrito>k__BackingField = namelessParameter{42};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Carrito)(resultContext.Values[0]) : default(Carrito);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 18:25:40.736 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:25:40.736 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:25:40.736 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:25:40.765 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:25:40.765 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:25:40.765 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:25:40.765 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:25:40.765 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 18:25:40.805 -04:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 18:25:40.807 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.812 -04:00 [DBG] The navigation 'Carrito.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.816 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.834 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.836 -04:00 [DBG] The navigation 'DetalleCarrito.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.840 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.847 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.848 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.851 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.852 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:25:40.853 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:25:40.853 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 48ms reading results.
2025-02-08 18:25:40.853 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:25:40.854 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:25:40.890 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) in 225.3036ms
2025-02-08 18:25:40.890 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:25:40.890 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" completed keep alive response.
2025-02-08 18:25:40.890 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:25:40.890 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:25:40.890 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:25:40.890 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Carrito?id=2 - 200 932 application/json; charset=utf-8 234.2822ms
2025-02-08 18:26:44.609 -04:00 [DBG] Connection id "0HNA8HKJMDDI5" received FIN.
2025-02-08 18:26:44.611 -04:00 [DBG] Connection id "0HNA8HKJMDDI5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:26:44.611 -04:00 [DBG] Connection id "0HNA8HKJMDDI5" disconnecting.
2025-02-08 18:26:44.611 -04:00 [DBG] Connection id "0HNA8HKJMDDI5" stopped.
2025-02-08 18:27:51.934 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" disconnecting.
2025-02-08 18:27:51.937 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" stopped.
2025-02-08 18:27:51.938 -04:00 [DBG] Connection id "0HNA8HKJMDDI4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:29:13.532 -04:00 [DBG] Connection id "0HNA8HKJMDDI6" accepted.
2025-02-08 18:29:13.534 -04:00 [DBG] Connection id "0HNA8HKJMDDI6" started.
2025-02-08 18:29:13.536 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json-patch+json 59
2025-02-08 18:29:13.537 -04:00 [DBG] POST requests are not supported
2025-02-08 18:29:13.537 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 18:29:13.537 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 18:29:13.537 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:29:13.538 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:29:13.538 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:29:13.538 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:29:13.539 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:29:13.539 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:29:13.543 -04:00 [INF] Route matched with {action = "AgregaroProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregaroProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:29:13.544 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:29:13.544 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:29:13.544 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:29:13.544 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:29:13.544 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:29:13.544 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:29:13.545 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:29:13.545 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 18:29:13.545 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 18:29:13.545 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:29:13.545 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:29:13.546 -04:00 [DBG] Connection id "0HNA8HKJMDDI6", Request id "0HNA8HKJMDDI6:00000001": started reading request body.
2025-02-08 18:29:13.546 -04:00 [DBG] Connection id "0HNA8HKJMDDI6", Request id "0HNA8HKJMDDI6:00000001": done reading request body.
2025-02-08 18:29:13.547 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:29:13.547 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:29:13.547 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 18:29:13.547 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:29:13.547 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:29:13.549 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:29:13.550 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:29:13.550 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:29:13.550 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.550 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.550 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:29:13.550 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:29:13.550 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:29:13.550 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 18:29:13.557 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 18:29:13.557 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:13.557 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.557 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:29:13.558 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.558 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:29:13.559 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'DetalleCarrito.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:13.559 -04:00 [DBG] The navigation 'DetalleCarrito.Carrito' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:13.559 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:13.559 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:29:13.559 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:29:13.560 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:29:13.560 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.560 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.560 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:29:13.560 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:29:13.560 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:29:13.560 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-08 18:29:13.568 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-08 18:29:13.569 -04:00 [DBG] The foreign key property 'DetalleCarrito.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:29:13.569 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.569 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:29:13.569 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.569 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:29:13.569 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:13.569 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:29:13.569 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.1704ms.
2025-02-08 18:29:13.570 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:29:13.570 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:29:13.570 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:29:13.570 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:29:13.570 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:29:13.570 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:29:13.570 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE) in 26.032ms
2025-02-08 18:29:13.570 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:29:13.570 -04:00 [DBG] Connection id "0HNA8HKJMDDI6" completed keep alive response.
2025-02-08 18:29:13.570 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:29:13.570 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:13.570 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:29:13.570 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 200 null text/plain; charset=utf-8 33.8478ms
2025-02-08 18:29:27.977 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Carrito?id=2 - null null
2025-02-08 18:29:27.977 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:29:27.981 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito'
2025-02-08 18:29:27.981 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)' with route pattern 'api/Carrito' is valid for the request path '/api/Carrito'
2025-02-08 18:29:27.981 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:29:27.982 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:29:27.982 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:29:27.984 -04:00 [INF] Route matched with {action = "ObtenerCarritoUsario", controller = "Carrito"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerCarritoUsario(Int32) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:29:27.984 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:29:27.984 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:29:27.984 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:29:27.984 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:29:27.984 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:29:27.984 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:29:27.985 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:29:27.985 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:29:27.985 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:29:27.985 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:29:27.985 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:29:27.985 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:29:27.985 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:29:27.985 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:29:27.986 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:29:27.986 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.0102ms.
2025-02-08 18:29:27.987 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:29:27.987 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:29:27.987 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:29:27.987 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:29:27.987 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:29:27.987 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Carrito, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:29:27.987 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Carrito, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:29:27.987 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:29:27.987 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:29:27.987 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:27.987 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:27.987 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:29:27.987 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:29:27.987 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:29:27.988 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 18:29:27.991 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 18:29:27.992 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] The navigation 'Carrito.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] The navigation 'DetalleCarrito.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.992 -04:00 [DBG] The navigation 'DetalleCarrito.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.993 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.993 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.993 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.993 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.993 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:29:27.993 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:27.993 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:29:27.993 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:27.993 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:29:27.994 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) in 9.461ms
2025-02-08 18:29:27.994 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:29:27.994 -04:00 [DBG] Connection id "0HNA8HKJMDDI6" completed keep alive response.
2025-02-08 18:29:27.994 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:29:27.994 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:29:27.994 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:29:27.994 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Carrito?id=2 - 200 1489 application/json; charset=utf-8 17.3524ms
2025-02-08 18:31:38.301 -04:00 [DBG] Connection id "0HNA8HKJMDDI6" disconnecting.
2025-02-08 18:31:38.305 -04:00 [DBG] Connection id "0HNA8HKJMDDI6" stopped.
2025-02-08 18:31:38.307 -04:00 [DBG] Connection id "0HNA8HKJMDDI6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:35:09.923 -04:00 [DBG] Connection id "0HNA8HKJMDDI7" accepted.
2025-02-08 18:35:09.924 -04:00 [DBG] Connection id "0HNA8HKJMDDI7" started.
2025-02-08 18:35:09.929 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Solicitudes/confirmar - application/json-patch+json 20
2025-02-08 18:35:09.929 -04:00 [DBG] POST requests are not supported
2025-02-08 18:35:09.930 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/confirmar'
2025-02-08 18:35:09.930 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/confirmar' is valid for the request path '/api/Solicitudes/confirmar'
2025-02-08 18:35:09.930 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE)'
2025-02-08 18:35:09.930 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:35:09.930 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:35:09.930 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:35:09.930 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:35:09.931 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE)'
2025-02-08 18:35:09.935 -04:00 [INF] Route matched with {action = "ConfirmarSolicitud", controller = "Solicitudes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmarSolicitud(GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 18:35:09.935 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:35:09.935 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:35:09.935 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:35:09.935 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:35:09.935 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:35:09.936 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 18:35:09.937 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 18:35:09.937 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest' ...
2025-02-08 18:35:09.937 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest' using the name '' in request data ...
2025-02-08 18:35:09.937 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:35:09.937 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:35:09.937 -04:00 [DBG] Connection id "0HNA8HKJMDDI7", Request id "0HNA8HKJMDDI7:00000001": started reading request body.
2025-02-08 18:35:09.937 -04:00 [DBG] Connection id "0HNA8HKJMDDI7", Request id "0HNA8HKJMDDI7:00000001": done reading request body.
2025-02-08 18:35:09.939 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest'.
2025-02-08 18:35:09.939 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest'.
2025-02-08 18:35:09.939 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest' ...
2025-02-08 18:35:09.940 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest'.
2025-02-08 18:35:09.940 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:35:09.959 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:35:09.960 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:35:09.960 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:35:09.960 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:09.960 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:09.961 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:35:09.961 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:09.961 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:09.961 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:35:09.973 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:35:09.973 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:09.973 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:09.973 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:09.974 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:09.974 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:35:09.974 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:09.974 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:35:09.977 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Solicitud.IdSolicitud'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:09.985 -04:00 [DBG] Context 'MyDbContext' started tracking 'Solicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:09.985 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:35:09.985 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:35:09.988 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:35:09.990 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:09.990 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:09.990 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:35:09.990 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:09.991 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-02-08 18:35:09.992 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Solicitud] ([FechaSolicitud], [UsuarioId])
OUTPUT INSERTED.[IdSolicitud]
VALUES (@p0, @p1);
2025-02-08 18:35:10.027 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Solicitud] ([FechaSolicitud], [UsuarioId])
OUTPUT INSERTED.[IdSolicitud]
VALUES (@p0, @p1);
2025-02-08 18:35:10.028 -04:00 [DBG] The foreign key property 'Solicitud.IdSolicitud' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:35:10.030 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:10.030 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 2ms reading results.
2025-02-08 18:35:10.030 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:10.030 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:35:10.030 -04:00 [DBG] An entity of type 'Solicitud' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.030 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:35:10.033 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'DetalleSolicitud.IdDetalle'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.038 -04:00 [DBG] The navigation 'DetalleSolicitud.IdSolicitudNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.040 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.040 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'DetalleSolicitud.IdDetalle'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.040 -04:00 [DBG] The navigation 'DetalleSolicitud.IdSolicitudNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.040 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.040 -04:00 [DBG] An entity of type 'Carrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.048 -04:00 [DBG] A cascade state change of an entity of type 'DetalleCarrito' to '"Deleted"' occurred due to deletion of its parent entity of type 'Carrito'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.048 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.048 -04:00 [DBG] A cascade state change of an entity of type 'DetalleCarrito' to '"Deleted"' occurred due to deletion of its parent entity of type 'Carrito'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.048 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.048 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:35:10.048 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:35:10.048 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:35:10.059 -04:00 [DBG] Executing 5 update commands as a batch.
2025-02-08 18:35:10.061 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:10.061 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:10.063 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-02-08 18:35:10.070 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-02-08 18:35:10.071 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:35:10.071 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:10.072 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:10.072 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetalleCarrito]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetalleCarrito]
OUTPUT 1
WHERE [Id] = @p1;
MERGE [DetalleSolicitud] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Cantidad], [IdSolicitud], [ProductoId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Cantidad], [IdSolicitud], [ProductoId])
VALUES (i.[Cantidad], i.[IdSolicitud], i.[ProductoId])
OUTPUT INSERTED.[IdDetalle], i._Position;
DELETE FROM [Carrito]
OUTPUT 1
WHERE [Id] = @p8;
2025-02-08 18:35:10.099 -04:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetalleCarrito]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetalleCarrito]
OUTPUT 1
WHERE [Id] = @p1;
MERGE [DetalleSolicitud] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Cantidad], [IdSolicitud], [ProductoId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Cantidad], [IdSolicitud], [ProductoId])
VALUES (i.[Cantidad], i.[IdSolicitud], i.[ProductoId])
OUTPUT INSERTED.[IdDetalle], i._Position;
DELETE FROM [Carrito]
OUTPUT 1
WHERE [Id] = @p8;
2025-02-08 18:35:10.100 -04:00 [DBG] The foreign key property 'DetalleSolicitud.IdDetalle' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:35:10.100 -04:00 [DBG] The foreign key property 'DetalleSolicitud.IdDetalle' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:35:10.101 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:10.101 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:35:10.102 -04:00 [DBG] Committing transaction.
2025-02-08 18:35:10.107 -04:00 [DBG] Committed transaction.
2025-02-08 18:35:10.108 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:10.108 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:35:10.109 -04:00 [DBG] Disposing transaction.
2025-02-08 18:35:10.109 -04:00 [DBG] An entity of type 'DetalleSolicitud' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.109 -04:00 [DBG] An entity of type 'DetalleSolicitud' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.111 -04:00 [DBG] The navigation 'DetalleCarrito.Carrito' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.111 -04:00 [DBG] The navigation 'DetalleCarrito.Carrito' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.111 -04:00 [DBG] An entity of type 'Carrito' tracked by 'MyDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.112 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.112 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:10.112 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 5 entities written to the database.
2025-02-08 18:35:10.112 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 171.9856ms.
2025-02-08 18:35:10.112 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:35:10.112 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:35:10.112 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:35:10.112 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:35:10.112 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:35:10.112 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:35:10.112 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE) in 176.4267ms
2025-02-08 18:35:10.112 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE)'
2025-02-08 18:35:10.112 -04:00 [DBG] Connection id "0HNA8HKJMDDI7" completed keep alive response.
2025-02-08 18:35:10.112 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:35:10.112 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:10.112 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:35:10.112 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Solicitudes/confirmar - 200 null text/plain; charset=utf-8 183.2664ms
2025-02-08 18:35:12.240 -04:00 [DBG] Connection id "0HNA8HKJMDDI7" received FIN.
2025-02-08 18:35:12.241 -04:00 [DBG] Connection id "0HNA8HKJMDDI7" disconnecting.
2025-02-08 18:35:12.241 -04:00 [DBG] Connection id "0HNA8HKJMDDI7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:35:12.248 -04:00 [DBG] Connection id "0HNA8HKJMDDI7" stopped.
2025-02-08 18:35:25.951 -04:00 [DBG] Connection id "0HNA8HKJMDDI8" accepted.
2025-02-08 18:35:25.952 -04:00 [DBG] Connection id "0HNA8HKJMDDI8" started.
2025-02-08 18:35:25.952 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/2 - null null
2025-02-08 18:35:25.952 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:35:25.953 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/SolicitudesUsuario/2'
2025-02-08 18:35:25.953 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/SolicitudesUsuario/{id}' is valid for the request path '/api/Solicitudes/SolicitudesUsuario/2'
2025-02-08 18:35:25.953 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 18:35:25.953 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:35:25.953 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 18:35:25.954 -04:00 [INF] Route matched with {action = "GetSolicitudesUsuario", controller = "Solicitudes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSolicitudesUsuario(Int32) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 18:35:25.954 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:35:25.954 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:35:25.954 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:35:25.954 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:35:25.954 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:35:25.954 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 18:35:25.954 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 18:35:25.954 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:35:25.955 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:35:25.955 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:35:25.955 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:35:25.955 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:35:25.955 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:35:25.955 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:35:25.956 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:35:25.959 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(l => l.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)
    .Any()'
2025-02-08 18:35:25.963 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Solicitud AS s
            WHERE s.UsuarioId == @__id_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Solicitud AS s
            WHERE s.UsuarioId == @__id_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-02-08 18:35:25.976 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:35:25.976 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:35:25.977 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:25.978 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:25.978 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:35:25.978 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:25.978 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:25.979 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 18:35:25.985 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Solicitud] AS [s]
        WHERE [s].[UsuarioId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 18:35:25.987 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:25.987 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:35:25.987 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:25.988 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:35:25.988 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.8567ms.
2025-02-08 18:35:25.988 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:35:25.988 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:35:25.988 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:35:25.988 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:35:25.988 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:35:25.988 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:35:25.988 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:35:25.988 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(l => l.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)'
2025-02-08 18:35:25.989 -04:00 [DBG] Including navigation: 'Solicitud.Usuario'.
2025-02-08 18:35:25.989 -04:00 [DBG] Including navigation: 'Solicitud.DetalleSolicituds'.
2025-02-08 18:35:25.989 -04:00 [DBG] Including navigation: 'DetalleSolicitud.Producto'.
2025-02-08 18:35:25.989 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 18:35:25.989 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 18:35:25.996 -04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-08 18:35:26.012 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Solicitud>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 26], [Property: Categorium.Nombre (string) Required MaxLength(100), 27] }
            7 -> 15
            8 -> 19
            9 -> 26
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: SubCategorium.CategoriaId (int) Required FK Index, 29], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 30] }
            11 -> 28
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s1.IdDetalle, s1.Cantidad, s1.IdSolicitud, s1.ProductoId, s1.Codigo, s1.CategoriaId, s1.ImageUrl, s1.Marca, s1.Nombre, s1.Stock, s1.SubCategoriaId, s1.Id, s1.Nombre0, s1.Id0, s1.CategoriaId0, s1.Nombre1
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0, s0.Id AS Id0, s0.CategoriaId AS CategoriaId0, s0.Nombre AS Nombre1
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
            LEFT JOIN SubCategoria AS s0 ON c.Id == s0.CategoriaId
        ) AS s1 ON s.IdSolicitud == s1.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s1.IdDetalle ASC, s1.Codigo ASC, s1.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 26], [Property: Categorium.Nombre (string) Required MaxLength(100), 27] }
            7 -> 15
            8 -> 19
            9 -> 26
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: SubCategorium.CategoriaId (int) Required FK Index, 29], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 30] }
            11 -> 28
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s1.IdDetalle, s1.Cantidad, s1.IdSolicitud, s1.ProductoId, s1.Codigo, s1.CategoriaId, s1.ImageUrl, s1.Marca, s1.Nombre, s1.Stock, s1.SubCategoriaId, s1.Id, s1.Nombre0, s1.Id0, s1.CategoriaId0, s1.Nombre1
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0, s0.Id AS Id0, s0.CategoriaId AS CategoriaId0, s0.Nombre AS Nombre1
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
            LEFT JOIN SubCategoria AS s0 ON c.Id == s0.CategoriaId
        ) AS s1 ON s.IdSolicitud == s1.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s1.IdDetalle ASC, s1.Codigo ASC, s1.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Solicitud entity;
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Solicitud instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Solicitud);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Solicitud.IdSolicitud PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Solicitud)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]: 
                            {
                                return 
                                {
                                    Solicitud instance;
                                    instance = new Solicitud();
                                    instance.<IdSolicitud>k__BackingField = dataReader.GetInt32(0);
                                    instance.<FechaSolicitud>k__BackingField = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Solicitud)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                UsuarioCliente instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(UsuarioCliente);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (UsuarioCliente)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
                                    instance.<Email>k__BackingField = dataReader.GetString(8);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<UserName>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Solicitud, Solicitud, UsuarioCliente>(
                queryContext: queryContext, 
                entity: (Solicitud)(resultContext.Values[0]), 
                relatedEntity: (UsuarioCliente)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.Usuario (UsuarioCliente) ToPrincipal UsuarioCliente Inverse: Solicituds | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("Usuario")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Solicituds (ICollection<Solicitud>) Collection ToDependent Solicitud Inverse: Usuario | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Usuario>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<UsuarioCliente, ICollection<Solicitud>, Solicitud> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Solicitud, Solicitud>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Solicitud)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: IdSolicitudNavigation | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Solicitud, DetalleSolicitud>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
            }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    DetalleSolicitud entity;
                    Producto entity;
                    Categorium entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        DetalleSolicitud instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(DetalleSolicitud);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleSolicitud.IdDetalle PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetInt32(15) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (DetalleSolicitud)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]: 
                                    {
                                        return 
                                        {
                                            DetalleSolicitud instance;
                                            instance = new DetalleSolicitud();
                                            instance.<IdDetalle>k__BackingField = dataReader.IsDBNull(15) ? default(int) : dataReader.GetInt32(15);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(16) ? default(int) : dataReader.GetInt32(16);
                                            instance.<IdSolicitud>k__BackingField = dataReader.IsDBNull(17) ? default(int) : dataReader.GetInt32(17);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleSolicitud)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext4;
                        IEntityType entityType4;
                        Producto instance4;
                        InternalEntityEntry entry4;
                        bool hasNullKey4;
                        materializationContext4 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance4 = default(Producto);
                        entry4 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(19) ? default(object) : (object)dataReader.GetInt32(19) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey4);
                        !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                        {
                            entityType4 = entry4.EntityType;
                            return instance4 = (Producto)entry4.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot4;
                            shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType4 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                            instance4 = switch (entityType4)
                            {
                                case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                                    {
                                        return 
                                        {
                                            Producto instance;
                                            instance = new Producto();
                                            instance.<Codigo>k__BackingField = dataReader.IsDBNull(19) ? default(int) : dataReader.GetInt32(19);
                                            instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(20) ? default(int?) : (int?)dataReader.GetInt32(20);
                                            instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                            instance.<Marca>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                            instance.<Stock>k__BackingField = dataReader.IsDBNull(24) ? default(bool?) : (bool?)dataReader.GetBoolean(24);
                                            instance.<SubCategoriaId>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext4.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Producto)
                            }
                            ;
                            entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType4, 
                                entity: instance4, 
                                snapshot: shadowSnapshot4);
                            return instance4;
                        } : default(void);
                        return instance4;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext5;
                        IEntityType entityType5;
                        Categorium instance5;
                        InternalEntityEntry entry5;
                        bool hasNullKey5;
                        materializationContext5 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance5 = default(Categorium);
                        entry5 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(26) ? default(object) : (object)dataReader.GetInt32(26) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey5);
                        !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                        {
                            entityType5 = entry5.EntityType;
                            return instance5 = (Categorium)entry5.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot5;
                            shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType5 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                            instance5 = switch (entityType5)
                            {
                                case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                                    {
                                        return 
                                        {
                                            Categorium instance;
                                            instance = new Categorium();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(26) ? default(int) : dataReader.GetInt32(26);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext5.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Categorium)
                            }
                            ;
                            entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType5, 
                                entity: instance5, 
                                snapshot: shadowSnapshot5);
                            return instance5;
                        } : default(void);
                        return instance5;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                        collectionId: 1, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Categorium)(resultContext.Values[2]), 
                        parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                            (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                            (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                        }], 
                        outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                            (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                            (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                        }], 
                        navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                        queryContext: queryContext, 
                        entity: (Producto)(resultContext.Values[1]), 
                        relatedEntity: (Categorium)(resultContext.Values[2]), 
                        navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                        fixup: (namelessParameter{26}, namelessParameter{27}) => 
                        {
                            namelessParameter{26}.<Categoria>k__BackingField = namelessParameter{27};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                                entity: namelessParameter{27}, 
                                value: namelessParameter{26}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<DetalleSolicitud, DetalleSolicitud, Producto>(
                        queryContext: queryContext, 
                        entity: (DetalleSolicitud)(resultContext.Values[0]), 
                        relatedEntity: (Producto)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.Producto (Producto) ToPrincipal Producto Inverse: DetalleSolicituds | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("Producto")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Producto.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: Producto | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds")], 
                        fixup: (namelessParameter{31}, namelessParameter{32}) => 
                        {
                            namelessParameter{31}.<Producto>k__BackingField = namelessParameter{32};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Producto, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                                entity: namelessParameter{32}, 
                                value: namelessParameter{31}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
                    collectionId: 1, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                        (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                        (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                        (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                        (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                    }], 
                    selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        SubCategorium entity;
                        entity = 
                        {
                            MaterializationContext materializationContext6;
                            IEntityType entityType6;
                            SubCategorium instance6;
                            InternalEntityEntry entry6;
                            bool hasNullKey6;
                            materializationContext6 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance6 = default(SubCategorium);
                            entry6 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey6);
                            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                            {
                                entityType6 = entry6.EntityType;
                                return instance6 = (SubCategorium)entry6.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot6;
                                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType6 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                                instance6 = switch (entityType6)
                                {
                                    case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                        {
                                            return 
                                            {
                                                SubCategorium instance;
                                                instance = new SubCategorium();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                                instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                                instance.<Nombre>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext6.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(SubCategorium)
                                }
                                ;
                                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType6, 
                                    entity: instance6, 
                                    snapshot: shadowSnapshot6);
                                return instance6;
                            } : default(void);
                            return instance6;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
                    fixup: (namelessParameter{38}, namelessParameter{39}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                            entity: namelessParameter{38}, 
                            value: namelessParameter{39}, 
                            forMaterialization: True);
                        return namelessParameter{39}.<Categoria>k__BackingField = namelessParameter{38};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (DetalleSolicitud)(resultContext.Values[0]) : default(DetalleSolicitud);
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.IdSolicitudNavigation (Solicitud) ToPrincipal Solicitud Inverse: DetalleSolicituds | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("IdSolicitudNavigation")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                    entity: namelessParameter{42}, 
                    value: namelessParameter{43}, 
                    forMaterialization: True);
                return namelessParameter{43}.<IdSolicitudNavigation>k__BackingField = namelessParameter{42};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Solicitud)(resultContext.Values[0]) : default(Solicitud);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 18:35:26.014 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:26.014 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:26.015 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:35:26.015 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:26.015 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:35:26.015 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 18:35:26.024 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 18:35:26.024 -04:00 [DBG] Context 'MyDbContext' started tracking 'Solicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.024 -04:00 [DBG] The navigation 'Solicitud.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.024 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.028 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.028 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.028 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.028 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.028 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Context 'MyDbContext' started tracking 'Solicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:35:26.029 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:26.029 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 5ms reading results.
2025-02-08 18:35:26.030 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:26.030 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:35:26.032 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) in 78.1694ms
2025-02-08 18:35:26.032 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 18:35:26.033 -04:00 [DBG] Connection id "0HNA8HKJMDDI8" completed keep alive response.
2025-02-08 18:35:26.033 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:35:26.033 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:35:26.033 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:35:26.033 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/2 - 200 10913 application/json; charset=utf-8 80.75ms
2025-02-08 18:35:27.242 -04:00 [DBG] Connection id "0HNA8HKJMDDI8" received FIN.
2025-02-08 18:35:27.243 -04:00 [DBG] Connection id "0HNA8HKJMDDI8" disconnecting.
2025-02-08 18:35:27.244 -04:00 [DBG] Connection id "0HNA8HKJMDDI8" stopped.
2025-02-08 18:35:27.246 -04:00 [DBG] Connection id "0HNA8HKJMDDI8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:40:37.965 -04:00 [INF] Application is shutting down...
2025-02-08 18:40:37.980 -04:00 [DBG] Hosting stopping
2025-02-08 18:40:38.004 -04:00 [DBG] Hosting stopped
2025-02-08 18:46:55.414 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 18:46:55.470 -04:00 [DBG] Hosting starting
2025-02-08 18:46:55.474 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 18:46:55.480 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 18:46:55.482 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 18:46:55.483 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 18:46:55.483 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 18:46:55.485 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 18:46:55.487 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 18:46:55.487 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 18:46:55.487 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 18:46:55.489 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 18:46:55.490 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 18:46:55.492 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 18:46:55.493 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 18:46:55.494 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 18:46:55.494 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 18:46:55.517 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 18:46:55.519 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 18:46:55.525 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 18:46:55.525 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 18:46:55.525 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 18:46:55.525 -04:00 [INF] Hosting environment: Development
2025-02-08 18:46:55.525 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 18:46:55.525 -04:00 [DBG] Hosting started
2025-02-08 18:46:59.225 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" accepted.
2025-02-08 18:46:59.225 -04:00 [DBG] Connection id "0HNA8I9VIGGGC" accepted.
2025-02-08 18:46:59.225 -04:00 [DBG] Connection id "0HNA8I9VIGGGC" started.
2025-02-08 18:46:59.225 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" started.
2025-02-08 18:46:59.243 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.html - null null
2025-02-08 18:46:59.343 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" completed keep alive response.
2025-02-08 18:46:59.344 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.html - 200 null text/html;charset=utf-8 101.9336ms
2025-02-08 18:46:59.414 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.js - null null
2025-02-08 18:46:59.416 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" completed keep alive response.
2025-02-08 18:46:59.416 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.js - 200 null application/javascript;charset=utf-8 1.4081ms
2025-02-08 18:46:59.468 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - null null
2025-02-08 18:46:59.475 -04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 18:46:59.475 -04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 18:46:59.477 -04:00 [DBG] Executing API description provider 'JsonPatchOperationsArrayProvider' from assembly Microsoft.AspNetCore.Mvc.NewtonsoftJson v9.0.1.0.
2025-02-08 18:46:59.540 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" completed keep alive response.
2025-02-08 18:46:59.540 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.279ms
2025-02-08 18:47:02.386 -04:00 [DBG] Connection id "0HNA8I9VIGGGC" received FIN.
2025-02-08 18:47:02.386 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" received FIN.
2025-02-08 18:47:02.390 -04:00 [DBG] Connection id "0HNA8I9VIGGGC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:47:02.390 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:47:02.395 -04:00 [DBG] Connection id "0HNA8I9VIGGGC" disconnecting.
2025-02-08 18:47:02.395 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" disconnecting.
2025-02-08 18:47:02.396 -04:00 [DBG] Connection id "0HNA8I9VIGGGB" stopped.
2025-02-08 18:47:02.396 -04:00 [DBG] Connection id "0HNA8I9VIGGGC" stopped.
2025-02-08 18:47:07.419 -04:00 [DBG] Connection id "0HNA8I9VIGGGD" accepted.
2025-02-08 18:47:07.419 -04:00 [DBG] Connection id "0HNA8I9VIGGGD" started.
2025-02-08 18:47:07.419 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/User/2 - null null
2025-02-08 18:47:07.420 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:47:07.436 -04:00 [DBG] 1 candidate(s) found for the request path '/api/User/2'
2025-02-08 18:47:07.436 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/2'
2025-02-08 18:47:07.437 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE)'
2025-02-08 18:47:07.438 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:47:07.457 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:47:07.458 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE)'
2025-02-08 18:47:07.468 -04:00 [INF] Route matched with {action = "GetProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE).
2025-02-08 18:47:07.469 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:47:07.469 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:47:07.469 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:47:07.469 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:47:07.469 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:47:07.470 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 18:47:07.537 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 18:47:07.555 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 18:47:07.556 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:47:07.557 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:47:07.557 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:47:07.557 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:47:07.557 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:47:07.557 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:47:07.560 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:47:08.086 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:47:08.135 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Include(u => u.Rol)
    .FirstOrDefault(u => u.Id == __id_0)'
2025-02-08 18:47:08.184 -04:00 [DBG] Including navigation: 'UsuarioCliente.Rol'.
2025-02-08 18:47:08.367 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UsuarioCliente>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UsuarioCliente>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
                1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
            FROM UsuarioCliente AS u
            INNER JOIN Roles AS r ON u.RolId == r.IdRol
            WHERE u.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
                1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
            FROM UsuarioCliente AS u
            INNER JOIN Roles AS r ON u.RolId == r.IdRol
            WHERE u.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UsuarioCliente entity;
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UsuarioCliente instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UsuarioCliente);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UsuarioCliente)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(4) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(4);
                                    instance.<Email>k__BackingField = dataReader.GetString(5);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(9);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<UserName>k__BackingField = dataReader.GetString(11);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Role instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Role);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(12) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Role)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<IdRol>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Name>k__BackingField = dataReader.GetString(13);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<UsuarioCliente, UsuarioCliente, Role>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Rol (Role) ToPrincipal Role Inverse: UsuarioClientes | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Rol")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Role.UsuarioClientes (ICollection<UsuarioCliente>) Collection ToDependent UsuarioCliente Inverse: Rol | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Rol>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Role, ICollection<UsuarioCliente>, UsuarioCliente> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:47:08.403 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:47:08.425 -04:00 [DBG] Created DbConnection. (20ms).
2025-02-08 18:47:08.427 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:47:08.601 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:47:08.605 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:47:08.609 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 18:47:08.614 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-02-08 18:47:08.619 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Id] = @__id_0
2025-02-08 18:47:08.686 -04:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Id] = @__id_0
2025-02-08 18:47:08.719 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:47:08.751 -04:00 [DBG] The navigation 'UsuarioCliente.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:47:08.754 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:47:08.759 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:47:08.764 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 73ms reading results.
2025-02-08 18:47:08.766 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:47:08.771 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (4ms).
2025-02-08 18:47:08.775 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1212.8265ms.
2025-02-08 18:47:08.778 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:47:08.779 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:47:08.779 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:47:08.779 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:47:08.780 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:47:08.780 -04:00 [INF] Executing OkObjectResult, writing value of type 'GIGANTECLIENTCORE.DTO.UserClienteDTO'.
2025-02-08 18:47:08.855 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE) in 1383.2637ms
2025-02-08 18:47:08.856 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE)'
2025-02-08 18:47:08.858 -04:00 [DBG] Connection id "0HNA8I9VIGGGD" completed keep alive response.
2025-02-08 18:47:08.860 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:47:08.864 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:47:08.865 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 18:47:08.866 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/User/2 - 200 262 application/json; charset=utf-8 1446.635ms
2025-02-08 18:47:12.386 -04:00 [DBG] Connection id "0HNA8I9VIGGGD" received FIN.
2025-02-08 18:47:12.388 -04:00 [DBG] Connection id "0HNA8I9VIGGGD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:47:12.388 -04:00 [DBG] Connection id "0HNA8I9VIGGGD" disconnecting.
2025-02-08 18:47:12.388 -04:00 [DBG] Connection id "0HNA8I9VIGGGD" stopped.
2025-02-08 18:48:12.834 -04:00 [DBG] Connection id "0HNA8I9VIGGGE" accepted.
2025-02-08 18:48:12.835 -04:00 [DBG] Connection id "0HNA8I9VIGGGE" started.
2025-02-08 18:48:12.838 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/User/update/2 - application/json-patch+json 211
2025-02-08 18:48:12.839 -04:00 [DBG] PUT requests are not supported
2025-02-08 18:48:12.840 -04:00 [DBG] 1 candidate(s) found for the request path '/api/User/update/2'
2025-02-08 18:48:12.840 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE)' with route pattern 'api/User/update/{id}' is valid for the request path '/api/User/update/2'
2025-02-08 18:48:12.841 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE)'
2025-02-08 18:48:12.842 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:48:12.842 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:48:12.843 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:48:12.844 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:48:12.845 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE)'
2025-02-08 18:48:12.850 -04:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Int32, GIGANTECLIENTCORE.DTO.UpdateProfileDTO) on controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE).
2025-02-08 18:48:12.851 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:48:12.851 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:48:12.851 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:48:12.851 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:48:12.851 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:48:12.851 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 18:48:12.852 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 18:48:12.853 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:48:12.853 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:48:12.853 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:48:12.853 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:48:12.853 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:48:12.853 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:48:12.853 -04:00 [DBG] Attempting to bind parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO' ...
2025-02-08 18:48:12.854 -04:00 [DBG] Attempting to bind parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO' using the name '' in request data ...
2025-02-08 18:48:12.854 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:48:12.854 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:48:12.859 -04:00 [DBG] Connection id "0HNA8I9VIGGGE", Request id "0HNA8I9VIGGGE:00000001": started reading request body.
2025-02-08 18:48:12.859 -04:00 [DBG] Connection id "0HNA8I9VIGGGE", Request id "0HNA8I9VIGGGE:00000001": done reading request body.
2025-02-08 18:48:12.884 -04:00 [DBG] Done attempting to bind parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO'.
2025-02-08 18:48:12.884 -04:00 [DBG] Done attempting to bind parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO'.
2025-02-08 18:48:12.884 -04:00 [DBG] Attempting to validate the bound parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO' ...
2025-02-08 18:48:12.888 -04:00 [DBG] Done attempting to validate the bound parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO'.
2025-02-08 18:48:12.888 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:48:12.899 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:48:12.909 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-02-08 18:48:12.914 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UsuarioCliente>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UsuarioCliente>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName
            FROM UsuarioCliente AS u
            WHERE u.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName
            FROM UsuarioCliente AS u
            WHERE u.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UsuarioCliente instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UsuarioCliente);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UsuarioCliente)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(4) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(4);
                                    instance.<Email>k__BackingField = dataReader.GetString(5);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(9);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<UserName>k__BackingField = dataReader.GetString(11);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:48:12.916 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:48:12.916 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:48:12.916 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:12.917 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:12.917 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:48:12.917 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:48:12.917 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:48:12.917 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 18:48:12.944 -04:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 18:48:12.945 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:48:12.945 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:12.945 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:48:12.945 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:12.945 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:48:12.948 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:48:12.950 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:48:12.955 -04:00 [DBG] The unchanged property 'UsuarioCliente.Apellidos' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:48:12.959 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:48:12.968 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:48:13.009 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:13.009 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:13.011 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:48:13.011 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:48:13.011 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:48:13.011 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Apellidos] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:48:13.029 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Apellidos] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:48:13.033 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:13.033 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 3ms reading results.
2025-02-08 18:48:13.033 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:13.033 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:48:13.036 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:48:13.038 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:48:13.038 -04:00 [INF] Perfil actualizado exitosamente
2025-02-08 18:48:13.038 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 150.0869ms.
2025-02-08 18:48:13.038 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:48:13.038 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:48:13.038 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:48:13.038 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:48:13.038 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:48:13.038 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:48:13.039 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE) in 187.7842ms
2025-02-08 18:48:13.039 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE)'
2025-02-08 18:48:13.039 -04:00 [DBG] Connection id "0HNA8I9VIGGGE" completed keep alive response.
2025-02-08 18:48:13.039 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:48:13.039 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:13.039 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:48:13.039 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/User/update/2 - 200 null text/plain; charset=utf-8 200.8837ms
2025-02-08 18:48:17.405 -04:00 [DBG] Connection id "0HNA8I9VIGGGE" received FIN.
2025-02-08 18:48:17.405 -04:00 [DBG] Connection id "0HNA8I9VIGGGE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:48:17.405 -04:00 [DBG] Connection id "0HNA8I9VIGGGE" disconnecting.
2025-02-08 18:48:17.406 -04:00 [DBG] Connection id "0HNA8I9VIGGGE" stopped.
2025-02-08 18:48:43.003 -04:00 [DBG] Connection id "0HNA8I9VIGGGF" accepted.
2025-02-08 18:48:43.004 -04:00 [DBG] Connection id "0HNA8I9VIGGGF" started.
2025-02-08 18:48:43.005 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/User/change-password/2 - application/json-patch+json 56
2025-02-08 18:48:43.006 -04:00 [DBG] PUT requests are not supported
2025-02-08 18:48:43.006 -04:00 [DBG] 1 candidate(s) found for the request path '/api/User/change-password/2'
2025-02-08 18:48:43.006 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)' with route pattern 'api/User/change-password/{id}' is valid for the request path '/api/User/change-password/2'
2025-02-08 18:48:43.006 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 18:48:43.007 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:48:43.007 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:48:43.007 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:48:43.009 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:48:43.009 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 18:48:43.012 -04:00 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Int32, GIGANTECLIENTCORE.DTO.ChangePasswordDTO) on controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE).
2025-02-08 18:48:43.012 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:48:43.012 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:48:43.012 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:48:43.012 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:48:43.012 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:48:43.012 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 18:48:43.016 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 18:48:43.016 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:48:43.016 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:48:43.016 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:48:43.016 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:48:43.017 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:48:43.017 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:48:43.017 -04:00 [DBG] Attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' ...
2025-02-08 18:48:43.017 -04:00 [DBG] Attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' using the name '' in request data ...
2025-02-08 18:48:43.017 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:48:43.017 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:48:43.017 -04:00 [DBG] Connection id "0HNA8I9VIGGGF", Request id "0HNA8I9VIGGGF:00000001": started reading request body.
2025-02-08 18:48:43.017 -04:00 [DBG] Connection id "0HNA8I9VIGGGF", Request id "0HNA8I9VIGGGF:00000001": done reading request body.
2025-02-08 18:48:43.018 -04:00 [DBG] Done attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 18:48:43.018 -04:00 [DBG] Done attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 18:48:43.018 -04:00 [DBG] Attempting to validate the bound parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' ...
2025-02-08 18:48:43.019 -04:00 [DBG] Done attempting to validate the bound parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 18:48:43.019 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:48:43.049 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:48:43.052 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:48:43.052 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:48:43.052 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.053 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.053 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:48:43.053 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:48:43.053 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:48:43.053 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 18:48:43.062 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 18:48:43.063 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:48:43.063 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.063 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:48:43.063 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.063 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:48:43.063 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:48:43.063 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:48:43.063 -04:00 [DBG] The unchanged property 'UsuarioCliente.Password' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:48:43.063 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:48:43.063 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:48:43.064 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.064 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.064 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:48:43.064 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:48:43.064 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:48:43.064 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Password] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:48:43.078 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Password] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:48:43.078 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.078 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:48:43.078 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.078 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:48:43.079 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:48:43.079 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:48:43.079 -04:00 [INF] Contraseña actualizada exitosamente
2025-02-08 18:48:43.079 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 59.5992ms.
2025-02-08 18:48:43.079 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:48:43.079 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:48:43.079 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:48:43.079 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:48:43.079 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:48:43.079 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:48:43.079 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE) in 66.509ms
2025-02-08 18:48:43.079 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 18:48:43.079 -04:00 [DBG] Connection id "0HNA8I9VIGGGF" completed keep alive response.
2025-02-08 18:48:43.079 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:48:43.079 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:48:43.079 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:48:43.079 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/User/change-password/2 - 200 null text/plain; charset=utf-8 73.7548ms
2025-02-08 18:48:47.415 -04:00 [DBG] Connection id "0HNA8I9VIGGGF" received FIN.
2025-02-08 18:48:47.417 -04:00 [DBG] Connection id "0HNA8I9VIGGGF" disconnecting.
2025-02-08 18:48:47.417 -04:00 [DBG] Connection id "0HNA8I9VIGGGF" stopped.
2025-02-08 18:48:47.419 -04:00 [DBG] Connection id "0HNA8I9VIGGGF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:49:02.126 -04:00 [DBG] Connection id "0HNA8I9VIGGGG" accepted.
2025-02-08 18:49:02.127 -04:00 [DBG] Connection id "0HNA8I9VIGGGG" started.
2025-02-08 18:49:02.128 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/login - application/json-patch+json 62
2025-02-08 18:49:02.132 -04:00 [DBG] POST requests are not supported
2025-02-08 18:49:02.132 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-02-08 18:49:02.132 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-02-08 18:49:02.132 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 18:49:02.132 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:49:02.132 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:49:02.132 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:49:02.132 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:49:02.132 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 18:49:02.135 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(GIGANTECLIENTCORE.DTO.LoginRequest) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 18:49:02.135 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:49:02.135 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:49:02.136 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:49:02.136 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:49:02.136 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:49:02.136 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 18:49:02.137 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 18:49:02.137 -04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' ...
2025-02-08 18:49:02.137 -04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' using the name '' in request data ...
2025-02-08 18:49:02.137 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:49:02.137 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:49:02.137 -04:00 [DBG] Connection id "0HNA8I9VIGGGG", Request id "0HNA8I9VIGGGG:00000001": started reading request body.
2025-02-08 18:49:02.137 -04:00 [DBG] Connection id "0HNA8I9VIGGGG", Request id "0HNA8I9VIGGGG:00000001": done reading request body.
2025-02-08 18:49:02.140 -04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 18:49:02.140 -04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 18:49:02.140 -04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' ...
2025-02-08 18:49:02.142 -04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 18:49:02.142 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:49:02.149 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:49:02.152 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Include(o => o.Rol)
    .FirstOrDefault(o => o.Email == __loginRequest_Mail_0)'
2025-02-08 18:49:02.152 -04:00 [DBG] Including navigation: 'UsuarioCliente.Rol'.
2025-02-08 18:49:02.159 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UsuarioCliente>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
            1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
        SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
        FROM UsuarioCliente AS u
        INNER JOIN Roles AS r ON u.RolId == r.IdRol
        WHERE u.Email == @__loginRequest_Mail_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
            1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
        SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
        FROM UsuarioCliente AS u
        INNER JOIN Roles AS r ON u.RolId == r.IdRol
        WHERE u.Email == @__loginRequest_Mail_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UsuarioCliente entity;
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UsuarioCliente instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UsuarioCliente);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UsuarioCliente)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                        {
                            return 
                            {
                                UsuarioCliente instance;
                                instance = new UsuarioCliente();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Apellidos>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<Ciudad>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<Direccion>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<Dob>k__BackingField = dataReader.IsDBNull(4) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(4);
                                instance.<Email>k__BackingField = dataReader.GetString(5);
                                instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                instance.<Password>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<Rnc>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RolId>k__BackingField = dataReader.GetInt32(9);
                                instance.<Telefono>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<UserName>k__BackingField = dataReader.GetString(11);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UsuarioCliente)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Role instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Role);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(12) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Role)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<IdRol>k__BackingField = dataReader.GetInt32(12);
                                instance.<Name>k__BackingField = dataReader.GetString(13);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<UsuarioCliente, UsuarioCliente, Role>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Rol (Role) ToPrincipal Role Inverse: UsuarioClientes | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Rol")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Role.UsuarioClientes (ICollection<UsuarioCliente>) Collection ToDependent UsuarioCliente Inverse: Rol | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes")], 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                namelessParameter{8}.<Rol>k__BackingField = namelessParameter{9};
                return [LIFTABLE Constant: ClrICollectionAccessor<Role, ICollection<UsuarioCliente>, UsuarioCliente> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes").GetCollectionAccessor()].Add(
                    entity: namelessParameter{9}, 
                    value: namelessParameter{8}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-02-08 18:49:02.164 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:49:02.164 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:49:02.164 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:02.166 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:02.166 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:49:02.166 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:49:02.166 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:49:02.166 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginRequest_Mail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Email] = @__loginRequest_Mail_0
2025-02-08 18:49:02.173 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__loginRequest_Mail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Email] = @__loginRequest_Mail_0
2025-02-08 18:49:02.173 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:49:02.173 -04:00 [DBG] The navigation 'UsuarioCliente.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:49:02.173 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:49:02.174 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:02.174 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:49:02.175 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:02.175 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:49:02.175 -04:00 [INF] Login Exitoso
2025-02-08 18:49:02.199 -04:00 [INF] Operación exitosa de autenticación
2025-02-08 18:49:02.199 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 56.3446ms.
2025-02-08 18:49:02.199 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:49:02.199 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:49:02.199 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:49:02.199 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:49:02.199 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:49:02.199 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[GIGANTECLIENTCORE.DTO.UserClienteDTO, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-08 18:49:02.206 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE) in 69.9844ms
2025-02-08 18:49:02.206 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 18:49:02.206 -04:00 [DBG] Connection id "0HNA8I9VIGGGG" completed keep alive response.
2025-02-08 18:49:02.206 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:49:02.206 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:02.206 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:49:02.206 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/login - 200 653 application/json; charset=utf-8 78.2723ms
2025-02-08 18:49:02.417 -04:00 [DBG] Connection id "0HNA8I9VIGGGG" received FIN.
2025-02-08 18:49:02.417 -04:00 [DBG] Connection id "0HNA8I9VIGGGG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:49:02.417 -04:00 [DBG] Connection id "0HNA8I9VIGGGG" disconnecting.
2025-02-08 18:49:02.417 -04:00 [DBG] Connection id "0HNA8I9VIGGGG" stopped.
2025-02-08 18:49:24.044 -04:00 [DBG] Connection id "0HNA8I9VIGGGH" accepted.
2025-02-08 18:49:24.044 -04:00 [DBG] Connection id "0HNA8I9VIGGGH" started.
2025-02-08 18:49:24.045 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/User/change-password/2 - application/json-patch+json 56
2025-02-08 18:49:24.045 -04:00 [DBG] PUT requests are not supported
2025-02-08 18:49:24.045 -04:00 [DBG] 1 candidate(s) found for the request path '/api/User/change-password/2'
2025-02-08 18:49:24.045 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)' with route pattern 'api/User/change-password/{id}' is valid for the request path '/api/User/change-password/2'
2025-02-08 18:49:24.045 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 18:49:24.045 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:49:24.045 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:49:24.045 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:49:24.045 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:49:24.045 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 18:49:24.045 -04:00 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Int32, GIGANTECLIENTCORE.DTO.ChangePasswordDTO) on controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE).
2025-02-08 18:49:24.045 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:49:24.045 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:49:24.045 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:49:24.045 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:49:24.045 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:49:24.045 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 18:49:24.046 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 18:49:24.046 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:49:24.046 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:49:24.046 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:49:24.046 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:49:24.046 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:49:24.046 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:49:24.046 -04:00 [DBG] Attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' ...
2025-02-08 18:49:24.046 -04:00 [DBG] Attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' using the name '' in request data ...
2025-02-08 18:49:24.046 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:49:24.046 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:49:24.046 -04:00 [DBG] Connection id "0HNA8I9VIGGGH", Request id "0HNA8I9VIGGGH:00000001": started reading request body.
2025-02-08 18:49:24.046 -04:00 [DBG] Connection id "0HNA8I9VIGGGH", Request id "0HNA8I9VIGGGH:00000001": done reading request body.
2025-02-08 18:49:24.046 -04:00 [DBG] Done attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 18:49:24.046 -04:00 [DBG] Done attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 18:49:24.046 -04:00 [DBG] Attempting to validate the bound parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' ...
2025-02-08 18:49:24.046 -04:00 [DBG] Done attempting to validate the bound parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 18:49:24.046 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:49:24.047 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:49:24.047 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:49:24.047 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:49:24.047 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.047 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.047 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:49:24.047 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:49:24.047 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:49:24.047 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 18:49:24.055 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 18:49:24.056 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:49:24.056 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.056 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:49:24.056 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.056 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:49:24.056 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:49:24.056 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:49:24.057 -04:00 [DBG] The unchanged property 'UsuarioCliente.Password' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:49:24.057 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:49:24.057 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:49:24.057 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.057 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.057 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:49:24.057 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:49:24.057 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:49:24.058 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Password] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:49:24.063 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Password] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:49:24.063 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.063 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:49:24.063 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.063 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:49:24.063 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:49:24.063 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:49:24.064 -04:00 [INF] Contraseña actualizada exitosamente
2025-02-08 18:49:24.064 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.2143ms.
2025-02-08 18:49:24.064 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:49:24.064 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:49:24.064 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:49:24.064 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:49:24.064 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:49:24.064 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:49:24.064 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE) in 18.285ms
2025-02-08 18:49:24.064 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 18:49:24.064 -04:00 [DBG] Connection id "0HNA8I9VIGGGH" completed keep alive response.
2025-02-08 18:49:24.064 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:49:24.064 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:49:24.064 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:49:24.064 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/User/change-password/2 - 200 null text/plain; charset=utf-8 19.3019ms
2025-02-08 18:49:27.422 -04:00 [DBG] Connection id "0HNA8I9VIGGGH" received FIN.
2025-02-08 18:49:27.423 -04:00 [DBG] Connection id "0HNA8I9VIGGGH" disconnecting.
2025-02-08 18:49:27.423 -04:00 [DBG] Connection id "0HNA8I9VIGGGH" stopped.
2025-02-08 18:49:27.423 -04:00 [DBG] Connection id "0HNA8I9VIGGGH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:53:53.080 -04:00 [INF] Application is shutting down...
2025-02-08 18:53:53.088 -04:00 [DBG] Hosting stopping
2025-02-08 18:53:53.104 -04:00 [DBG] Hosting stopped
2025-02-08 18:56:50.493 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-08 18:56:50.539 -04:00 [DBG] Hosting starting
2025-02-08 18:56:50.542 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 18:56:50.548 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0ae3189b-af9d-4451-acd4-c0887b45683f.xml'.
2025-02-08 18:56:50.550 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2025-02-08 18:56:50.551 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-0973fb41-bb8a-4795-8d60-a09f5171ead7.xml'.
2025-02-08 18:56:50.551 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2025-02-08 18:56:50.553 -04:00 [DBG] Found key {0ae3189b-af9d-4451-acd4-c0887b45683f}.
2025-02-08 18:56:50.555 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2025-02-08 18:56:50.555 -04:00 [DBG] Found key {0973fb41-bb8a-4795-8d60-a09f5171ead7}.
2025-02-08 18:56:50.555 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2025-02-08 18:56:50.557 -04:00 [DBG] Considering key {0973fb41-bb8a-4795-8d60-a09f5171ead7} with expiration date 2025-03-03 15:16:45Z as default key.
2025-02-08 18:56:50.558 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-08 18:56:50.560 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-02-08 18:56:50.560 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-02-08 18:56:50.562 -04:00 [DBG] Using key {0973fb41-bb8a-4795-8d60-a09f5171ead7} as the default key.
2025-02-08 18:56:50.562 -04:00 [DBG] Key ring with default key {0973fb41-bb8a-4795-8d60-a09f5171ead7} was loaded during application startup.
2025-02-08 18:56:50.580 -04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-02-08 18:56:50.581 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-08 18:56:50.586 -04:00 [INF] Now listening on: http://localhost:5204
2025-02-08 18:56:50.586 -04:00 [DBG] Loaded hosting startup assembly GIGANTECLIENTCORE
2025-02-08 18:56:50.586 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 18:56:50.586 -04:00 [INF] Hosting environment: Development
2025-02-08 18:56:50.586 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/GIGANTECLIENTCORE/GIGANTECLIENTCORE
2025-02-08 18:56:50.586 -04:00 [DBG] Hosting started
2025-02-08 18:56:57.244 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" accepted.
2025-02-08 18:56:57.245 -04:00 [DBG] Connection id "0HNA8IFHPLJQM" accepted.
2025-02-08 18:56:57.245 -04:00 [DBG] Connection id "0HNA8IFHPLJQM" started.
2025-02-08 18:56:57.246 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" started.
2025-02-08 18:56:57.272 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.html - null null
2025-02-08 18:56:57.368 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" completed keep alive response.
2025-02-08 18:56:57.369 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.html - 200 null text/html;charset=utf-8 101.6002ms
2025-02-08 18:56:57.429 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/index.js - null null
2025-02-08 18:56:57.430 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" completed keep alive response.
2025-02-08 18:56:57.431 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/index.js - 200 null application/javascript;charset=utf-8 1.4097ms
2025-02-08 18:56:57.484 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - null null
2025-02-08 18:56:57.501 -04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 18:56:57.503 -04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-02-08 18:56:57.510 -04:00 [DBG] Executing API description provider 'JsonPatchOperationsArrayProvider' from assembly Microsoft.AspNetCore.Mvc.NewtonsoftJson v9.0.1.0.
2025-02-08 18:56:57.535 -04:00 [DBG] Connection id "0HNA8IFHPLJQM" received FIN.
2025-02-08 18:56:57.538 -04:00 [DBG] Connection id "0HNA8IFHPLJQM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:56:57.540 -04:00 [DBG] Connection id "0HNA8IFHPLJQM" disconnecting.
2025-02-08 18:56:57.541 -04:00 [DBG] Connection id "0HNA8IFHPLJQM" stopped.
2025-02-08 18:56:57.580 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" completed keep alive response.
2025-02-08 18:56:57.580 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.4763ms
2025-02-08 18:57:02.536 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" received FIN.
2025-02-08 18:57:02.537 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:57:02.537 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" disconnecting.
2025-02-08 18:57:02.537 -04:00 [DBG] Connection id "0HNA8IFHPLJQL" stopped.
2025-02-08 18:57:36.913 -04:00 [DBG] Connection id "0HNA8IFHPLJQN" accepted.
2025-02-08 18:57:36.915 -04:00 [DBG] Connection id "0HNA8IFHPLJQN" started.
2025-02-08 18:57:36.917 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/register - application/json-patch+json 201
2025-02-08 18:57:36.919 -04:00 [DBG] POST requests are not supported
2025-02-08 18:57:36.940 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2025-02-08 18:57:36.941 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2025-02-08 18:57:36.941 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 18:57:36.943 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:57:36.943 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:57:36.943 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:57:36.944 -04:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:57:36.969 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:57:36.971 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 18:57:36.989 -04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GIGANTECLIENTCORE.DTO.RegisterDTO) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 18:57:36.991 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:57:36.991 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:57:36.992 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:57:36.992 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:57:36.992 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:57:36.992 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 18:57:37.065 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-08 18:57:37.081 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 18:57:37.083 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 18:57:37.083 -04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' using the name '' in request data ...
2025-02-08 18:57:37.084 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:57:37.084 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:57:37.086 -04:00 [DBG] Connection id "0HNA8IFHPLJQN", Request id "0HNA8IFHPLJQN:00000001": started reading request body.
2025-02-08 18:57:37.087 -04:00 [DBG] Connection id "0HNA8IFHPLJQN", Request id "0HNA8IFHPLJQN:00000001": done reading request body.
2025-02-08 18:57:37.135 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 18:57:37.135 -04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 18:57:37.135 -04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO' ...
2025-02-08 18:57:37.139 -04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'GIGANTECLIENTCORE.DTO.RegisterDTO'.
2025-02-08 18:57:37.142 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:57:37.671 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:57:37.704 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Any(u => u.Email == __registerRequest_Email_0)'
2025-02-08 18:57:37.868 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UsuarioCliente AS u
            WHERE u.Email == @__registerRequest_Email_0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UsuarioCliente AS u
            WHERE u.Email == @__registerRequest_Email_0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-02-08 18:57:37.901 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:57:37.917 -04:00 [DBG] Created DbConnection. (15ms).
2025-02-08 18:57:37.919 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.088 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.091 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:57:38.095 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-02-08 18:57:38.101 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-02-08 18:57:38.106 -04:00 [DBG] Executing DbCommand [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 18:57:38.164 -04:00 [INF] Executed DbCommand (58ms) [Parameters=[@__registerRequest_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioCliente] AS [u]
        WHERE [u].[Email] = @__registerRequest_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-08 18:57:38.172 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.177 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 8ms reading results.
2025-02-08 18:57:38.178 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.182 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (3ms).
2025-02-08 18:57:38.185 -04:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.Name == "Cliente")'
2025-02-08 18:57:38.215 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Role>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
        SELECT TOP(1) r.IdRol, r.Name
        FROM Roles AS r
        WHERE r.Name == N'Cliente') | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
        SELECT TOP(1) r.IdRol, r.Name
        FROM Roles AS r
        WHERE r.Name == N'Cliente', 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Role instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Role);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Role)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<IdRol>k__BackingField = dataReader.GetInt32(0);
                                instance.<Name>k__BackingField = dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-02-08 18:57:38.217 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.218 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.218 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:57:38.218 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:57:38.218 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:57:38.218 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 18:57:38.224 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[IdRol], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Cliente'
2025-02-08 18:57:38.249 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:57:38.259 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.260 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 35ms reading results.
2025-02-08 18:57:38.260 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.260 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:57:38.276 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'UsuarioCliente.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:57:38.306 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:57:38.307 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:57:38.309 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:57:38.322 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:57:38.368 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.368 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.369 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:57:38.369 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:57:38.369 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:57:38.370 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (DbType = Date), @p4='?' (Size = 100), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000), @p7='?' (Size = 11), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioCliente] ([Apellidos], [Ciudad], [Direccion], [DOB], [Email], [FechaIngreso], [Password], [RNC], [RolId], [Telefono], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-02-08 18:57:38.386 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (DbType = Date), @p4='?' (Size = 100), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000), @p7='?' (Size = 11), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioCliente] ([Apellidos], [Ciudad], [Direccion], [DOB], [Email], [FechaIngreso], [Password], [RNC], [RolId], [Telefono], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-02-08 18:57:38.393 -04:00 [DBG] The foreign key property 'UsuarioCliente.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:57:38.396 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.396 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 9ms reading results.
2025-02-08 18:57:38.396 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.396 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:57:38.402 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:57:38.403 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:57:38.404 -04:00 [INF] Registro exitoso para el usuario: popo@mail.com
2025-02-08 18:57:38.419 -04:00 [INF] Operación exitosa de autenticación
2025-02-08 18:57:38.421 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1276.5055ms.
2025-02-08 18:57:38.421 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:57:38.422 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:57:38.422 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:57:38.423 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:57:38.423 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:57:38.423 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[GIGANTECLIENTCORE.DTO.UserClienteDTO, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-08 18:57:38.457 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE) in 1462.7995ms
2025-02-08 18:57:38.457 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Register (GIGANTECLIENTCORE)'
2025-02-08 18:57:38.457 -04:00 [DBG] Connection id "0HNA8IFHPLJQN" completed keep alive response.
2025-02-08 18:57:38.458 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:57:38.460 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:38.462 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-02-08 18:57:38.462 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/register - 200 629 application/json; charset=utf-8 1545.3811ms
2025-02-08 18:57:42.550 -04:00 [DBG] Connection id "0HNA8IFHPLJQN" received FIN.
2025-02-08 18:57:42.551 -04:00 [DBG] Connection id "0HNA8IFHPLJQN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:57:42.552 -04:00 [DBG] Connection id "0HNA8IFHPLJQN" disconnecting.
2025-02-08 18:57:42.552 -04:00 [DBG] Connection id "0HNA8IFHPLJQN" stopped.
2025-02-08 18:57:56.565 -04:00 [DBG] Connection id "0HNA8IFHPLJQO" accepted.
2025-02-08 18:57:56.566 -04:00 [DBG] Connection id "0HNA8IFHPLJQO" started.
2025-02-08 18:57:56.567 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Auth/login - application/json-patch+json 51
2025-02-08 18:57:56.567 -04:00 [DBG] POST requests are not supported
2025-02-08 18:57:56.572 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-02-08 18:57:56.573 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-02-08 18:57:56.573 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 18:57:56.574 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:57:56.574 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:57:56.574 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:57:56.577 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:57:56.577 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 18:57:56.586 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GIGANTECLIENTCORE.DTO.LoginRequest) on controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE).
2025-02-08 18:57:56.586 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:57:56.586 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:57:56.586 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:57:56.586 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:57:56.586 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:57:56.586 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 18:57:56.587 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.AuthController (GIGANTECLIENTCORE)
2025-02-08 18:57:56.587 -04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' ...
2025-02-08 18:57:56.587 -04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' using the name '' in request data ...
2025-02-08 18:57:56.587 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:57:56.587 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:57:56.588 -04:00 [DBG] Connection id "0HNA8IFHPLJQO", Request id "0HNA8IFHPLJQO:00000001": started reading request body.
2025-02-08 18:57:56.588 -04:00 [DBG] Connection id "0HNA8IFHPLJQO", Request id "0HNA8IFHPLJQO:00000001": done reading request body.
2025-02-08 18:57:56.589 -04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 18:57:56.589 -04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 18:57:56.589 -04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest' ...
2025-02-08 18:57:56.590 -04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'GIGANTECLIENTCORE.DTO.LoginRequest'.
2025-02-08 18:57:56.590 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:57:56.607 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:57:56.613 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Include(o => o.Rol)
    .FirstOrDefault(o => o.Email == __loginRequest_Mail_0)'
2025-02-08 18:57:56.624 -04:00 [DBG] Including navigation: 'UsuarioCliente.Rol'.
2025-02-08 18:57:56.667 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UsuarioCliente>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UsuarioCliente>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
                1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
            FROM UsuarioCliente AS u
            INNER JOIN Roles AS r ON u.RolId == r.IdRol
            WHERE u.Email == @__loginRequest_Mail_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
                1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
            FROM UsuarioCliente AS u
            INNER JOIN Roles AS r ON u.RolId == r.IdRol
            WHERE u.Email == @__loginRequest_Mail_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UsuarioCliente entity;
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UsuarioCliente instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UsuarioCliente);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UsuarioCliente)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(4) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(4);
                                    instance.<Email>k__BackingField = dataReader.GetString(5);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(9);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<UserName>k__BackingField = dataReader.GetString(11);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Role instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Role);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(12) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Role)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<IdRol>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Name>k__BackingField = dataReader.GetString(13);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<UsuarioCliente, UsuarioCliente, Role>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Rol (Role) ToPrincipal Role Inverse: UsuarioClientes | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Rol")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Role.UsuarioClientes (ICollection<UsuarioCliente>) Collection ToDependent UsuarioCliente Inverse: Rol | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Rol>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Role, ICollection<UsuarioCliente>, UsuarioCliente> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:57:56.675 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:57:56.675 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:57:56.676 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:56.677 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:56.677 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:57:56.677 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:57:56.677 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:57:56.678 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginRequest_Mail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Email] = @__loginRequest_Mail_0
2025-02-08 18:57:56.694 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__loginRequest_Mail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Email] = @__loginRequest_Mail_0
2025-02-08 18:57:56.699 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:57:56.702 -04:00 [DBG] The navigation 'UsuarioCliente.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:57:56.703 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:57:56.705 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:56.705 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 11ms reading results.
2025-02-08 18:57:56.706 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:56.707 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:57:56.707 -04:00 [INF] Login Exitoso
2025-02-08 18:57:56.707 -04:00 [INF] Operación exitosa de autenticación
2025-02-08 18:57:56.708 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 117.4071ms.
2025-02-08 18:57:56.709 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:57:56.709 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:57:56.709 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:57:56.709 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:57:56.709 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:57:56.709 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[GIGANTECLIENTCORE.DTO.UserClienteDTO, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-08 18:57:56.710 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE) in 123.7161ms
2025-02-08 18:57:56.710 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.AuthController.Login (GIGANTECLIENTCORE)'
2025-02-08 18:57:56.712 -04:00 [DBG] Connection id "0HNA8IFHPLJQO" completed keep alive response.
2025-02-08 18:57:56.712 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:57:56.712 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:57:56.712 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:57:56.712 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Auth/login - 200 624 application/json; charset=utf-8 145.1865ms
2025-02-08 18:57:57.551 -04:00 [DBG] Connection id "0HNA8IFHPLJQO" received FIN.
2025-02-08 18:57:57.553 -04:00 [DBG] Connection id "0HNA8IFHPLJQO" disconnecting.
2025-02-08 18:57:57.553 -04:00 [DBG] Connection id "0HNA8IFHPLJQO" stopped.
2025-02-08 18:57:57.556 -04:00 [DBG] Connection id "0HNA8IFHPLJQO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:58:05.213 -04:00 [DBG] Connection id "0HNA8IFHPLJQP" accepted.
2025-02-08 18:58:05.213 -04:00 [DBG] Connection id "0HNA8IFHPLJQP" started.
2025-02-08 18:58:05.213 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Banner - null null
2025-02-08 18:58:05.214 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:58:05.214 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Banner'
2025-02-08 18:58:05.214 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.BannerController.GetBanner (GIGANTECLIENTCORE)' with route pattern 'api/Banner' is valid for the request path '/api/Banner'
2025-02-08 18:58:05.214 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.BannerController.GetBanner (GIGANTECLIENTCORE)'
2025-02-08 18:58:05.219 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:58:05.219 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.BannerController.GetBanner (GIGANTECLIENTCORE)'
2025-02-08 18:58:05.229 -04:00 [INF] Route matched with {action = "GetBanner", controller = "Banner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBanner() on controller GIGANTECLIENTCORE.Controllers.BannerController (GIGANTECLIENTCORE).
2025-02-08 18:58:05.229 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:58:05.230 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:58:05.230 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:58:05.230 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:58:05.230 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:58:05.230 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.BannerController (GIGANTECLIENTCORE)
2025-02-08 18:58:05.231 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.BannerController (GIGANTECLIENTCORE)
2025-02-08 18:58:05.231 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.BannerController.GetBanner (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:58:05.232 -04:00 [INF] Obteniendo Imagenes...
2025-02-08 18:58:05.271 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:58:05.272 -04:00 [DBG] Compiling query expression: 
'DbSet<Banner>()
    .OrderBy(b => b.OrderIndex)'
2025-02-08 18:58:05.277 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Banner>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Banner.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Banner.Active (bool) Required, 1], [Property: Banner.CreatedAt (DateTime) Required, 2], [Property: Banner.ImageUrl (string) Required, 3], [Property: Banner.OrderIndex (int) Required, 4] }
        SELECT b.Id, b.Active, b.CreatedAt, b.ImageUrl, b.OrderIndex
        FROM Banners AS b
        ORDER BY b.OrderIndex ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Banner.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Banner.Active (bool) Required, 1], [Property: Banner.CreatedAt (DateTime) Required, 2], [Property: Banner.ImageUrl (string) Required, 3], [Property: Banner.OrderIndex (int) Required, 4] }
        SELECT b.Id, b.Active, b.CreatedAt, b.ImageUrl, b.OrderIndex
        FROM Banners AS b
        ORDER BY b.OrderIndex ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Banner entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Banner instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Banner);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Banner.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Banner").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Banner)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Banner | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Banner")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Banner | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Banner")]: 
                        {
                            return 
                            {
                                Banner instance;
                                instance = new Banner();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Active>k__BackingField = dataReader.GetBoolean(1);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                instance.<ImageUrl>k__BackingField = dataReader.GetString(3);
                                instance.<OrderIndex>k__BackingField = dataReader.GetInt32(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Banner | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Banner")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Banner)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 18:58:05.278 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:58:05.278 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:58:05.278 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:05.279 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:05.279 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:58:05.279 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:05.279 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:05.279 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Active], [b].[CreatedAt], [b].[ImageUrl], [b].[OrderIndex]
FROM [Banners] AS [b]
ORDER BY [b].[OrderIndex]
2025-02-08 18:58:05.286 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Active], [b].[CreatedAt], [b].[ImageUrl], [b].[OrderIndex]
FROM [Banners] AS [b]
ORDER BY [b].[OrderIndex]
2025-02-08 18:58:05.288 -04:00 [DBG] Context 'MyDbContext' started tracking 'Banner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:05.295 -04:00 [DBG] Context 'MyDbContext' started tracking 'Banner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:05.295 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:05.295 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 9ms reading results.
2025-02-08 18:58:05.295 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:05.295 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:58:05.295 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.BannerController.GetBanner (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 63.7807ms.
2025-02-08 18:58:05.295 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:58:05.295 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:58:05.295 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:58:05.295 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:58:05.295 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:58:05.295 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Banner, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:58:05.302 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.BannerController.GetBanner (GIGANTECLIENTCORE) in 72.3924ms
2025-02-08 18:58:05.302 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.BannerController.GetBanner (GIGANTECLIENTCORE)'
2025-02-08 18:58:05.302 -04:00 [DBG] Connection id "0HNA8IFHPLJQP" completed keep alive response.
2025-02-08 18:58:05.302 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:58:05.302 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:05.302 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:58:05.302 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Banner - 200 268 application/json; charset=utf-8 88.85ms
2025-02-08 18:58:07.551 -04:00 [DBG] Connection id "0HNA8IFHPLJQP" received FIN.
2025-02-08 18:58:07.551 -04:00 [DBG] Connection id "0HNA8IFHPLJQP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:58:07.551 -04:00 [DBG] Connection id "0HNA8IFHPLJQP" disconnecting.
2025-02-08 18:58:07.551 -04:00 [DBG] Connection id "0HNA8IFHPLJQP" stopped.
2025-02-08 18:58:30.171 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ" accepted.
2025-02-08 18:58:30.172 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ" started.
2025-02-08 18:58:30.184 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - application/json-patch+json 59
2025-02-08 18:58:30.185 -04:00 [DBG] POST requests are not supported
2025-02-08 18:58:30.185 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/agregar'
2025-02-08 18:58:30.185 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/agregar' is valid for the request path '/api/Carrito/agregar'
2025-02-08 18:58:30.185 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:58:30.186 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:58:30.186 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:58:30.186 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:58:30.186 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:58:30.187 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:58:30.196 -04:00 [INF] Route matched with {action = "AgregaroProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgregaroProducto(GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:58:30.196 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:58:30.196 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:58:30.196 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:58:30.196 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:58:30.196 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:58:30.196 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:58:30.198 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:58:30.198 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 18:58:30.198 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' using the name '' in request data ...
2025-02-08 18:58:30.198 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:58:30.198 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:58:30.198 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ", Request id "0HNA8IFHPLJQQ:00000001": started reading request body.
2025-02-08 18:58:30.198 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ", Request id "0HNA8IFHPLJQQ:00000001": done reading request body.
2025-02-08 18:58:30.205 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:58:30.205 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:58:30.205 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest' ...
2025-02-08 18:58:30.207 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.AgregarCarritoRequest'.
2025-02-08 18:58:30.207 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:58:30.209 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:58:30.210 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .FirstOrDefault(c => c.UsuarioId == __request_UsuarioId_0)'
2025-02-08 18:58:30.217 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Carrito>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Carrito>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            SELECT TOP(1) c.Id, c.UsuarioId
            FROM Carrito AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            SELECT TOP(1) c.Id, c.UsuarioId
            FROM Carrito AS c
            WHERE c.UsuarioId == @__request_UsuarioId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Carrito entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Carrito instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Carrito);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Carrito)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                            {
                                return 
                                {
                                    Carrito instance;
                                    instance = new Carrito();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Carrito)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:58:30.219 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:58:30.219 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:58:30.219 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.220 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.220 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:58:30.220 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:30.220 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:30.220 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 18:58:30.234 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__request_UsuarioId_0
2025-02-08 18:58:30.235 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.235 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:58:30.235 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.235 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:58:30.239 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Carrito.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:30.246 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:30.249 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:58:30.250 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:58:30.251 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:58:30.258 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.258 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.260 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:58:30.260 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:30.260 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:30.260 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carrito] ([UsuarioId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-02-08 18:58:30.273 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carrito] ([UsuarioId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-02-08 18:58:30.277 -04:00 [DBG] The foreign key property 'Carrito.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:58:30.278 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.278 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 5ms reading results.
2025-02-08 18:58:30.279 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.279 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:58:30.280 -04:00 [DBG] An entity of type 'Carrito' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:30.281 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:58:30.283 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'DetalleCarrito.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:30.288 -04:00 [DBG] The navigation 'DetalleCarrito.Carrito' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:30.290 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:30.290 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:58:30.290 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:58:30.290 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:58:30.291 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.291 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.291 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:58:30.291 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:30.291 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:30.291 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-08 18:58:30.296 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-08 18:58:30.297 -04:00 [DBG] The foreign key property 'DetalleCarrito.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:58:30.297 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.297 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:58:30.297 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.297 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:58:30.298 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:30.298 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:58:30.298 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.7927ms.
2025-02-08 18:58:30.298 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:58:30.298 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:58:30.298 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:58:30.298 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:58:30.298 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:58:30.298 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:58:30.298 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE) in 102.1809ms
2025-02-08 18:58:30.298 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.AgregaroProducto (GIGANTECLIENTCORE)'
2025-02-08 18:58:30.298 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ" completed keep alive response.
2025-02-08 18:58:30.299 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:58:30.299 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:30.299 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:58:30.299 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Carrito/agregar - 200 null text/plain; charset=utf-8 115.0722ms
2025-02-08 18:58:32.562 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ" received FIN.
2025-02-08 18:58:32.563 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:58:32.563 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ" disconnecting.
2025-02-08 18:58:32.563 -04:00 [DBG] Connection id "0HNA8IFHPLJQQ" stopped.
2025-02-08 18:58:44.951 -04:00 [DBG] Connection id "0HNA8IFHPLJQR" accepted.
2025-02-08 18:58:44.968 -04:00 [DBG] Connection id "0HNA8IFHPLJQR" started.
2025-02-08 18:58:44.968 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Carrito?id=17 - null null
2025-02-08 18:58:44.969 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:58:44.969 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito'
2025-02-08 18:58:44.969 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)' with route pattern 'api/Carrito' is valid for the request path '/api/Carrito'
2025-02-08 18:58:44.969 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:58:44.969 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:58:44.969 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:58:44.972 -04:00 [INF] Route matched with {action = "ObtenerCarritoUsario", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerCarritoUsario(Int32) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:58:44.972 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:58:44.972 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:58:44.972 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:58:44.972 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:58:44.972 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:58:44.972 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:58:44.972 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:58:44.975 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:58:44.976 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:58:44.977 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:58:44.977 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:58:44.977 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:58:44.977 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:58:44.977 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:58:44.979 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:58:44.983 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .Include(o => o.Usuario)
    .Include(o => o.DetallesCarrito)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(o => o.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)'
2025-02-08 18:58:44.983 -04:00 [DBG] Including navigation: 'Carrito.Usuario'.
2025-02-08 18:58:44.984 -04:00 [DBG] Including navigation: 'Carrito.DetallesCarrito'.
2025-02-08 18:58:44.985 -04:00 [DBG] Including navigation: 'DetalleCarrito.Producto'.
2025-02-08 18:58:44.986 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 18:58:44.986 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 18:58:45.030 -04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-08 18:58:45.051 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Carrito>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 3], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 4], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 5], [Property: UsuarioCliente.Dob (DateOnly?), 6], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 7], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 8], [Property: UsuarioCliente.Password (string), 9], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 10], [Property: UsuarioCliente.RolId (int) Required FK Index, 11], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 12], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 13] }
            2 -> 0
            3 -> 2
            4 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: DetalleCarrito.Cantidad (int) Required, 15], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 16], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 17] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 18], [Property: Producto.CategoriaId (int?) FK Index, 19], [Property: Producto.ImageUrl (string) MaxLength(255), 20], [Property: Producto.Marca (string) MaxLength(50), 21], [Property: Producto.Nombre (string) Required MaxLength(100), 22], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 23], [Property: Producto.SubCategoriaId (int) Required FK Index, 24] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Categorium.Nombre (string) Required MaxLength(100), 26] }
            7 -> 14
            8 -> 18
            9 -> 25
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: SubCategorium.CategoriaId (int) Required FK Index, 28], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 29] }
            11 -> 27
        SELECT c.Id, c.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s0.Id, s0.Cantidad, s0.CarritoId, s0.ProductoId, s0.Codigo, s0.CategoriaId, s0.ImageUrl, s0.Marca, s0.Nombre, s0.Stock, s0.SubCategoriaId, s0.Id0, s0.Nombre0, s0.Id1, s0.CategoriaId0, s0.Nombre1
        FROM Carrito AS c
        INNER JOIN UsuarioCliente AS u ON c.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.Id, d.Cantidad, d.CarritoId, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c0.Id AS Id0, c0.Nombre AS Nombre0, s.Id AS Id1, s.CategoriaId AS CategoriaId0, s.Nombre AS Nombre1
            FROM DetalleCarrito AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c0 ON p.CategoriaId == c0.Id
            LEFT JOIN SubCategoria AS s ON c0.Id == s.CategoriaId
        ) AS s0 ON c.Id == s0.CarritoId
        WHERE c.UsuarioId == @__id_0
        ORDER BY c.Id ASC, u.Id ASC, s0.Id ASC, s0.Codigo ASC, s0.Id0 ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 3], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 4], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 5], [Property: UsuarioCliente.Dob (DateOnly?), 6], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 7], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 8], [Property: UsuarioCliente.Password (string), 9], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 10], [Property: UsuarioCliente.RolId (int) Required FK Index, 11], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 12], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 13] }
            2 -> 0
            3 -> 2
            4 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: DetalleCarrito.Cantidad (int) Required, 15], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 16], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 17] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 18], [Property: Producto.CategoriaId (int?) FK Index, 19], [Property: Producto.ImageUrl (string) MaxLength(255), 20], [Property: Producto.Marca (string) MaxLength(50), 21], [Property: Producto.Nombre (string) Required MaxLength(100), 22], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 23], [Property: Producto.SubCategoriaId (int) Required FK Index, 24] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Categorium.Nombre (string) Required MaxLength(100), 26] }
            7 -> 14
            8 -> 18
            9 -> 25
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: SubCategorium.CategoriaId (int) Required FK Index, 28], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 29] }
            11 -> 27
        SELECT c.Id, c.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s0.Id, s0.Cantidad, s0.CarritoId, s0.ProductoId, s0.Codigo, s0.CategoriaId, s0.ImageUrl, s0.Marca, s0.Nombre, s0.Stock, s0.SubCategoriaId, s0.Id0, s0.Nombre0, s0.Id1, s0.CategoriaId0, s0.Nombre1
        FROM Carrito AS c
        INNER JOIN UsuarioCliente AS u ON c.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.Id, d.Cantidad, d.CarritoId, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c0.Id AS Id0, c0.Nombre AS Nombre0, s.Id AS Id1, s.CategoriaId AS CategoriaId0, s.Nombre AS Nombre1
            FROM DetalleCarrito AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c0 ON p.CategoriaId == c0.Id
            LEFT JOIN SubCategoria AS s ON c0.Id == s.CategoriaId
        ) AS s0 ON c.Id == s0.CarritoId
        WHERE c.UsuarioId == @__id_0
        ORDER BY c.Id ASC, u.Id ASC, s0.Id ASC, s0.Codigo ASC, s0.Id0 ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Carrito entity;
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Carrito instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Carrito);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Carrito)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                            {
                                return 
                                {
                                    Carrito instance;
                                    instance = new Carrito();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Carrito)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                UsuarioCliente instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(UsuarioCliente);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(2) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (UsuarioCliente)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(6) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(6);
                                    instance.<Email>k__BackingField = dataReader.GetString(7);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<UserName>k__BackingField = dataReader.GetString(13);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Carrito, Carrito, UsuarioCliente>(
                queryContext: queryContext, 
                entity: (Carrito)(resultContext.Values[0]), 
                relatedEntity: (UsuarioCliente)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Carrito.Usuario (UsuarioCliente) ToPrincipal UsuarioCliente Inverse: Carritos | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("Usuario")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Carritos (ICollection<Carrito>) Collection ToDependent Carrito Inverse: Usuario | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Carritos")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Usuario>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<UsuarioCliente, ICollection<Carrito>, Carrito> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Carritos").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Carrito, Carrito>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Carrito)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(2) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(2) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Carrito.DetallesCarrito (ICollection<DetalleCarrito>) Collection ToDependent DetalleCarrito Inverse: Carrito | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Carrito, DetalleCarrito>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(2) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(2) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
            }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    DetalleCarrito entity;
                    Producto entity;
                    Categorium entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        DetalleCarrito instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(DetalleCarrito);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleCarrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(14) ? default(object) : (object)dataReader.GetInt32(14) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (DetalleCarrito)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]: 
                                    {
                                        return 
                                        {
                                            DetalleCarrito instance;
                                            instance = new DetalleCarrito();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(14) ? default(int) : dataReader.GetInt32(14);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(15) ? default(int) : dataReader.GetInt32(15);
                                            instance.<CarritoId>k__BackingField = dataReader.IsDBNull(16) ? default(int) : dataReader.GetInt32(16);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(17) ? default(int) : dataReader.GetInt32(17);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleCarrito)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext4;
                        IEntityType entityType4;
                        Producto instance4;
                        InternalEntityEntry entry4;
                        bool hasNullKey4;
                        materializationContext4 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance4 = default(Producto);
                        entry4 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(18) ? default(object) : (object)dataReader.GetInt32(18) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey4);
                        !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                        {
                            entityType4 = entry4.EntityType;
                            return instance4 = (Producto)entry4.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot4;
                            shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType4 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                            instance4 = switch (entityType4)
                            {
                                case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                                    {
                                        return 
                                        {
                                            Producto instance;
                                            instance = new Producto();
                                            instance.<Codigo>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                            instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                            instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                            instance.<Marca>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                            instance.<Stock>k__BackingField = dataReader.IsDBNull(23) ? default(bool?) : (bool?)dataReader.GetBoolean(23);
                                            instance.<SubCategoriaId>k__BackingField = dataReader.IsDBNull(24) ? default(int) : dataReader.GetInt32(24);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext4.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Producto)
                            }
                            ;
                            entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType4, 
                                entity: instance4, 
                                snapshot: shadowSnapshot4);
                            return instance4;
                        } : default(void);
                        return instance4;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext5;
                        IEntityType entityType5;
                        Categorium instance5;
                        InternalEntityEntry entry5;
                        bool hasNullKey5;
                        materializationContext5 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance5 = default(Categorium);
                        entry5 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(25) ? default(object) : (object)dataReader.GetInt32(25) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey5);
                        !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                        {
                            entityType5 = entry5.EntityType;
                            return instance5 = (Categorium)entry5.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot5;
                            shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType5 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                            instance5 = switch (entityType5)
                            {
                                case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                                    {
                                        return 
                                        {
                                            Categorium instance;
                                            instance = new Categorium();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext5.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Categorium)
                            }
                            ;
                            entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType5, 
                                entity: instance5, 
                                snapshot: shadowSnapshot5);
                            return instance5;
                        } : default(void);
                        return instance5;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                        collectionId: 1, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Categorium)(resultContext.Values[2]), 
                        parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                            (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                            (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
                        }], 
                        outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                            (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                            (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
                        }], 
                        navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                        queryContext: queryContext, 
                        entity: (Producto)(resultContext.Values[1]), 
                        relatedEntity: (Categorium)(resultContext.Values[2]), 
                        navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                        fixup: (namelessParameter{26}, namelessParameter{27}) => 
                        {
                            namelessParameter{26}.<Categoria>k__BackingField = namelessParameter{27};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                                entity: namelessParameter{27}, 
                                value: namelessParameter{26}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<DetalleCarrito, DetalleCarrito, Producto>(
                        queryContext: queryContext, 
                        entity: (DetalleCarrito)(resultContext.Values[0]), 
                        relatedEntity: (Producto)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: DetalleCarrito.Producto (Producto) ToPrincipal Producto Inverse: DetallesCarrito | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindNavigation("Producto")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Producto.DetallesCarrito (ICollection<DetalleCarrito>) Collection ToDependent DetalleCarrito Inverse: Producto | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetallesCarrito")], 
                        fixup: (namelessParameter{31}, namelessParameter{32}) => 
                        {
                            namelessParameter{31}.<Producto>k__BackingField = namelessParameter{32};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Producto, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetallesCarrito").GetCollectionAccessor()].Add(
                                entity: namelessParameter{32}, 
                                value: namelessParameter{31}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
                    collectionId: 1, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                        (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                        (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14), 
                        (object)dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18), 
                        (object)dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25) 
                    }], 
                    selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(27) ? default(int?) : (int?)dataReader.GetInt32(27) }], 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        SubCategorium entity;
                        entity = 
                        {
                            MaterializationContext materializationContext6;
                            IEntityType entityType6;
                            SubCategorium instance6;
                            InternalEntityEntry entry6;
                            bool hasNullKey6;
                            materializationContext6 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance6 = default(SubCategorium);
                            entry6 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(27) ? default(object) : (object)dataReader.GetInt32(27) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey6);
                            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                            {
                                entityType6 = entry6.EntityType;
                                return instance6 = (SubCategorium)entry6.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot6;
                                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType6 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                                instance6 = switch (entityType6)
                                {
                                    case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                        {
                                            return 
                                            {
                                                SubCategorium instance;
                                                instance = new SubCategorium();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(27) ? default(int) : dataReader.GetInt32(27);
                                                instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                                instance.<Nombre>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext6.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(SubCategorium)
                                }
                                ;
                                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType6, 
                                    entity: instance6, 
                                    snapshot: shadowSnapshot6);
                                return instance6;
                            } : default(void);
                            return instance6;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
                    fixup: (namelessParameter{38}, namelessParameter{39}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                            entity: namelessParameter{38}, 
                            value: namelessParameter{39}, 
                            forMaterialization: True);
                        return namelessParameter{39}.<Categoria>k__BackingField = namelessParameter{38};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (DetalleCarrito)(resultContext.Values[0]) : default(DetalleCarrito);
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: DetalleCarrito.Carrito (Carrito) ToPrincipal Carrito Inverse: DetallesCarrito | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindNavigation("Carrito")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()].Add(
                    entity: namelessParameter{42}, 
                    value: namelessParameter{43}, 
                    forMaterialization: True);
                return namelessParameter{43}.<Carrito>k__BackingField = namelessParameter{42};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Carrito)(resultContext.Values[0]) : default(Carrito);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 18:58:45.054 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:58:45.054 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:58:45.054 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:45.054 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:45.054 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:58:45.054 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:45.054 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:45.054 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 18:58:45.059 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 18:58:45.060 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.060 -04:00 [DBG] The navigation 'Carrito.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.060 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.065 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.067 -04:00 [DBG] The navigation 'DetalleCarrito.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.069 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.075 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.076 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.079 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.080 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:45.082 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:45.082 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 22ms reading results.
2025-02-08 18:58:45.082 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:45.082 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:58:45.082 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.2535ms.
2025-02-08 18:58:45.082 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:58:45.082 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:58:45.082 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:58:45.082 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:58:45.082 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:58:45.082 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Carrito, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:58:45.095 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) in 123.1124ms
2025-02-08 18:58:45.095 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:58:45.095 -04:00 [DBG] Connection id "0HNA8IFHPLJQR" completed keep alive response.
2025-02-08 18:58:45.095 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:58:45.095 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:45.095 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:58:45.096 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Carrito?id=17 - 200 906 application/json; charset=utf-8 127.2593ms
2025-02-08 18:58:47.570 -04:00 [DBG] Connection id "0HNA8IFHPLJQR" received FIN.
2025-02-08 18:58:47.570 -04:00 [DBG] Connection id "0HNA8IFHPLJQR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:58:47.570 -04:00 [DBG] Connection id "0HNA8IFHPLJQR" disconnecting.
2025-02-08 18:58:47.570 -04:00 [DBG] Connection id "0HNA8IFHPLJQR" stopped.
2025-02-08 18:58:57.007 -04:00 [DBG] Connection id "0HNA8IFHPLJQS" accepted.
2025-02-08 18:58:57.007 -04:00 [DBG] Connection id "0HNA8IFHPLJQS" started.
2025-02-08 18:58:57.007 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/Carrito/editar - application/json-patch+json 60
2025-02-08 18:58:57.007 -04:00 [DBG] PUT requests are not supported
2025-02-08 18:58:57.009 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito/editar'
2025-02-08 18:58:57.009 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)' with route pattern 'api/Carrito/editar' is valid for the request path '/api/Carrito/editar'
2025-02-08 18:58:57.009 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:58:57.010 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 18:58:57.010 -04:00 [INF] CORS policy execution failed.
2025-02-08 18:58:57.010 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 18:58:57.010 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:58:57.010 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:58:57.012 -04:00 [INF] Route matched with {action = "EditarProducto", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarProducto(GIGANTECLIENTCORE.Controllers.EditarCarritoRequest) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:58:57.012 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:58:57.012 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:58:57.012 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:58:57.012 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:58:57.012 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:58:57.012 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:58:57.012 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:58:57.012 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' ...
2025-02-08 18:58:57.013 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' using the name '' in request data ...
2025-02-08 18:58:57.013 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:58:57.013 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 18:58:57.013 -04:00 [DBG] Connection id "0HNA8IFHPLJQS", Request id "0HNA8IFHPLJQS:00000001": started reading request body.
2025-02-08 18:58:57.013 -04:00 [DBG] Connection id "0HNA8IFHPLJQS", Request id "0HNA8IFHPLJQS:00000001": done reading request body.
2025-02-08 18:58:57.014 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:58:57.014 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:58:57.014 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest' ...
2025-02-08 18:58:57.015 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.EditarCarritoRequest'.
2025-02-08 18:58:57.015 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:58:57.016 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:58:57.016 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrito>()
    .Include(c => c.DetallesCarrito)
    .FirstOrDefault(c => c.UsuarioId == __request_UsuarioId_0)'
2025-02-08 18:58:57.016 -04:00 [DBG] Including navigation: 'Carrito.DetallesCarrito'.
2025-02-08 18:58:57.034 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Carrito>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Carrito>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: DetalleCarrito.Cantidad (int) Required, 3], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 4], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 5] }
                3 -> 2
            SELECT c0.Id, c0.UsuarioId, d.Id, d.Cantidad, d.CarritoId, d.ProductoId
            FROM 
            (
                SELECT TOP(1) c.Id, c.UsuarioId
                FROM Carrito AS c
                WHERE c.UsuarioId == @__request_UsuarioId_0
            ) AS c0
            LEFT JOIN DetalleCarrito AS d ON c0.Id == d.CarritoId
            ORDER BY c0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Carrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Carrito.UsuarioId (int) Required FK Index, 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: DetalleCarrito.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: DetalleCarrito.Cantidad (int) Required, 3], [Property: DetalleCarrito.CarritoId (int) Required FK Index, 4], [Property: DetalleCarrito.ProductoId (int) Required FK Index, 5] }
                3 -> 2
            SELECT c0.Id, c0.UsuarioId, d.Id, d.Cantidad, d.CarritoId, d.ProductoId
            FROM 
            (
                SELECT TOP(1) c.Id, c.UsuarioId
                FROM Carrito AS c
                WHERE c.UsuarioId == @__request_UsuarioId_0
            ) AS c0
            LEFT JOIN DetalleCarrito AS d ON c0.Id == d.CarritoId
            ORDER BY c0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Carrito entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Carrito instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Carrito);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Carrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Carrito)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]: 
                                {
                                    return 
                                    {
                                        Carrito instance;
                                        instance = new Carrito();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<UsuarioId>k__BackingField = dataReader.GetInt32(1);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Carrito | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Carrito)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Carrito, Carrito>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Carrito)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Carrito.DetallesCarrito (ICollection<DetalleCarrito>) Collection ToDependent DetalleCarrito Inverse: Carrito | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Carrito, DetalleCarrito>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    DetalleCarrito entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        DetalleCarrito instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(DetalleCarrito);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleCarrito.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (DetalleCarrito)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]: 
                                    {
                                        return 
                                        {
                                            DetalleCarrito instance;
                                            instance = new DetalleCarrito();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(3) ? default(int) : dataReader.GetInt32(3);
                                            instance.<CarritoId>k__BackingField = dataReader.IsDBNull(4) ? default(int) : dataReader.GetInt32(4);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(5) ? default(int) : dataReader.GetInt32(5);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleCarrito | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleCarrito)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: DetalleCarrito.Carrito (Carrito) ToPrincipal Carrito Inverse: DetallesCarrito | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleCarrito").FindNavigation("Carrito")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Carrito, ICollection<DetalleCarrito>, DetalleCarrito> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Carrito").FindNavigation("DetallesCarrito").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Carrito>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Carrito)(resultContext.Values[0]) : default(Carrito);
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:58:57.037 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:58:57.037 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:58:57.037 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.037 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.037 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:58:57.037 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:57.037 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:57.037 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:58:57.041 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 18:58:57.041 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:57.043 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:57.043 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.043 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 2ms reading results.
2025-02-08 18:58:57.043 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.043 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:58:57.044 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 18:58:57.044 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 18:58:57.046 -04:00 [DBG] The unchanged property 'DetalleCarrito.Cantidad' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 18:58:57.046 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:57.046 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 18:58:57.052 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.052 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.052 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:58:57.052 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:57.052 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:58:57.053 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DetalleCarrito] SET [Cantidad] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:58:57.065 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DetalleCarrito] SET [Cantidad] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 18:58:57.066 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.066 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:58:57.066 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.066 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:58:57.066 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:58:57.066 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 18:58:57.066 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.4682ms.
2025-02-08 18:58:57.066 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:58:57.066 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:58:57.066 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:58:57.066 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:58:57.066 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:58:57.066 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 18:58:57.066 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE) in 54.3274ms
2025-02-08 18:58:57.066 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.EditarProducto (GIGANTECLIENTCORE)'
2025-02-08 18:58:57.067 -04:00 [DBG] Connection id "0HNA8IFHPLJQS" completed keep alive response.
2025-02-08 18:58:57.067 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:58:57.067 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:58:57.067 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:58:57.067 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/Carrito/editar - 200 null text/plain; charset=utf-8 59.3537ms
2025-02-08 18:58:57.568 -04:00 [DBG] Connection id "0HNA8IFHPLJQS" received FIN.
2025-02-08 18:58:57.568 -04:00 [DBG] Connection id "0HNA8IFHPLJQS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:58:57.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQS" disconnecting.
2025-02-08 18:58:57.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQS" stopped.
2025-02-08 18:59:01.275 -04:00 [DBG] Connection id "0HNA8IFHPLJQT" accepted.
2025-02-08 18:59:01.275 -04:00 [DBG] Connection id "0HNA8IFHPLJQT" started.
2025-02-08 18:59:01.276 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Carrito?id=17 - null null
2025-02-08 18:59:01.276 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:59:01.276 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito'
2025-02-08 18:59:01.276 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)' with route pattern 'api/Carrito' is valid for the request path '/api/Carrito'
2025-02-08 18:59:01.276 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:59:01.276 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:59:01.276 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:59:01.276 -04:00 [INF] Route matched with {action = "ObtenerCarritoUsario", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerCarritoUsario(Int32) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 18:59:01.279 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:59:01.279 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:59:01.279 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:59:01.280 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:59:01.280 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:59:01.280 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:59:01.280 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 18:59:01.280 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:59:01.281 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:59:01.281 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:01.281 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:01.281 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:59:01.281 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:01.281 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:59:01.282 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:59:01.286 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:59:01.286 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:59:01.286 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:01.287 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:01.287 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:59:01.287 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:01.287 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:01.287 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 18:59:01.290 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 18:59:01.291 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.291 -04:00 [DBG] The navigation 'Carrito.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.291 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.292 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.292 -04:00 [DBG] The navigation 'DetalleCarrito.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.292 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.292 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.292 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.292 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.292 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:01.292 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:01.292 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:59:01.292 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:01.293 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:59:01.293 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.881ms.
2025-02-08 18:59:01.293 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:59:01.293 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:59:01.293 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:59:01.293 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:59:01.293 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:59:01.293 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Carrito, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:59:01.294 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) in 14.1307ms
2025-02-08 18:59:01.294 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 18:59:01.294 -04:00 [DBG] Connection id "0HNA8IFHPLJQT" completed keep alive response.
2025-02-08 18:59:01.294 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:59:01.294 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:01.294 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:59:01.294 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Carrito?id=17 - 200 906 application/json; charset=utf-8 18.417ms
2025-02-08 18:59:02.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQT" received FIN.
2025-02-08 18:59:02.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:59:02.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQT" disconnecting.
2025-02-08 18:59:02.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQT" stopped.
2025-02-08 18:59:24.117 -04:00 [DBG] Connection id "0HNA8IFHPLJQU" accepted.
2025-02-08 18:59:24.120 -04:00 [DBG] Connection id "0HNA8IFHPLJQU" started.
2025-02-08 18:59:24.120 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Categoria - null null
2025-02-08 18:59:24.121 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:59:24.130 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Categoria'
2025-02-08 18:59:24.131 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategorias (GIGANTECLIENTCORE)' with route pattern 'api/Categoria' is valid for the request path '/api/Categoria'
2025-02-08 18:59:24.131 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategorias (GIGANTECLIENTCORE)'
2025-02-08 18:59:24.132 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:59:24.132 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategorias (GIGANTECLIENTCORE)'
2025-02-08 18:59:24.135 -04:00 [INF] Route matched with {action = "GetCategorias", controller = "Categoria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategorias() on controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE).
2025-02-08 18:59:24.135 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:59:24.135 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:59:24.135 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:59:24.135 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:59:24.135 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:59:24.135 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE)
2025-02-08 18:59:24.136 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE)
2025-02-08 18:59:24.136 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategorias (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:59:24.137 -04:00 [INF] Obteniendo Categorias...
2025-02-08 18:59:24.137 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:59:24.138 -04:00 [DBG] Compiling query expression: 
'DbSet<Categorium>()
    .Include(o => o.SubCategoria)'
2025-02-08 18:59:24.138 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 18:59:24.146 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Categorium>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categorium.Nombre (string) Required MaxLength(100), 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: SubCategorium.CategoriaId (int) Required FK Index, 3], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 4] }
            3 -> 2
        SELECT c.Id, c.Nombre, s.Id, s.CategoriaId, s.Nombre
        FROM Categoria AS c
        LEFT JOIN SubCategoria AS s ON c.Id == s.CategoriaId
        ORDER BY c.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categorium.Nombre (string) Required MaxLength(100), 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: SubCategorium.CategoriaId (int) Required FK Index, 3], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 4] }
            3 -> 2
        SELECT c.Id, c.Nombre, s.Id, s.CategoriaId, s.Nombre
        FROM Categoria AS c
        LEFT JOIN SubCategoria AS s ON c.Id == s.CategoriaId
        ORDER BY c.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Categorium entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Categorium instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Categorium);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Categorium)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                            {
                                return 
                                {
                                    Categorium instance;
                                    instance = new Categorium();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Nombre>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Categorium)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Categorium)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                SubCategorium entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    SubCategorium instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(SubCategorium);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (SubCategorium)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                {
                                    return 
                                    {
                                        SubCategorium instance;
                                        instance = new SubCategorium();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                        instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(3) ? default(int) : dataReader.GetInt32(3);
                                        instance.<Nombre>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(SubCategorium)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
            fixup: (namelessParameter{9}, namelessParameter{10}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                    entity: namelessParameter{9}, 
                    value: namelessParameter{10}, 
                    forMaterialization: True);
                return namelessParameter{10}.<Categoria>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Categorium)(resultContext.Values[0]) : default(Categorium);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 18:59:24.147 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:59:24.147 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:59:24.147 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:24.147 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:24.147 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:59:24.147 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:24.148 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:24.148 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Categoria] AS [c]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
ORDER BY [c].[Id]
2025-02-08 18:59:24.156 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Categoria] AS [c]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
ORDER BY [c].[Id]
2025-02-08 18:59:24.156 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:24.158 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:24.159 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:24.159 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:24.159 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:24.159 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 3ms reading results.
2025-02-08 18:59:24.159 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:24.159 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:59:24.159 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategorias (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.7823ms.
2025-02-08 18:59:24.160 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:59:24.160 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:59:24.160 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:59:24.160 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:59:24.160 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:59:24.160 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Categorium, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:59:24.161 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategorias (GIGANTECLIENTCORE) in 25.4875ms
2025-02-08 18:59:24.161 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategorias (GIGANTECLIENTCORE)'
2025-02-08 18:59:24.161 -04:00 [DBG] Connection id "0HNA8IFHPLJQU" completed keep alive response.
2025-02-08 18:59:24.161 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:59:24.161 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:24.161 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:59:24.161 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Categoria - 200 241 application/json; charset=utf-8 40.6305ms
2025-02-08 18:59:27.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQU" received FIN.
2025-02-08 18:59:27.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:59:27.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQU" disconnecting.
2025-02-08 18:59:27.569 -04:00 [DBG] Connection id "0HNA8IFHPLJQU" stopped.
2025-02-08 18:59:33.961 -04:00 [DBG] Connection id "0HNA8IFHPLJQV" accepted.
2025-02-08 18:59:33.961 -04:00 [DBG] Connection id "0HNA8IFHPLJQV" started.
2025-02-08 18:59:33.962 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Categoria/2 - null null
2025-02-08 18:59:33.962 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:59:33.962 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Categoria/2'
2025-02-08 18:59:33.962 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE)' with route pattern 'api/Categoria/{id}' is valid for the request path '/api/Categoria/2'
2025-02-08 18:59:33.962 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE)'
2025-02-08 18:59:33.962 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:59:33.962 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE)'
2025-02-08 18:59:33.964 -04:00 [INF] Route matched with {action = "GetCategoriaId", controller = "Categoria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriaId(Int32) on controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE).
2025-02-08 18:59:33.964 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:59:33.964 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:59:33.964 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:59:33.964 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:59:33.964 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:59:33.964 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE)
2025-02-08 18:59:33.965 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE)
2025-02-08 18:59:33.965 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:59:33.965 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:59:33.965 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:33.965 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:33.965 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:59:33.965 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:33.965 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:59:33.966 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:59:33.967 -04:00 [DBG] Compiling query expression: 
'DbSet<Categorium>()
    .Include(o => o.SubCategoria)
    .FirstOrDefault(u => u.Id == __id_0)'
2025-02-08 18:59:33.967 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 18:59:33.974 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Categorium>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Categorium>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categorium.Nombre (string) Required MaxLength(100), 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: SubCategorium.CategoriaId (int) Required FK Index, 3], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 4] }
                3 -> 2
            SELECT c0.Id, c0.Nombre, s.Id, s.CategoriaId, s.Nombre
            FROM 
            (
                SELECT TOP(1) c.Id, c.Nombre
                FROM Categoria AS c
                WHERE c.Id == @__id_0
            ) AS c0
            LEFT JOIN SubCategoria AS s ON c0.Id == s.CategoriaId
            ORDER BY c0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categorium.Nombre (string) Required MaxLength(100), 1] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: SubCategorium.CategoriaId (int) Required FK Index, 3], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 4] }
                3 -> 2
            SELECT c0.Id, c0.Nombre, s.Id, s.CategoriaId, s.Nombre
            FROM 
            (
                SELECT TOP(1) c.Id, c.Nombre
                FROM Categoria AS c
                WHERE c.Id == @__id_0
            ) AS c0
            LEFT JOIN SubCategoria AS s ON c0.Id == s.CategoriaId
            ORDER BY c0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Categorium entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Categorium instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Categorium);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Categorium)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                                {
                                    return 
                                    {
                                        Categorium instance;
                                        instance = new Categorium();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<Nombre>k__BackingField = dataReader.GetString(1);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Categorium)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Categorium)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    SubCategorium entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        SubCategorium instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(SubCategorium);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (SubCategorium)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                    {
                                        return 
                                        {
                                            SubCategorium instance;
                                            instance = new SubCategorium();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                            instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(3) ? default(int) : dataReader.GetInt32(3);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(SubCategorium)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Categoria>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Categorium)(resultContext.Values[0]) : default(Categorium);
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:59:33.975 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:59:33.975 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:59:33.975 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:33.975 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:33.975 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:59:33.975 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:33.975 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:33.975 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Nombre]
    FROM [Categoria] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c0]
LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
ORDER BY [c0].[Id]
2025-02-08 18:59:34.011 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Nombre]
    FROM [Categoria] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c0]
LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
ORDER BY [c0].[Id]
2025-02-08 18:59:34.011 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:34.012 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:34.013 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:34.013 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:59:34.013 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:34.013 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:59:34.013 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.0809ms.
2025-02-08 18:59:34.013 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:59:34.013 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:59:34.013 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:59:34.013 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:59:34.013 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:59:34.013 -04:00 [INF] Executing OkObjectResult, writing value of type 'GIGANTECLIENTCORE.Models.Categorium'.
2025-02-08 18:59:34.013 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE) in 48.9922ms
2025-02-08 18:59:34.014 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE)'
2025-02-08 18:59:34.014 -04:00 [DBG] Connection id "0HNA8IFHPLJQV" completed keep alive response.
2025-02-08 18:59:34.014 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:59:34.014 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:34.014 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:59:34.014 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Categoria/2 - 200 112 application/json; charset=utf-8 52.0727ms
2025-02-08 18:59:37.570 -04:00 [DBG] Connection id "0HNA8IFHPLJQV" received FIN.
2025-02-08 18:59:37.570 -04:00 [DBG] Connection id "0HNA8IFHPLJQV" disconnecting.
2025-02-08 18:59:37.570 -04:00 [DBG] Connection id "0HNA8IFHPLJQV" stopped.
2025-02-08 18:59:37.571 -04:00 [DBG] Connection id "0HNA8IFHPLJQV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:59:39.542 -04:00 [DBG] Connection id "0HNA8IFHPLJR0" accepted.
2025-02-08 18:59:39.542 -04:00 [DBG] Connection id "0HNA8IFHPLJR0" started.
2025-02-08 18:59:39.542 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Categoria/33 - null null
2025-02-08 18:59:39.543 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:59:39.543 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Categoria/33'
2025-02-08 18:59:39.543 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE)' with route pattern 'api/Categoria/{id}' is valid for the request path '/api/Categoria/33'
2025-02-08 18:59:39.543 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE)'
2025-02-08 18:59:39.543 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:59:39.543 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE)'
2025-02-08 18:59:39.543 -04:00 [INF] Route matched with {action = "GetCategoriaId", controller = "Categoria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriaId(Int32) on controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE).
2025-02-08 18:59:39.544 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:59:39.544 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:59:39.544 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:59:39.544 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:59:39.544 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:59:39.544 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE)
2025-02-08 18:59:39.544 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CategoriaController (GIGANTECLIENTCORE)
2025-02-08 18:59:39.544 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:59:39.545 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:59:39.545 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:39.545 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:39.545 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:59:39.545 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:39.546 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:59:39.549 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:59:39.549 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:59:39.549 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:59:39.550 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:39.550 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:39.550 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:59:39.550 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:39.550 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:39.551 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Nombre]
    FROM [Categoria] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c0]
LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
ORDER BY [c0].[Id]
2025-02-08 18:59:39.561 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Nombre]
    FROM [Categoria] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [c0]
LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
ORDER BY [c0].[Id]
2025-02-08 18:59:39.561 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:39.561 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 18:59:39.561 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:39.561 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:59:39.561 -04:00 [ERR] Categoria no Encontrada.
2025-02-08 18:59:39.561 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 15.7886ms.
2025-02-08 18:59:39.561 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:59:39.561 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:59:39.561 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:59:39.561 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:59:39.562 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 18:59:39.562 -04:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-08 18:59:39.562 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE) in 17.9061ms
2025-02-08 18:59:39.562 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CategoriaController.GetCategoriaId (GIGANTECLIENTCORE)'
2025-02-08 18:59:39.562 -04:00 [DBG] Connection id "0HNA8IFHPLJR0" completed keep alive response.
2025-02-08 18:59:39.562 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:59:39.562 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:39.562 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:59:39.562 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Categoria/33 - 404 null text/plain; charset=utf-8 19.4272ms
2025-02-08 18:59:42.573 -04:00 [DBG] Connection id "0HNA8IFHPLJR0" received FIN.
2025-02-08 18:59:42.574 -04:00 [DBG] Connection id "0HNA8IFHPLJR0" disconnecting.
2025-02-08 18:59:42.574 -04:00 [DBG] Connection id "0HNA8IFHPLJR0" stopped.
2025-02-08 18:59:42.575 -04:00 [DBG] Connection id "0HNA8IFHPLJR0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:59:47.219 -04:00 [DBG] Connection id "0HNA8IFHPLJR1" accepted.
2025-02-08 18:59:47.219 -04:00 [DBG] Connection id "0HNA8IFHPLJR1" started.
2025-02-08 18:59:47.220 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Producto - null null
2025-02-08 18:59:47.220 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:59:47.220 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Producto'
2025-02-08 18:59:47.220 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductos (GIGANTECLIENTCORE)' with route pattern 'api/Producto' is valid for the request path '/api/Producto'
2025-02-08 18:59:47.220 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductos (GIGANTECLIENTCORE)'
2025-02-08 18:59:47.220 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:59:47.220 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductos (GIGANTECLIENTCORE)'
2025-02-08 18:59:47.233 -04:00 [INF] Route matched with {action = "GetProductos", controller = "Producto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductos() on controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE).
2025-02-08 18:59:47.233 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:59:47.233 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:59:47.233 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:59:47.233 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:59:47.233 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:59:47.233 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 18:59:47.234 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 18:59:47.234 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductos (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:59:47.235 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:59:47.235 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Include(o => o.Categoria)
    .ThenInclude(o => o.SubCategoria)'
2025-02-08 18:59:47.236 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 18:59:47.236 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 18:59:47.245 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Producto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 0], [Property: Producto.CategoriaId (int?) FK Index, 1], [Property: Producto.ImageUrl (string) MaxLength(255), 2], [Property: Producto.Marca (string) MaxLength(50), 3], [Property: Producto.Nombre (string) Required MaxLength(100), 4], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 5], [Property: Producto.SubCategoriaId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Categorium.Nombre (string) Required MaxLength(100), 8] }
            2 -> 0
            3 -> 7
            4 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: SubCategorium.CategoriaId (int) Required FK Index, 10], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 11] }
            5 -> 9
        SELECT p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre, s.Id, s.CategoriaId, s.Nombre
        FROM Productos AS p
        LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
        LEFT JOIN SubCategoria AS s ON c.Id == s.CategoriaId
        ORDER BY p.Codigo ASC, c.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 0], [Property: Producto.CategoriaId (int?) FK Index, 1], [Property: Producto.ImageUrl (string) MaxLength(255), 2], [Property: Producto.Marca (string) MaxLength(50), 3], [Property: Producto.Nombre (string) Required MaxLength(100), 4], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 5], [Property: Producto.SubCategoriaId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Categorium.Nombre (string) Required MaxLength(100), 8] }
            2 -> 0
            3 -> 7
            4 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: SubCategorium.CategoriaId (int) Required FK Index, 10], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 11] }
            5 -> 9
        SELECT p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre, s.Id, s.CategoriaId, s.Nombre
        FROM Productos AS p
        LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
        LEFT JOIN SubCategoria AS s ON c.Id == s.CategoriaId
        ORDER BY p.Codigo ASC, c.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Producto entity;
            Categorium entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Producto instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Producto);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Producto)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                            {
                                return 
                                {
                                    Producto instance;
                                    instance = new Producto();
                                    instance.<Codigo>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(1) ? default(int?) : (int?)dataReader.GetInt32(1);
                                    instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Marca>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Nombre>k__BackingField = dataReader.GetString(4);
                                    instance.<Stock>k__BackingField = dataReader.IsDBNull(5) ? default(bool?) : (bool?)dataReader.GetBoolean(5);
                                    instance.<SubCategoriaId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Producto)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Categorium instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Categorium);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                    keyValues: new object[]{ dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: False, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Categorium)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                            {
                                return 
                                {
                                    Categorium instance;
                                    instance = new Categorium();
                                    instance.<Id>k__BackingField = dataReader.IsDBNull(7) ? default(int) : dataReader.GetInt32(7);
                                    instance.<Nombre>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Categorium)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Categorium)(resultContext.Values[1]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                queryContext: queryContext, 
                entity: (Producto)(resultContext.Values[0]), 
                relatedEntity: (Categorium)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    namelessParameter{10}.<Categoria>k__BackingField = namelessParameter{11};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                        entity: namelessParameter{11}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                SubCategorium entity;
                entity = 
                {
                    MaterializationContext materializationContext3;
                    IEntityType entityType3;
                    SubCategorium instance3;
                    InternalEntityEntry entry3;
                    bool hasNullKey3;
                    materializationContext3 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance3 = default(SubCategorium);
                    entry3 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetInt32(9) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey3);
                    !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                    {
                        entityType3 = entry3.EntityType;
                        return instance3 = (SubCategorium)entry3.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot3;
                        shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType3 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                        instance3 = switch (entityType3)
                        {
                            case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                {
                                    return 
                                    {
                                        SubCategorium instance;
                                        instance = new SubCategorium();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(int) : dataReader.GetInt32(9);
                                        instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(10) ? default(int) : dataReader.GetInt32(10);
                                        instance.<Nombre>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext3.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(SubCategorium)
                        }
                        ;
                        entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType3, 
                            entity: instance3, 
                            snapshot: shadowSnapshot3);
                        return instance3;
                    } : default(void);
                    return instance3;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
            fixup: (namelessParameter{17}, namelessParameter{18}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{18}, 
                    forMaterialization: True);
                return namelessParameter{18}.<Categoria>k__BackingField = namelessParameter{17};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Producto)(resultContext.Values[0]) : default(Producto);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 18:59:47.248 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:59:47.248 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:59:47.248 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:47.248 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:47.248 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:59:47.248 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:47.248 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:47.248 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
ORDER BY [p].[Codigo], [c].[Id]
2025-02-08 18:59:47.263 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
ORDER BY [p].[Codigo], [c].[Id]
2025-02-08 18:59:47.263 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.264 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.264 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.265 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.265 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.266 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.266 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.266 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.266 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.266 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:47.266 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:47.266 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 2ms reading results.
2025-02-08 18:59:47.266 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:47.266 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:59:47.266 -04:00 [INF] Obteniendo Productos
2025-02-08 18:59:47.266 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductos (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.6473ms.
2025-02-08 18:59:47.266 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:59:47.266 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:59:47.266 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:59:47.266 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:59:47.266 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:59:47.266 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Producto, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:59:47.267 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.ProductoController.GetProductos (GIGANTECLIENTCORE) in 33.6512ms
2025-02-08 18:59:47.267 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductos (GIGANTECLIENTCORE)'
2025-02-08 18:59:47.267 -04:00 [DBG] Connection id "0HNA8IFHPLJR1" completed keep alive response.
2025-02-08 18:59:47.267 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:59:47.267 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:47.267 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:59:47.267 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Producto - 200 957 application/json; charset=utf-8 47.4632ms
2025-02-08 18:59:47.570 -04:00 [DBG] Connection id "0HNA8IFHPLJR1" received FIN.
2025-02-08 18:59:47.570 -04:00 [DBG] Connection id "0HNA8IFHPLJR1" disconnecting.
2025-02-08 18:59:47.570 -04:00 [DBG] Connection id "0HNA8IFHPLJR1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 18:59:47.572 -04:00 [DBG] Connection id "0HNA8IFHPLJR1" stopped.
2025-02-08 18:59:57.588 -04:00 [DBG] Connection id "0HNA8IFHPLJR2" accepted.
2025-02-08 18:59:57.589 -04:00 [DBG] Connection id "0HNA8IFHPLJR2" started.
2025-02-08 18:59:57.589 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Producto/9090 - null null
2025-02-08 18:59:57.589 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 18:59:57.589 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Producto/9090'
2025-02-08 18:59:57.589 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.ProductoId (GIGANTECLIENTCORE)' with route pattern 'api/Producto/{id}' is valid for the request path '/api/Producto/9090'
2025-02-08 18:59:57.589 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.ProductoId (GIGANTECLIENTCORE)'
2025-02-08 18:59:57.590 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 18:59:57.590 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.ProductoId (GIGANTECLIENTCORE)'
2025-02-08 18:59:57.599 -04:00 [INF] Route matched with {action = "ProductoId", controller = "Producto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ProductoId(Int32) on controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE).
2025-02-08 18:59:57.599 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 18:59:57.599 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 18:59:57.599 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 18:59:57.599 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 18:59:57.600 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 18:59:57.600 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 18:59:57.600 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 18:59:57.600 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 18:59:57.600 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 18:59:57.600 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:57.600 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:57.601 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 18:59:57.601 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 18:59:57.601 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.ProductoController.ProductoId (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 18:59:57.603 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 18:59:57.604 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Include(o => o.Categoria)
    .ThenInclude(o => o.SubCategoria)
    .FirstOrDefault(u => u.Codigo == __id_0)'
2025-02-08 18:59:57.604 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 18:59:57.605 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 18:59:57.626 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Producto>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Producto>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 0], [Property: Producto.CategoriaId (int?) FK Index, 1], [Property: Producto.ImageUrl (string) MaxLength(255), 2], [Property: Producto.Marca (string) MaxLength(50), 3], [Property: Producto.Nombre (string) Required MaxLength(100), 4], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 5], [Property: Producto.SubCategoriaId (int) Required FK Index, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Categorium.Nombre (string) Required MaxLength(100), 8] }
                2 -> 0
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: SubCategorium.CategoriaId (int) Required FK Index, 10], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 11] }
                5 -> 9
            SELECT s0.Codigo, s0.CategoriaId, s0.ImageUrl, s0.Marca, s0.Nombre, s0.Stock, s0.SubCategoriaId, s0.Id, s0.Nombre0, s.Id, s.CategoriaId, s.Nombre
            FROM 
            (
                SELECT TOP(1) p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0
                FROM Productos AS p
                LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
                WHERE p.Codigo == @__id_0
            ) AS s0
            LEFT JOIN SubCategoria AS s ON s0.Id == s.CategoriaId
            ORDER BY s0.Codigo ASC, s0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 0], [Property: Producto.CategoriaId (int?) FK Index, 1], [Property: Producto.ImageUrl (string) MaxLength(255), 2], [Property: Producto.Marca (string) MaxLength(50), 3], [Property: Producto.Nombre (string) Required MaxLength(100), 4], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 5], [Property: Producto.SubCategoriaId (int) Required FK Index, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Categorium.Nombre (string) Required MaxLength(100), 8] }
                2 -> 0
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: SubCategorium.CategoriaId (int) Required FK Index, 10], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 11] }
                5 -> 9
            SELECT s0.Codigo, s0.CategoriaId, s0.ImageUrl, s0.Marca, s0.Nombre, s0.Stock, s0.SubCategoriaId, s0.Id, s0.Nombre0, s.Id, s.CategoriaId, s.Nombre
            FROM 
            (
                SELECT TOP(1) p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0
                FROM Productos AS p
                LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
                WHERE p.Codigo == @__id_0
            ) AS s0
            LEFT JOIN SubCategoria AS s ON s0.Id == s.CategoriaId
            ORDER BY s0.Codigo ASC, s0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Producto entity;
                Categorium entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Producto instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Producto);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Producto)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                                {
                                    return 
                                    {
                                        Producto instance;
                                        instance = new Producto();
                                        instance.<Codigo>k__BackingField = dataReader.GetInt32(0);
                                        instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(1) ? default(int?) : (int?)dataReader.GetInt32(1);
                                        instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                        instance.<Marca>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                        instance.<Nombre>k__BackingField = dataReader.GetString(4);
                                        instance.<Stock>k__BackingField = dataReader.IsDBNull(5) ? default(bool?) : (bool?)dataReader.GetBoolean(5);
                                        instance.<SubCategoriaId>k__BackingField = dataReader.GetInt32(6);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Producto)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Categorium instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Categorium);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetInt32(7) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (Categorium)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                                {
                                    return 
                                    {
                                        Categorium instance;
                                        instance = new Categorium();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(7) ? default(int) : dataReader.GetInt32(7);
                                        instance.<Nombre>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Categorium)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                resultContext.Values = new object[]
                { 
                    entity, 
                    entity 
                };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Categorium)(resultContext.Values[1]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)(int?)dataReader.GetInt32(0), 
                        (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)(int?)dataReader.GetInt32(0), 
                        (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
                    }], 
                    navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
                ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                    queryContext: queryContext, 
                    entity: (Producto)(resultContext.Values[0]), 
                    relatedEntity: (Categorium)(resultContext.Values[1]), 
                    navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                    inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                    fixup: (namelessParameter{10}, namelessParameter{11}) => 
                    {
                        namelessParameter{10}.<Categoria>k__BackingField = namelessParameter{11};
                        return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                            entity: namelessParameter{11}, 
                            value: namelessParameter{10}, 
                            forMaterialization: True);
                    }, 
                    trackingQuery: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
                }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                    (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    SubCategorium entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        SubCategorium instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(SubCategorium);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetInt32(9) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (SubCategorium)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                    {
                                        return 
                                        {
                                            SubCategorium instance;
                                            instance = new SubCategorium();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(int) : dataReader.GetInt32(9);
                                            instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(10) ? default(int) : dataReader.GetInt32(10);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(SubCategorium)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                        entity: namelessParameter{17}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                    return namelessParameter{18}.<Categoria>k__BackingField = namelessParameter{17};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Producto)(resultContext.Values[0]) : default(Producto);
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 18:59:57.630 -04:00 [DBG] Creating DbConnection.
2025-02-08 18:59:57.630 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 18:59:57.630 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:57.630 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:57.630 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 18:59:57.630 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:57.630 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 18:59:57.630 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id], [s0].[Nombre0], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM (
    SELECT TOP(1) [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0]
    FROM [Productos] AS [p]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    WHERE [p].[Codigo] = @__id_0
) AS [s0]
LEFT JOIN [SubCategoria] AS [s] ON [s0].[Id] = [s].[CategoriaId]
ORDER BY [s0].[Codigo], [s0].[Id]
2025-02-08 18:59:57.649 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id], [s0].[Nombre0], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM (
    SELECT TOP(1) [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0]
    FROM [Productos] AS [p]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    WHERE [p].[Codigo] = @__id_0
) AS [s0]
LEFT JOIN [SubCategoria] AS [s] ON [s0].[Id] = [s].[CategoriaId]
ORDER BY [s0].[Codigo], [s0].[Id]
2025-02-08 18:59:57.649 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:57.649 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:57.649 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:57.650 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:57.650 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 18:59:57.650 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:57.650 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 18:59:57.650 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:57.650 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 18:59:57.650 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.ProductoController.ProductoId (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 49.4799ms.
2025-02-08 18:59:57.650 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 18:59:57.650 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 18:59:57.651 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 18:59:57.651 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 18:59:57.651 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 18:59:57.651 -04:00 [INF] Executing OkObjectResult, writing value of type 'GIGANTECLIENTCORE.Models.Producto'.
2025-02-08 18:59:57.651 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.ProductoController.ProductoId (GIGANTECLIENTCORE) in 51.1538ms
2025-02-08 18:59:57.651 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.ProductoId (GIGANTECLIENTCORE)'
2025-02-08 18:59:57.651 -04:00 [DBG] Connection id "0HNA8IFHPLJR2" completed keep alive response.
2025-02-08 18:59:57.651 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 18:59:57.651 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 18:59:57.651 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 18:59:57.651 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Producto/9090 - 200 463 application/json; charset=utf-8 61.8878ms
2025-02-08 19:00:02.573 -04:00 [DBG] Connection id "0HNA8IFHPLJR2" received FIN.
2025-02-08 19:00:02.577 -04:00 [DBG] Connection id "0HNA8IFHPLJR2" disconnecting.
2025-02-08 19:00:02.577 -04:00 [DBG] Connection id "0HNA8IFHPLJR2" stopped.
2025-02-08 19:00:02.578 -04:00 [DBG] Connection id "0HNA8IFHPLJR2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:00:05.965 -04:00 [DBG] Connection id "0HNA8IFHPLJR3" accepted.
2025-02-08 19:00:05.965 -04:00 [DBG] Connection id "0HNA8IFHPLJR3" started.
2025-02-08 19:00:05.966 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Producto/porcategoria/2 - null null
2025-02-08 19:00:05.966 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 19:00:05.969 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Producto/porcategoria/2'
2025-02-08 19:00:05.969 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosByCategoria (GIGANTECLIENTCORE)' with route pattern 'api/Producto/porcategoria/{categoriaId}' is valid for the request path '/api/Producto/porcategoria/2'
2025-02-08 19:00:05.970 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosByCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:05.970 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:00:05.970 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosByCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:05.975 -04:00 [INF] Route matched with {action = "GetProductosByCategoria", controller = "Producto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductosByCategoria(Int32) on controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE).
2025-02-08 19:00:05.975 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:00:05.975 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:00:05.975 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:00:05.975 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:00:05.975 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:00:05.975 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 19:00:05.976 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 19:00:05.976 -04:00 [DBG] Attempting to bind parameter 'categoriaId' of type 'System.Int32' ...
2025-02-08 19:00:05.976 -04:00 [DBG] Attempting to bind parameter 'categoriaId' of type 'System.Int32' using the name 'categoriaId' in request data ...
2025-02-08 19:00:05.976 -04:00 [DBG] Done attempting to bind parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:05.976 -04:00 [DBG] Done attempting to bind parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:05.976 -04:00 [DBG] Attempting to validate the bound parameter 'categoriaId' of type 'System.Int32' ...
2025-02-08 19:00:05.976 -04:00 [DBG] Done attempting to validate the bound parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:05.976 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosByCategoria (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:00:05.982 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:00:05.984 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Include(s => s.Categoria)
    .Where(s => s.CategoriaId == __categoriaId_0)'
2025-02-08 19:00:05.985 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 19:00:05.996 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Producto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 0], [Property: Producto.CategoriaId (int?) FK Index, 1], [Property: Producto.ImageUrl (string) MaxLength(255), 2], [Property: Producto.Marca (string) MaxLength(50), 3], [Property: Producto.Nombre (string) Required MaxLength(100), 4], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 5], [Property: Producto.SubCategoriaId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Categorium.Nombre (string) Required MaxLength(100), 8] }
        SELECT p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre
        FROM Productos AS p
        LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
        WHERE p.CategoriaId == @__categoriaId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 0], [Property: Producto.CategoriaId (int?) FK Index, 1], [Property: Producto.ImageUrl (string) MaxLength(255), 2], [Property: Producto.Marca (string) MaxLength(50), 3], [Property: Producto.Nombre (string) Required MaxLength(100), 4], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 5], [Property: Producto.SubCategoriaId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Categorium.Nombre (string) Required MaxLength(100), 8] }
        SELECT p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre
        FROM Productos AS p
        LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
        WHERE p.CategoriaId == @__categoriaId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Producto entity;
        Categorium entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Producto instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Producto);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Producto)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                        {
                            return 
                            {
                                Producto instance;
                                instance = new Producto();
                                instance.<Codigo>k__BackingField = dataReader.GetInt32(0);
                                instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(1) ? default(int?) : (int?)dataReader.GetInt32(1);
                                instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<Marca>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<Nombre>k__BackingField = dataReader.GetString(4);
                                instance.<Stock>k__BackingField = dataReader.IsDBNull(5) ? default(bool?) : (bool?)dataReader.GetBoolean(5);
                                instance.<SubCategoriaId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Producto)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Categorium instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Categorium);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                keyValues: new object[]{ dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: False, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Categorium)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                        {
                            return 
                            {
                                Categorium instance;
                                instance = new Categorium();
                                instance.<Id>k__BackingField = dataReader.IsDBNull(7) ? default(int) : dataReader.GetInt32(7);
                                instance.<Nombre>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Categorium)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                namelessParameter{8}.<Categoria>k__BackingField = namelessParameter{9};
                return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                    entity: namelessParameter{9}, 
                    value: namelessParameter{8}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 19:00:06.002 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:00:06.002 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:00:06.002 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:06.003 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:06.003 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:00:06.003 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:06.003 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:06.003 -04:00 [DBG] Executing DbCommand [Parameters=[@__categoriaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
WHERE [p].[CategoriaId] = @__categoriaId_0
2025-02-08 19:00:06.012 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__categoriaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
WHERE [p].[CategoriaId] = @__categoriaId_0
2025-02-08 19:00:06.013 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:00:06.013 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:00:06.013 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:00:06.013 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:06.013 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:00:06.013 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:06.013 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:00:06.013 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosByCategoria (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.1438ms.
2025-02-08 19:00:06.013 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:00:06.013 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:00:06.013 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:00:06.013 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:00:06.013 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 19:00:06.013 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Producto, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 19:00:06.013 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosByCategoria (GIGANTECLIENTCORE) in 38.1722ms
2025-02-08 19:00:06.013 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosByCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:06.013 -04:00 [DBG] Connection id "0HNA8IFHPLJR3" completed keep alive response.
2025-02-08 19:00:06.013 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:00:06.013 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:06.013 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:00:06.014 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Producto/porcategoria/2 - 200 289 application/json; charset=utf-8 47.703ms
2025-02-08 19:00:07.573 -04:00 [DBG] Connection id "0HNA8IFHPLJR3" received FIN.
2025-02-08 19:00:07.573 -04:00 [DBG] Connection id "0HNA8IFHPLJR3" disconnecting.
2025-02-08 19:00:07.573 -04:00 [DBG] Connection id "0HNA8IFHPLJR3" stopped.
2025-02-08 19:00:07.573 -04:00 [DBG] Connection id "0HNA8IFHPLJR3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:00:18.101 -04:00 [DBG] Connection id "0HNA8IFHPLJR4" accepted.
2025-02-08 19:00:18.102 -04:00 [DBG] Connection id "0HNA8IFHPLJR4" started.
2025-02-08 19:00:18.102 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Producto/porsubcategoria/2/1 - null null
2025-02-08 19:00:18.103 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 19:00:18.104 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Producto/porsubcategoria/2/1'
2025-02-08 19:00:18.104 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)' with route pattern 'api/Producto/porsubcategoria/{categoriaId}/{subcategoriaId}' is valid for the request path '/api/Producto/porsubcategoria/2/1'
2025-02-08 19:00:18.104 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:18.104 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:00:18.104 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:18.116 -04:00 [INF] Route matched with {action = "GetProductosBySubCategoria", controller = "Producto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductosBySubCategoria(Int32, Int32) on controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE).
2025-02-08 19:00:18.116 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:00:18.116 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:00:18.116 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:00:18.116 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:00:18.116 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:00:18.116 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 19:00:18.118 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 19:00:18.118 -04:00 [DBG] Attempting to bind parameter 'categoriaId' of type 'System.Int32' ...
2025-02-08 19:00:18.119 -04:00 [DBG] Attempting to bind parameter 'categoriaId' of type 'System.Int32' using the name 'categoriaId' in request data ...
2025-02-08 19:00:18.119 -04:00 [DBG] Done attempting to bind parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:18.119 -04:00 [DBG] Done attempting to bind parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:18.119 -04:00 [DBG] Attempting to validate the bound parameter 'categoriaId' of type 'System.Int32' ...
2025-02-08 19:00:18.119 -04:00 [DBG] Done attempting to validate the bound parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:18.119 -04:00 [DBG] Attempting to bind parameter 'subcategoriaId' of type 'System.Int32' ...
2025-02-08 19:00:18.120 -04:00 [DBG] Attempting to bind parameter 'subcategoriaId' of type 'System.Int32' using the name 'subcategoriaId' in request data ...
2025-02-08 19:00:18.120 -04:00 [DBG] Done attempting to bind parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:18.120 -04:00 [DBG] Done attempting to bind parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:18.120 -04:00 [DBG] Attempting to validate the bound parameter 'subcategoriaId' of type 'System.Int32' ...
2025-02-08 19:00:18.122 -04:00 [DBG] Done attempting to validate the bound parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:18.122 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:00:18.124 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:00:18.125 -04:00 [DBG] Compiling query expression: 
'DbSet<Producto>()
    .Include(s => s.Categoria)
    .ThenInclude(o => o.SubCategoria)
    .Where(s => s.CategoriaId == __categoriaId_0 && s.SubCategoriaId == __subcategoriaId_1)'
2025-02-08 19:00:18.125 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 19:00:18.125 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 19:00:18.137 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Producto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 0], [Property: Producto.CategoriaId (int?) FK Index, 1], [Property: Producto.ImageUrl (string) MaxLength(255), 2], [Property: Producto.Marca (string) MaxLength(50), 3], [Property: Producto.Nombre (string) Required MaxLength(100), 4], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 5], [Property: Producto.SubCategoriaId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Categorium.Nombre (string) Required MaxLength(100), 8] }
            2 -> 0
            3 -> 7
            4 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: SubCategorium.CategoriaId (int) Required FK Index, 10], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 11] }
            5 -> 9
        SELECT p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre, s.Id, s.CategoriaId, s.Nombre
        FROM Productos AS p
        LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
        LEFT JOIN SubCategoria AS s ON c.Id == s.CategoriaId
        WHERE (p.CategoriaId == @__categoriaId_0) && (p.SubCategoriaId == @__subcategoriaId_1)
        ORDER BY p.Codigo ASC, c.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 0], [Property: Producto.CategoriaId (int?) FK Index, 1], [Property: Producto.ImageUrl (string) MaxLength(255), 2], [Property: Producto.Marca (string) MaxLength(50), 3], [Property: Producto.Nombre (string) Required MaxLength(100), 4], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 5], [Property: Producto.SubCategoriaId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Categorium.Nombre (string) Required MaxLength(100), 8] }
            2 -> 0
            3 -> 7
            4 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: SubCategorium.CategoriaId (int) Required FK Index, 10], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 11] }
            5 -> 9
        SELECT p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre, s.Id, s.CategoriaId, s.Nombre
        FROM Productos AS p
        LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
        LEFT JOIN SubCategoria AS s ON c.Id == s.CategoriaId
        WHERE (p.CategoriaId == @__categoriaId_0) && (p.SubCategoriaId == @__subcategoriaId_1)
        ORDER BY p.Codigo ASC, c.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Producto entity;
            Categorium entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Producto instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Producto);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Producto)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                            {
                                return 
                                {
                                    Producto instance;
                                    instance = new Producto();
                                    instance.<Codigo>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(1) ? default(int?) : (int?)dataReader.GetInt32(1);
                                    instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Marca>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Nombre>k__BackingField = dataReader.GetString(4);
                                    instance.<Stock>k__BackingField = dataReader.IsDBNull(5) ? default(bool?) : (bool?)dataReader.GetBoolean(5);
                                    instance.<SubCategoriaId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Producto)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Categorium instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Categorium);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                    keyValues: new object[]{ dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: False, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Categorium)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                            {
                                return 
                                {
                                    Categorium instance;
                                    instance = new Categorium();
                                    instance.<Id>k__BackingField = dataReader.IsDBNull(7) ? default(int) : dataReader.GetInt32(7);
                                    instance.<Nombre>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Categorium)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Categorium)(resultContext.Values[1]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                queryContext: queryContext, 
                entity: (Producto)(resultContext.Values[0]), 
                relatedEntity: (Categorium)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    namelessParameter{10}.<Categoria>k__BackingField = namelessParameter{11};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                        entity: namelessParameter{11}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                SubCategorium entity;
                entity = 
                {
                    MaterializationContext materializationContext3;
                    IEntityType entityType3;
                    SubCategorium instance3;
                    InternalEntityEntry entry3;
                    bool hasNullKey3;
                    materializationContext3 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance3 = default(SubCategorium);
                    entry3 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(9) ? default(object) : (object)dataReader.GetInt32(9) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey3);
                    !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                    {
                        entityType3 = entry3.EntityType;
                        return instance3 = (SubCategorium)entry3.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot3;
                        shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType3 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                        instance3 = switch (entityType3)
                        {
                            case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                {
                                    return 
                                    {
                                        SubCategorium instance;
                                        instance = new SubCategorium();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(9) ? default(int) : dataReader.GetInt32(9);
                                        instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(10) ? default(int) : dataReader.GetInt32(10);
                                        instance.<Nombre>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext3.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(SubCategorium)
                        }
                        ;
                        entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType3, 
                            entity: instance3, 
                            snapshot: shadowSnapshot3);
                        return instance3;
                    } : default(void);
                    return instance3;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
            fixup: (namelessParameter{17}, namelessParameter{18}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{18}, 
                    forMaterialization: True);
                return namelessParameter{18}.<Categoria>k__BackingField = namelessParameter{17};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Producto)(resultContext.Values[0]) : default(Producto);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 19:00:18.142 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:00:18.142 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:00:18.142 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:18.142 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:18.142 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:00:18.142 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:18.142 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:18.142 -04:00 [DBG] Executing DbCommand [Parameters=[@__categoriaId_0='?' (DbType = Int32), @__subcategoriaId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
WHERE [p].[CategoriaId] = @__categoriaId_0 AND [p].[SubCategoriaId] = @__subcategoriaId_1
ORDER BY [p].[Codigo], [c].[Id]
2025-02-08 19:00:18.155 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__categoriaId_0='?' (DbType = Int32), @__subcategoriaId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
WHERE [p].[CategoriaId] = @__categoriaId_0 AND [p].[SubCategoriaId] = @__subcategoriaId_1
ORDER BY [p].[Codigo], [c].[Id]
2025-02-08 19:00:18.155 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:18.155 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:00:18.155 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:18.155 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:00:18.155 -04:00 [INF] No se encontraron Productos con la Subcategoria
2025-02-08 19:00:18.155 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 32.6632ms.
2025-02-08 19:00:18.155 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:00:18.155 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:00:18.155 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:00:18.155 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:00:18.155 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 19:00:18.155 -04:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-08 19:00:18.155 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE) in 39.0312ms
2025-02-08 19:00:18.155 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:18.155 -04:00 [DBG] Connection id "0HNA8IFHPLJR4" completed keep alive response.
2025-02-08 19:00:18.155 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:00:18.155 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:18.155 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:00:18.155 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Producto/porsubcategoria/2/1 - 404 null text/plain; charset=utf-8 53.2214ms
2025-02-08 19:00:22.575 -04:00 [DBG] Connection id "0HNA8IFHPLJR4" received FIN.
2025-02-08 19:00:22.575 -04:00 [DBG] Connection id "0HNA8IFHPLJR4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:00:22.575 -04:00 [DBG] Connection id "0HNA8IFHPLJR4" disconnecting.
2025-02-08 19:00:22.575 -04:00 [DBG] Connection id "0HNA8IFHPLJR4" stopped.
2025-02-08 19:00:26.034 -04:00 [DBG] Connection id "0HNA8IFHPLJR5" accepted.
2025-02-08 19:00:26.035 -04:00 [DBG] Connection id "0HNA8IFHPLJR5" started.
2025-02-08 19:00:26.035 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Producto/porsubcategoria/1/2 - null null
2025-02-08 19:00:26.035 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 19:00:26.035 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Producto/porsubcategoria/1/2'
2025-02-08 19:00:26.035 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)' with route pattern 'api/Producto/porsubcategoria/{categoriaId}/{subcategoriaId}' is valid for the request path '/api/Producto/porsubcategoria/1/2'
2025-02-08 19:00:26.035 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:26.036 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:00:26.036 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:26.036 -04:00 [INF] Route matched with {action = "GetProductosBySubCategoria", controller = "Producto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductosBySubCategoria(Int32, Int32) on controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE).
2025-02-08 19:00:26.036 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:00:26.036 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:00:26.036 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:00:26.036 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:00:26.036 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:00:26.036 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 19:00:26.036 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 19:00:26.036 -04:00 [DBG] Attempting to bind parameter 'categoriaId' of type 'System.Int32' ...
2025-02-08 19:00:26.036 -04:00 [DBG] Attempting to bind parameter 'categoriaId' of type 'System.Int32' using the name 'categoriaId' in request data ...
2025-02-08 19:00:26.037 -04:00 [DBG] Done attempting to bind parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:26.037 -04:00 [DBG] Done attempting to bind parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:26.037 -04:00 [DBG] Attempting to validate the bound parameter 'categoriaId' of type 'System.Int32' ...
2025-02-08 19:00:26.037 -04:00 [DBG] Done attempting to validate the bound parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:26.037 -04:00 [DBG] Attempting to bind parameter 'subcategoriaId' of type 'System.Int32' ...
2025-02-08 19:00:26.037 -04:00 [DBG] Attempting to bind parameter 'subcategoriaId' of type 'System.Int32' using the name 'subcategoriaId' in request data ...
2025-02-08 19:00:26.037 -04:00 [DBG] Done attempting to bind parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:26.037 -04:00 [DBG] Done attempting to bind parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:26.037 -04:00 [DBG] Attempting to validate the bound parameter 'subcategoriaId' of type 'System.Int32' ...
2025-02-08 19:00:26.037 -04:00 [DBG] Done attempting to validate the bound parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:26.037 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:00:26.038 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:00:26.039 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:00:26.039 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:00:26.039 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:26.040 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:26.041 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:00:26.041 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:26.041 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:26.041 -04:00 [DBG] Executing DbCommand [Parameters=[@__categoriaId_0='?' (DbType = Int32), @__subcategoriaId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
WHERE [p].[CategoriaId] = @__categoriaId_0 AND [p].[SubCategoriaId] = @__subcategoriaId_1
ORDER BY [p].[Codigo], [c].[Id]
2025-02-08 19:00:26.046 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__categoriaId_0='?' (DbType = Int32), @__subcategoriaId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
WHERE [p].[CategoriaId] = @__categoriaId_0 AND [p].[SubCategoriaId] = @__subcategoriaId_1
ORDER BY [p].[Codigo], [c].[Id]
2025-02-08 19:00:26.046 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:26.047 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:00:26.047 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:26.047 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:00:26.047 -04:00 [INF] No se encontraron Productos con la Subcategoria
2025-02-08 19:00:26.047 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 10.0812ms.
2025-02-08 19:00:26.047 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:00:26.047 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:00:26.047 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:00:26.047 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:00:26.047 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 19:00:26.047 -04:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-08 19:00:26.048 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE) in 11.7048ms
2025-02-08 19:00:26.048 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:26.048 -04:00 [DBG] Connection id "0HNA8IFHPLJR5" completed keep alive response.
2025-02-08 19:00:26.048 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:00:26.048 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:26.048 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:00:26.048 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Producto/porsubcategoria/1/2 - 404 null text/plain; charset=utf-8 12.7644ms
2025-02-08 19:00:27.579 -04:00 [DBG] Connection id "0HNA8IFHPLJR5" received FIN.
2025-02-08 19:00:27.579 -04:00 [DBG] Connection id "0HNA8IFHPLJR5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:00:27.579 -04:00 [DBG] Connection id "0HNA8IFHPLJR5" disconnecting.
2025-02-08 19:00:27.579 -04:00 [DBG] Connection id "0HNA8IFHPLJR5" stopped.
2025-02-08 19:00:30.948 -04:00 [DBG] Connection id "0HNA8IFHPLJR6" accepted.
2025-02-08 19:00:30.952 -04:00 [DBG] Connection id "0HNA8IFHPLJR6" started.
2025-02-08 19:00:30.959 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Producto/porsubcategoria/1/1 - null null
2025-02-08 19:00:30.959 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 19:00:30.959 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Producto/porsubcategoria/1/1'
2025-02-08 19:00:30.959 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)' with route pattern 'api/Producto/porsubcategoria/{categoriaId}/{subcategoriaId}' is valid for the request path '/api/Producto/porsubcategoria/1/1'
2025-02-08 19:00:30.959 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:30.960 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:00:30.960 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:30.960 -04:00 [INF] Route matched with {action = "GetProductosBySubCategoria", controller = "Producto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductosBySubCategoria(Int32, Int32) on controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE).
2025-02-08 19:00:30.960 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:00:30.960 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:00:30.960 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:00:30.960 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:00:30.960 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:00:30.960 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 19:00:30.960 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.ProductoController (GIGANTECLIENTCORE)
2025-02-08 19:00:30.960 -04:00 [DBG] Attempting to bind parameter 'categoriaId' of type 'System.Int32' ...
2025-02-08 19:00:30.960 -04:00 [DBG] Attempting to bind parameter 'categoriaId' of type 'System.Int32' using the name 'categoriaId' in request data ...
2025-02-08 19:00:30.960 -04:00 [DBG] Done attempting to bind parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:30.960 -04:00 [DBG] Done attempting to bind parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:30.960 -04:00 [DBG] Attempting to validate the bound parameter 'categoriaId' of type 'System.Int32' ...
2025-02-08 19:00:30.960 -04:00 [DBG] Done attempting to validate the bound parameter 'categoriaId' of type 'System.Int32'.
2025-02-08 19:00:30.960 -04:00 [DBG] Attempting to bind parameter 'subcategoriaId' of type 'System.Int32' ...
2025-02-08 19:00:30.960 -04:00 [DBG] Attempting to bind parameter 'subcategoriaId' of type 'System.Int32' using the name 'subcategoriaId' in request data ...
2025-02-08 19:00:30.960 -04:00 [DBG] Done attempting to bind parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:30.960 -04:00 [DBG] Done attempting to bind parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:30.961 -04:00 [DBG] Attempting to validate the bound parameter 'subcategoriaId' of type 'System.Int32' ...
2025-02-08 19:00:30.961 -04:00 [DBG] Done attempting to validate the bound parameter 'subcategoriaId' of type 'System.Int32'.
2025-02-08 19:00:30.961 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:00:30.961 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:00:30.961 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:00:30.961 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:00:30.961 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:30.961 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:30.961 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:00:30.962 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:30.962 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:30.962 -04:00 [DBG] Executing DbCommand [Parameters=[@__categoriaId_0='?' (DbType = Int32), @__subcategoriaId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
WHERE [p].[CategoriaId] = @__categoriaId_0 AND [p].[SubCategoriaId] = @__subcategoriaId_1
ORDER BY [p].[Codigo], [c].[Id]
2025-02-08 19:00:30.965 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__categoriaId_0='?' (DbType = Int32), @__subcategoriaId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre], [s].[Id], [s].[CategoriaId], [s].[Nombre]
FROM [Productos] AS [p]
LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
LEFT JOIN [SubCategoria] AS [s] ON [c].[Id] = [s].[CategoriaId]
WHERE [p].[CategoriaId] = @__categoriaId_0 AND [p].[SubCategoriaId] = @__subcategoriaId_1
ORDER BY [p].[Codigo], [c].[Id]
2025-02-08 19:00:30.965 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:00:30.965 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:00:30.965 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:00:30.966 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:00:30.967 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:00:30.967 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:30.967 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 19:00:30.967 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:30.967 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:00:30.967 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.2062ms.
2025-02-08 19:00:30.967 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:00:30.967 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:00:30.967 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:00:30.967 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:00:30.967 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 19:00:30.967 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Producto, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 19:00:30.967 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE) in 7.2805ms
2025-02-08 19:00:30.967 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.ProductoController.GetProductosBySubCategoria (GIGANTECLIENTCORE)'
2025-02-08 19:00:30.967 -04:00 [DBG] Connection id "0HNA8IFHPLJR6" completed keep alive response.
2025-02-08 19:00:30.967 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:00:30.967 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:30.967 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:00:30.967 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Producto/porsubcategoria/1/1 - 200 493 application/json; charset=utf-8 8.7398ms
2025-02-08 19:00:32.576 -04:00 [DBG] Connection id "0HNA8IFHPLJR6" received FIN.
2025-02-08 19:00:32.577 -04:00 [DBG] Connection id "0HNA8IFHPLJR6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:00:32.578 -04:00 [DBG] Connection id "0HNA8IFHPLJR6" disconnecting.
2025-02-08 19:00:32.578 -04:00 [DBG] Connection id "0HNA8IFHPLJR6" stopped.
2025-02-08 19:00:51.967 -04:00 [DBG] Connection id "0HNA8IFHPLJR7" accepted.
2025-02-08 19:00:51.969 -04:00 [DBG] Connection id "0HNA8IFHPLJR7" started.
2025-02-08 19:00:51.969 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/17 - null null
2025-02-08 19:00:51.971 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 19:00:51.972 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/SolicitudesUsuario/17'
2025-02-08 19:00:51.972 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/SolicitudesUsuario/{id}' is valid for the request path '/api/Solicitudes/SolicitudesUsuario/17'
2025-02-08 19:00:51.972 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 19:00:51.972 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:00:51.977 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 19:00:51.984 -04:00 [INF] Route matched with {action = "GetSolicitudesUsuario", controller = "Solicitudes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSolicitudesUsuario(Int32) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 19:00:51.984 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:00:51.984 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:00:51.984 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:00:51.984 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:00:51.984 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:00:51.984 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 19:00:51.984 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 19:00:51.985 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 19:00:51.985 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 19:00:51.985 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:00:51.985 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:00:51.985 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 19:00:51.985 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 19:00:51.985 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:00:51.987 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:00:51.988 -04:00 [DBG] Compiling query expression: 
'DbSet<Solicitud>()
    .Include(o => o.Usuario)
    .Include(o => o.DetalleSolicituds)
    .ThenInclude(l => l.Producto)
    .ThenInclude(l => l.Categoria)
    .ThenInclude(l => l.SubCategoria)
    .Where(o => o.UsuarioId == __id_0)'
2025-02-08 19:00:51.988 -04:00 [DBG] Including navigation: 'Solicitud.Usuario'.
2025-02-08 19:00:51.988 -04:00 [DBG] Including navigation: 'Solicitud.DetalleSolicituds'.
2025-02-08 19:00:51.988 -04:00 [DBG] Including navigation: 'DetalleSolicitud.Producto'.
2025-02-08 19:00:51.988 -04:00 [DBG] Including navigation: 'Producto.Categoria'.
2025-02-08 19:00:51.989 -04:00 [DBG] Including navigation: 'Categorium.SubCategoria'.
2025-02-08 19:00:51.994 -04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-08 19:00:52.010 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Solicitud>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 26], [Property: Categorium.Nombre (string) Required MaxLength(100), 27] }
            7 -> 15
            8 -> 19
            9 -> 26
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: SubCategorium.CategoriaId (int) Required FK Index, 29], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 30] }
            11 -> 28
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s1.IdDetalle, s1.Cantidad, s1.IdSolicitud, s1.ProductoId, s1.Codigo, s1.CategoriaId, s1.ImageUrl, s1.Marca, s1.Nombre, s1.Stock, s1.SubCategoriaId, s1.Id, s1.Nombre0, s1.Id0, s1.CategoriaId0, s1.Nombre1
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0, s0.Id AS Id0, s0.CategoriaId AS CategoriaId0, s0.Nombre AS Nombre1
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
            LEFT JOIN SubCategoria AS s0 ON c.Id == s0.CategoriaId
        ) AS s1 ON s.IdSolicitud == s1.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s1.IdDetalle ASC, s1.Codigo ASC, s1.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Solicitud.IdSolicitud (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Solicitud.FechaSolicitud (DateTime?) ValueGenerated.OnAdd, 1], [Property: Solicitud.UsuarioId (int) Required FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 4], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 5], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 6], [Property: UsuarioCliente.Dob (DateOnly?), 7], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 8], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 9], [Property: UsuarioCliente.Password (string), 10], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 11], [Property: UsuarioCliente.RolId (int) Required FK Index, 12], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 13], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 14] }
            2 -> 0
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: DetalleSolicitud.IdDetalle (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DetalleSolicitud.Cantidad (int) Required, 16], [Property: DetalleSolicitud.IdSolicitud (int) Required FK Index, 17], [Property: DetalleSolicitud.ProductoId (int) Required FK Index, 18] }
            5 -> Dictionary<IProperty, int> { [Property: Producto.Codigo (int) Required PK AfterSave:Throw, 19], [Property: Producto.CategoriaId (int?) FK Index, 20], [Property: Producto.ImageUrl (string) MaxLength(255), 21], [Property: Producto.Marca (string) MaxLength(50), 22], [Property: Producto.Nombre (string) Required MaxLength(100), 23], [Property: Producto.Stock (bool?) ValueGenerated.OnAdd, 24], [Property: Producto.SubCategoriaId (int) Required FK Index, 25] }
            6 -> Dictionary<IProperty, int> { [Property: Categorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 26], [Property: Categorium.Nombre (string) Required MaxLength(100), 27] }
            7 -> 15
            8 -> 19
            9 -> 26
            10 -> Dictionary<IProperty, int> { [Property: SubCategorium.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: SubCategorium.CategoriaId (int) Required FK Index, 29], [Property: SubCategorium.Nombre (string) Required MaxLength(100), 30] }
            11 -> 28
        SELECT s.IdSolicitud, s.FechaSolicitud, s.UsuarioId, u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, s1.IdDetalle, s1.Cantidad, s1.IdSolicitud, s1.ProductoId, s1.Codigo, s1.CategoriaId, s1.ImageUrl, s1.Marca, s1.Nombre, s1.Stock, s1.SubCategoriaId, s1.Id, s1.Nombre0, s1.Id0, s1.CategoriaId0, s1.Nombre1
        FROM Solicitud AS s
        INNER JOIN UsuarioCliente AS u ON s.UsuarioId == u.Id
        LEFT JOIN 
        (
            SELECT d.IdDetalle, d.Cantidad, d.IdSolicitud, d.ProductoId, p.Codigo, p.CategoriaId, p.ImageUrl, p.Marca, p.Nombre, p.Stock, p.SubCategoriaId, c.Id, c.Nombre AS Nombre0, s0.Id AS Id0, s0.CategoriaId AS CategoriaId0, s0.Nombre AS Nombre1
            FROM DetalleSolicitud AS d
            INNER JOIN Productos AS p ON d.ProductoId == p.Codigo
            LEFT JOIN Categoria AS c ON p.CategoriaId == c.Id
            LEFT JOIN SubCategoria AS s0 ON c.Id == s0.CategoriaId
        ) AS s1 ON s.IdSolicitud == s1.IdSolicitud
        WHERE s.UsuarioId == @__id_0
        ORDER BY s.IdSolicitud ASC, u.Id ASC, s1.IdDetalle ASC, s1.Codigo ASC, s1.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Solicitud entity;
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Solicitud instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Solicitud);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Solicitud.IdSolicitud PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Solicitud)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]: 
                            {
                                return 
                                {
                                    Solicitud instance;
                                    instance = new Solicitud();
                                    instance.<IdSolicitud>k__BackingField = dataReader.GetInt32(0);
                                    instance.<FechaSolicitud>k__BackingField = dataReader.IsDBNull(1) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(1);
                                    instance.<UsuarioId>k__BackingField = dataReader.GetInt32(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Solicitud | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Solicitud)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                UsuarioCliente instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(UsuarioCliente);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (UsuarioCliente)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(7) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(7);
                                    instance.<Email>k__BackingField = dataReader.GetString(8);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<UserName>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Solicitud, Solicitud, UsuarioCliente>(
                queryContext: queryContext, 
                entity: (Solicitud)(resultContext.Values[0]), 
                relatedEntity: (UsuarioCliente)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.Usuario (UsuarioCliente) ToPrincipal UsuarioCliente Inverse: Solicituds | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("Usuario")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Solicituds (ICollection<Solicitud>) Collection ToDependent Solicitud Inverse: Usuario | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Usuario>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<UsuarioCliente, ICollection<Solicitud>, Solicitud> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Solicituds").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Solicitud, Solicitud>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Solicitud)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(3) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Solicitud.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: IdSolicitudNavigation | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Solicitud, DetalleSolicitud>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(3) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
            }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    DetalleSolicitud entity;
                    Producto entity;
                    Categorium entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        DetalleSolicitud instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(DetalleSolicitud);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DetalleSolicitud.IdDetalle PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetInt32(15) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (DetalleSolicitud)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]: 
                                    {
                                        return 
                                        {
                                            DetalleSolicitud instance;
                                            instance = new DetalleSolicitud();
                                            instance.<IdDetalle>k__BackingField = dataReader.IsDBNull(15) ? default(int) : dataReader.GetInt32(15);
                                            instance.<Cantidad>k__BackingField = dataReader.IsDBNull(16) ? default(int) : dataReader.GetInt32(16);
                                            instance.<IdSolicitud>k__BackingField = dataReader.IsDBNull(17) ? default(int) : dataReader.GetInt32(17);
                                            instance.<ProductoId>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DetalleSolicitud | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DetalleSolicitud)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext4;
                        IEntityType entityType4;
                        Producto instance4;
                        InternalEntityEntry entry4;
                        bool hasNullKey4;
                        materializationContext4 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance4 = default(Producto);
                        entry4 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Producto.Codigo PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(19) ? default(object) : (object)dataReader.GetInt32(19) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey4);
                        !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                        {
                            entityType4 = entry4.EntityType;
                            return instance4 = (Producto)entry4.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot4;
                            shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType4 = [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")];
                            instance4 = switch (entityType4)
                            {
                                case [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]: 
                                    {
                                        return 
                                        {
                                            Producto instance;
                                            instance = new Producto();
                                            instance.<Codigo>k__BackingField = dataReader.IsDBNull(19) ? default(int) : dataReader.GetInt32(19);
                                            instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(20) ? default(int?) : (int?)dataReader.GetInt32(20);
                                            instance.<ImageUrl>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                            instance.<Marca>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                            instance.<Stock>k__BackingField = dataReader.IsDBNull(24) ? default(bool?) : (bool?)dataReader.GetBoolean(24);
                                            instance.<SubCategoriaId>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext4.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Producto | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Producto)
                            }
                            ;
                            entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType4, 
                                entity: instance4, 
                                snapshot: shadowSnapshot4);
                            return instance4;
                        } : default(void);
                        return instance4;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext5;
                        IEntityType entityType5;
                        Categorium instance5;
                        InternalEntityEntry entry5;
                        bool hasNullKey5;
                        materializationContext5 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance5 = default(Categorium);
                        entry5 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Categorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(26) ? default(object) : (object)dataReader.GetInt32(26) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey5);
                        !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                        {
                            entityType5 = entry5.EntityType;
                            return instance5 = (Categorium)entry5.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot5;
                            shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType5 = [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")];
                            instance5 = switch (entityType5)
                            {
                                case [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]: 
                                    {
                                        return 
                                        {
                                            Categorium instance;
                                            instance = new Categorium();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(26) ? default(int) : dataReader.GetInt32(26);
                                            instance.<Nombre>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext5.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Categorium | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Categorium)
                            }
                            ;
                            entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType5, 
                                entity: instance5, 
                                snapshot: shadowSnapshot5);
                            return instance5;
                        } : default(void);
                        return instance5;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Categorium, Categorium>(
                        collectionId: 1, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Categorium)(resultContext.Values[2]), 
                        parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                            (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                            (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                        }], 
                        outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                        { 
                            (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                            (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                            (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                        }], 
                        navigation: [LIFTABLE Constant: Navigation: Categorium.SubCategoria (ICollection<SubCategorium>) Collection ToDependent SubCategorium Inverse: Categoria | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<Producto, Producto, Categorium>(
                        queryContext: queryContext, 
                        entity: (Producto)(resultContext.Values[1]), 
                        relatedEntity: (Categorium)(resultContext.Values[2]), 
                        navigation: [LIFTABLE Constant: Navigation: Producto.Categoria (Categorium) ToPrincipal Categorium Inverse: Productos | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("Categoria")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Categorium.Productos (ICollection<Producto>) Collection ToDependent Producto Inverse: Categoria | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos")], 
                        fixup: (namelessParameter{26}, namelessParameter{27}) => 
                        {
                            namelessParameter{26}.<Categoria>k__BackingField = namelessParameter{27};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<Producto>, Producto> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("Productos").GetCollectionAccessor()].Add(
                                entity: namelessParameter{27}, 
                                value: namelessParameter{26}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<DetalleSolicitud, DetalleSolicitud, Producto>(
                        queryContext: queryContext, 
                        entity: (DetalleSolicitud)(resultContext.Values[0]), 
                        relatedEntity: (Producto)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.Producto (Producto) ToPrincipal Producto Inverse: DetalleSolicituds | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("Producto")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Producto.DetalleSolicituds (ICollection<DetalleSolicitud>) Collection ToDependent DetalleSolicitud Inverse: Producto | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds")], 
                        fixup: (namelessParameter{31}, namelessParameter{32}) => 
                        {
                            namelessParameter{31}.<Producto>k__BackingField = namelessParameter{32};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Producto, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Producto").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                                entity: namelessParameter{32}, 
                                value: namelessParameter{31}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Categorium, SubCategorium>(
                    collectionId: 1, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                        (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                        (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                    }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                    { 
                        (object)dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15), 
                        (object)dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19), 
                        (object)dataReader.IsDBNull(26) ? default(int?) : (int?)dataReader.GetInt32(26) 
                    }], 
                    selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        SubCategorium entity;
                        entity = 
                        {
                            MaterializationContext materializationContext6;
                            IEntityType entityType6;
                            SubCategorium instance6;
                            InternalEntityEntry entry6;
                            bool hasNullKey6;
                            materializationContext6 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance6 = default(SubCategorium);
                            entry6 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: SubCategorium.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey6);
                            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                            {
                                entityType6 = entry6.EntityType;
                                return instance6 = (SubCategorium)entry6.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot6;
                                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType6 = [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")];
                                instance6 = switch (entityType6)
                                {
                                    case [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]: 
                                        {
                                            return 
                                            {
                                                SubCategorium instance;
                                                instance = new SubCategorium();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                                instance.<CategoriaId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                                instance.<Nombre>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext6.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: SubCategorium | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(SubCategorium)
                                }
                                ;
                                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType6, 
                                    entity: instance6, 
                                    snapshot: shadowSnapshot6);
                                return instance6;
                            } : default(void);
                            return instance6;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: SubCategorium.Categoria (Categorium) ToPrincipal Categorium Inverse: SubCategoria | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.SubCategorium").FindNavigation("Categoria")], 
                    fixup: (namelessParameter{38}, namelessParameter{39}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Categorium, ICollection<SubCategorium>, SubCategorium> | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Categorium").FindNavigation("SubCategoria").GetCollectionAccessor()].Add(
                            entity: namelessParameter{38}, 
                            value: namelessParameter{39}, 
                            forMaterialization: True);
                        return namelessParameter{39}.<Categoria>k__BackingField = namelessParameter{38};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (DetalleSolicitud)(resultContext.Values[0]) : default(DetalleSolicitud);
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: DetalleSolicitud.IdSolicitudNavigation (Solicitud) ToPrincipal Solicitud Inverse: DetalleSolicituds | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.DetalleSolicitud").FindNavigation("IdSolicitudNavigation")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Solicitud, ICollection<DetalleSolicitud>, DetalleSolicitud> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Solicitud").FindNavigation("DetalleSolicituds").GetCollectionAccessor()].Add(
                    entity: namelessParameter{42}, 
                    value: namelessParameter{43}, 
                    forMaterialization: True);
                return namelessParameter{43}.<IdSolicitudNavigation>k__BackingField = namelessParameter{42};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Solicitud)(resultContext.Values[0]) : default(Solicitud);
    }, 
    contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-02-08 19:00:52.013 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:00:52.013 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:00:52.013 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:52.013 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:52.013 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:00:52.013 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:52.013 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:00:52.013 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 19:00:52.022 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 19:00:52.023 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:52.023 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:00:52.023 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:52.023 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:00:52.023 -04:00 [INF] No se encontraron Solitudes en el Usuario
2025-02-08 19:00:52.023 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 38.1198ms.
2025-02-08 19:00:52.023 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:00:52.023 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:00:52.023 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:00:52.023 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:00:52.023 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 19:00:52.023 -04:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-08 19:00:52.023 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) in 39.2211ms
2025-02-08 19:00:52.023 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 19:00:52.023 -04:00 [DBG] Connection id "0HNA8IFHPLJR7" completed keep alive response.
2025-02-08 19:00:52.023 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:00:52.023 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:00:52.023 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:00:52.023 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/17 - 404 null text/plain; charset=utf-8 53.8937ms
2025-02-08 19:00:52.580 -04:00 [DBG] Connection id "0HNA8IFHPLJR7" received FIN.
2025-02-08 19:00:52.581 -04:00 [DBG] Connection id "0HNA8IFHPLJR7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:00:52.581 -04:00 [DBG] Connection id "0HNA8IFHPLJR7" disconnecting.
2025-02-08 19:00:52.582 -04:00 [DBG] Connection id "0HNA8IFHPLJR7" stopped.
2025-02-08 19:01:02.176 -04:00 [DBG] Connection id "0HNA8IFHPLJR8" accepted.
2025-02-08 19:01:02.178 -04:00 [DBG] Connection id "0HNA8IFHPLJR8" started.
2025-02-08 19:01:02.179 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5204/api/Solicitudes/confirmar - application/json-patch+json 21
2025-02-08 19:01:02.179 -04:00 [DBG] POST requests are not supported
2025-02-08 19:01:02.180 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/confirmar'
2025-02-08 19:01:02.180 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/confirmar' is valid for the request path '/api/Solicitudes/confirmar'
2025-02-08 19:01:02.180 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE)'
2025-02-08 19:01:02.182 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 19:01:02.183 -04:00 [INF] CORS policy execution failed.
2025-02-08 19:01:02.183 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 19:01:02.183 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:01:02.183 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE)'
2025-02-08 19:01:02.191 -04:00 [INF] Route matched with {action = "ConfirmarSolicitud", controller = "Solicitudes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmarSolicitud(GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 19:01:02.191 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:01:02.191 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:01:02.191 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:01:02.191 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:01:02.191 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:01:02.191 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 19:01:02.191 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 19:01:02.191 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest' ...
2025-02-08 19:01:02.191 -04:00 [DBG] Attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest' using the name '' in request data ...
2025-02-08 19:01:02.191 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 19:01:02.191 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 19:01:02.191 -04:00 [DBG] Connection id "0HNA8IFHPLJR8", Request id "0HNA8IFHPLJR8:00000001": started reading request body.
2025-02-08 19:01:02.191 -04:00 [DBG] Connection id "0HNA8IFHPLJR8", Request id "0HNA8IFHPLJR8:00000001": done reading request body.
2025-02-08 19:01:02.192 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest'.
2025-02-08 19:01:02.192 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest'.
2025-02-08 19:01:02.192 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest' ...
2025-02-08 19:01:02.193 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GIGANTECLIENTCORE.Controllers.ConfirmarCompraRequest'.
2025-02-08 19:01:02.193 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:01:02.195 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:01:02.195 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:01:02.195 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:01:02.195 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.195 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.195 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:01:02.195 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:02.195 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:02.195 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 19:01:02.200 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UsuarioId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[UsuarioId], [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[UsuarioId]
    FROM [Carrito] AS [c]
    WHERE [c].[UsuarioId] = @__request_UsuarioId_0
) AS [c0]
LEFT JOIN [DetalleCarrito] AS [d] ON [c0].[Id] = [d].[CarritoId]
ORDER BY [c0].[Id]
2025-02-08 19:01:02.200 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.201 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleCarrito' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.201 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.201 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:01:02.201 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.201 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:01:02.203 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Solicitud.IdSolicitud'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.208 -04:00 [DBG] Context 'MyDbContext' started tracking 'Solicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.208 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 19:01:02.208 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 19:01:02.209 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 19:01:02.209 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.209 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.210 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:01:02.210 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:02.210 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:02.210 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Solicitud] ([FechaSolicitud], [UsuarioId])
OUTPUT INSERTED.[IdSolicitud]
VALUES (@p0, @p1);
2025-02-08 19:01:02.218 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Solicitud] ([FechaSolicitud], [UsuarioId])
OUTPUT INSERTED.[IdSolicitud]
VALUES (@p0, @p1);
2025-02-08 19:01:02.220 -04:00 [DBG] The foreign key property 'Solicitud.IdSolicitud' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 19:01:02.220 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.220 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 19:01:02.220 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.220 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:01:02.221 -04:00 [DBG] An entity of type 'Solicitud' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.221 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 19:01:02.225 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'DetalleSolicitud.IdDetalle'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.233 -04:00 [DBG] The navigation 'DetalleSolicitud.IdSolicitudNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.234 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.236 -04:00 [DBG] An entity of type 'Carrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.246 -04:00 [DBG] A cascade state change of an entity of type 'DetalleCarrito' to '"Deleted"' occurred due to deletion of its parent entity of type 'Carrito'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.246 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.246 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 19:01:02.246 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 19:01:02.246 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 19:01:02.255 -04:00 [DBG] Executing 3 update commands as a batch.
2025-02-08 19:01:02.257 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.257 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.259 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-02-08 19:01:02.271 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-02-08 19:01:02.272 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:01:02.272 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:02.273 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-02-08 19:01:02.273 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetalleCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INSERT INTO [DetalleSolicitud] ([Cantidad], [IdSolicitud], [ProductoId])
OUTPUT INSERTED.[IdDetalle]
VALUES (@p1, @p2, @p3);
DELETE FROM [Carrito]
OUTPUT 1
WHERE [Id] = @p4;
2025-02-08 19:01:02.309 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetalleCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INSERT INTO [DetalleSolicitud] ([Cantidad], [IdSolicitud], [ProductoId])
OUTPUT INSERTED.[IdDetalle]
VALUES (@p1, @p2, @p3);
DELETE FROM [Carrito]
OUTPUT 1
WHERE [Id] = @p4;
2025-02-08 19:01:02.310 -04:00 [DBG] The foreign key property 'DetalleSolicitud.IdDetalle' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 19:01:02.311 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.311 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 1ms reading results.
2025-02-08 19:01:02.313 -04:00 [DBG] Committing transaction.
2025-02-08 19:01:02.320 -04:00 [DBG] Committed transaction.
2025-02-08 19:01:02.321 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.321 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:01:02.322 -04:00 [DBG] Disposing transaction.
2025-02-08 19:01:02.323 -04:00 [DBG] An entity of type 'DetalleSolicitud' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.327 -04:00 [DBG] The navigation 'DetalleCarrito.Carrito' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.327 -04:00 [DBG] An entity of type 'Carrito' tracked by 'MyDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.328 -04:00 [DBG] An entity of type 'DetalleCarrito' tracked by 'MyDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:02.328 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 3 entities written to the database.
2025-02-08 19:01:02.328 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 134.9055ms.
2025-02-08 19:01:02.328 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:01:02.328 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:01:02.328 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:01:02.328 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:01:02.328 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 19:01:02.328 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 19:01:02.328 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE) in 136.9163ms
2025-02-08 19:01:02.328 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.ConfirmarSolicitud (GIGANTECLIENTCORE)'
2025-02-08 19:01:02.328 -04:00 [DBG] Connection id "0HNA8IFHPLJR8" completed keep alive response.
2025-02-08 19:01:02.328 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:01:02.328 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:02.328 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:01:02.328 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5204/api/Solicitudes/confirmar - 200 null text/plain; charset=utf-8 149.2287ms
2025-02-08 19:01:02.582 -04:00 [DBG] Connection id "0HNA8IFHPLJR8" received FIN.
2025-02-08 19:01:02.582 -04:00 [DBG] Connection id "0HNA8IFHPLJR8" disconnecting.
2025-02-08 19:01:02.582 -04:00 [DBG] Connection id "0HNA8IFHPLJR8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:01:02.583 -04:00 [DBG] Connection id "0HNA8IFHPLJR8" stopped.
2025-02-08 19:01:05.102 -04:00 [DBG] Connection id "0HNA8IFHPLJR9" accepted.
2025-02-08 19:01:05.102 -04:00 [DBG] Connection id "0HNA8IFHPLJR9" started.
2025-02-08 19:01:05.103 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/17 - null null
2025-02-08 19:01:05.103 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 19:01:05.103 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Solicitudes/SolicitudesUsuario/17'
2025-02-08 19:01:05.103 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)' with route pattern 'api/Solicitudes/SolicitudesUsuario/{id}' is valid for the request path '/api/Solicitudes/SolicitudesUsuario/17'
2025-02-08 19:01:05.103 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 19:01:05.103 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:01:05.103 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 19:01:05.104 -04:00 [INF] Route matched with {action = "GetSolicitudesUsuario", controller = "Solicitudes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSolicitudesUsuario(Int32) on controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE).
2025-02-08 19:01:05.105 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:01:05.105 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:01:05.105 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:01:05.105 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:01:05.105 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:01:05.105 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 19:01:05.107 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.SolicitudesController (GIGANTECLIENTCORE)
2025-02-08 19:01:05.107 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 19:01:05.110 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 19:01:05.110 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:01:05.110 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:01:05.110 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 19:01:05.110 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 19:01:05.111 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:01:05.112 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:01:05.113 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:01:05.113 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:01:05.113 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:05.113 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:05.113 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:01:05.113 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:05.113 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:05.113 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 19:01:05.123 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSolicitud], [s].[FechaSolicitud], [s].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s1].[IdDetalle], [s1].[Cantidad], [s1].[IdSolicitud], [s1].[ProductoId], [s1].[Codigo], [s1].[CategoriaId], [s1].[ImageUrl], [s1].[Marca], [s1].[Nombre], [s1].[Stock], [s1].[SubCategoriaId], [s1].[Id], [s1].[Nombre0], [s1].[Id0], [s1].[CategoriaId0], [s1].[Nombre1]
FROM [Solicitud] AS [s]
INNER JOIN [UsuarioCliente] AS [u] ON [s].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[IdDetalle], [d].[Cantidad], [d].[IdSolicitud], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c].[Id], [c].[Nombre] AS [Nombre0], [s0].[Id] AS [Id0], [s0].[CategoriaId] AS [CategoriaId0], [s0].[Nombre] AS [Nombre1]
    FROM [DetalleSolicitud] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c] ON [p].[CategoriaId] = [c].[Id]
    LEFT JOIN [SubCategoria] AS [s0] ON [c].[Id] = [s0].[CategoriaId]
) AS [s1] ON [s].[IdSolicitud] = [s1].[IdSolicitud]
WHERE [s].[UsuarioId] = @__id_0
ORDER BY [s].[IdSolicitud], [u].[Id], [s1].[IdDetalle], [s1].[Codigo], [s1].[Id]
2025-02-08 19:01:05.123 -04:00 [DBG] Context 'MyDbContext' started tracking 'Solicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.124 -04:00 [DBG] The navigation 'Solicitud.Usuario' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.126 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.132 -04:00 [DBG] Context 'MyDbContext' started tracking 'DetalleSolicitud' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.133 -04:00 [DBG] The navigation 'DetalleSolicitud.Producto' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.133 -04:00 [DBG] Context 'MyDbContext' started tracking 'Producto' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.133 -04:00 [DBG] The navigation 'Producto.Categoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.133 -04:00 [DBG] Context 'MyDbContext' started tracking 'Categorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.135 -04:00 [DBG] The navigation 'Producto.SubCategoria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.135 -04:00 [DBG] Context 'MyDbContext' started tracking 'SubCategorium' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:05.135 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:05.135 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 12ms reading results.
2025-02-08 19:01:05.135 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:05.135 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:01:05.135 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.9176ms.
2025-02-08 19:01:05.136 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:01:05.136 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:01:05.136 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:01:05.136 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:01:05.136 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 19:01:05.136 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Solicitud, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 19:01:05.139 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE) in 34.3342ms
2025-02-08 19:01:05.139 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.SolicitudesController.GetSolicitudesUsuario (GIGANTECLIENTCORE)'
2025-02-08 19:01:05.139 -04:00 [DBG] Connection id "0HNA8IFHPLJR9" completed keep alive response.
2025-02-08 19:01:05.139 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:01:05.139 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:05.139 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:01:05.139 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Solicitudes/SolicitudesUsuario/17 - 200 991 application/json; charset=utf-8 36.7172ms
2025-02-08 19:01:07.583 -04:00 [DBG] Connection id "0HNA8IFHPLJR9" received FIN.
2025-02-08 19:01:07.583 -04:00 [DBG] Connection id "0HNA8IFHPLJR9" disconnecting.
2025-02-08 19:01:07.583 -04:00 [DBG] Connection id "0HNA8IFHPLJR9" stopped.
2025-02-08 19:01:07.583 -04:00 [DBG] Connection id "0HNA8IFHPLJR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:01:18.845 -04:00 [DBG] Connection id "0HNA8IFHPLJRA" accepted.
2025-02-08 19:01:18.845 -04:00 [DBG] Connection id "0HNA8IFHPLJRA" started.
2025-02-08 19:01:18.845 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/User/17 - null null
2025-02-08 19:01:18.845 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 19:01:18.845 -04:00 [DBG] 1 candidate(s) found for the request path '/api/User/17'
2025-02-08 19:01:18.845 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/17'
2025-02-08 19:01:18.845 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE)'
2025-02-08 19:01:18.845 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:01:18.845 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE)'
2025-02-08 19:01:18.848 -04:00 [INF] Route matched with {action = "GetProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE).
2025-02-08 19:01:18.848 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:01:18.848 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:01:18.848 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:01:18.848 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:01:18.848 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:01:18.848 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 19:01:18.848 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 19:01:18.848 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 19:01:18.848 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 19:01:18.848 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:01:18.848 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:01:18.848 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 19:01:18.848 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 19:01:18.848 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:01:18.850 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:01:18.850 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .Include(u => u.Rol)
    .FirstOrDefault(u => u.Id == __id_0)'
2025-02-08 19:01:18.850 -04:00 [DBG] Including navigation: 'UsuarioCliente.Rol'.
2025-02-08 19:01:18.855 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UsuarioCliente>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UsuarioCliente>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
                1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
            FROM UsuarioCliente AS u
            INNER JOIN Roles AS r ON u.RolId == r.IdRol
            WHERE u.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
                1 -> Dictionary<IProperty, int> { [Property: Role.IdRol (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: Role.Name (string) Required MaxLength(50), 13] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName, r.IdRol, r.Name
            FROM UsuarioCliente AS u
            INNER JOIN Roles AS r ON u.RolId == r.IdRol
            WHERE u.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UsuarioCliente entity;
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UsuarioCliente instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UsuarioCliente);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UsuarioCliente)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(4) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(4);
                                    instance.<Email>k__BackingField = dataReader.GetString(5);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(9);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<UserName>k__BackingField = dataReader.GetString(11);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Role instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Role);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.IdRol PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(12) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Role)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<IdRol>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Name>k__BackingField = dataReader.GetString(13);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<UsuarioCliente, UsuarioCliente, Role>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: UsuarioCliente.Rol (Role) ToPrincipal Role Inverse: UsuarioClientes | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindNavigation("Rol")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Role.UsuarioClientes (ICollection<UsuarioCliente>) Collection ToDependent UsuarioCliente Inverse: Rol | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Rol>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Role, ICollection<UsuarioCliente>, UsuarioCliente> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.Role").FindNavigation("UsuarioClientes").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 19:01:18.857 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:01:18.857 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:01:18.857 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:18.857 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:18.857 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:01:18.857 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:18.857 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:01:18.857 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Id] = @__id_0
2025-02-08 19:01:18.864 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [r].[IdRol], [r].[Name]
FROM [UsuarioCliente] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[IdRol]
WHERE [u].[Id] = @__id_0
2025-02-08 19:01:18.864 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:18.864 -04:00 [DBG] The navigation 'UsuarioCliente.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:18.864 -04:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:01:18.864 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:18.864 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:01:18.864 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:18.864 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:01:18.864 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.9ms.
2025-02-08 19:01:18.864 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:01:18.864 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:01:18.864 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:01:18.864 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:01:18.864 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 19:01:18.864 -04:00 [INF] Executing OkObjectResult, writing value of type 'GIGANTECLIENTCORE.DTO.UserClienteDTO'.
2025-02-08 19:01:18.865 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE) in 16.6893ms
2025-02-08 19:01:18.865 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.UserController.GetProfile (GIGANTECLIENTCORE)'
2025-02-08 19:01:18.865 -04:00 [DBG] Connection id "0HNA8IFHPLJRA" completed keep alive response.
2025-02-08 19:01:18.865 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:01:18.865 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:01:18.865 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:01:18.865 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/User/17 - 200 235 application/json; charset=utf-8 19.6837ms
2025-02-08 19:01:22.596 -04:00 [DBG] Connection id "0HNA8IFHPLJRA" received FIN.
2025-02-08 19:01:22.598 -04:00 [DBG] Connection id "0HNA8IFHPLJRA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:01:22.598 -04:00 [DBG] Connection id "0HNA8IFHPLJRA" disconnecting.
2025-02-08 19:01:22.598 -04:00 [DBG] Connection id "0HNA8IFHPLJRA" stopped.
2025-02-08 19:02:31.068 -04:00 [DBG] Connection id "0HNA8IFHPLJRB" accepted.
2025-02-08 19:02:31.068 -04:00 [DBG] Connection id "0HNA8IFHPLJRB" started.
2025-02-08 19:02:31.071 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/User/update/17 - application/json-patch+json 145
2025-02-08 19:02:31.071 -04:00 [DBG] PUT requests are not supported
2025-02-08 19:02:31.075 -04:00 [DBG] 1 candidate(s) found for the request path '/api/User/update/17'
2025-02-08 19:02:31.075 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE)' with route pattern 'api/User/update/{id}' is valid for the request path '/api/User/update/17'
2025-02-08 19:02:31.075 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE)'
2025-02-08 19:02:31.080 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 19:02:31.080 -04:00 [INF] CORS policy execution failed.
2025-02-08 19:02:31.080 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 19:02:31.082 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:02:31.082 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE)'
2025-02-08 19:02:31.089 -04:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Int32, GIGANTECLIENTCORE.DTO.UpdateProfileDTO) on controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE).
2025-02-08 19:02:31.089 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:02:31.089 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:02:31.089 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:02:31.089 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:02:31.089 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:02:31.089 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 19:02:31.090 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 19:02:31.090 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 19:02:31.090 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 19:02:31.090 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:31.090 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:31.090 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 19:02:31.090 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:31.090 -04:00 [DBG] Attempting to bind parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO' ...
2025-02-08 19:02:31.090 -04:00 [DBG] Attempting to bind parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO' using the name '' in request data ...
2025-02-08 19:02:31.090 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 19:02:31.090 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 19:02:31.091 -04:00 [DBG] Connection id "0HNA8IFHPLJRB", Request id "0HNA8IFHPLJRB:00000001": started reading request body.
2025-02-08 19:02:31.091 -04:00 [DBG] Connection id "0HNA8IFHPLJRB", Request id "0HNA8IFHPLJRB:00000001": done reading request body.
2025-02-08 19:02:31.093 -04:00 [DBG] Done attempting to bind parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO'.
2025-02-08 19:02:31.093 -04:00 [DBG] Done attempting to bind parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO'.
2025-02-08 19:02:31.093 -04:00 [DBG] Attempting to validate the bound parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO' ...
2025-02-08 19:02:31.097 -04:00 [DBG] Done attempting to validate the bound parameter 'updateProfile' of type 'GIGANTECLIENTCORE.DTO.UpdateProfileDTO'.
2025-02-08 19:02:31.097 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:02:31.100 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:02:31.113 -04:00 [DBG] Compiling query expression: 
'DbSet<UsuarioCliente>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-02-08 19:02:31.117 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UsuarioCliente>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UsuarioCliente>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName
            FROM UsuarioCliente AS u
            WHERE u.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UsuarioCliente.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UsuarioCliente.Apellidos (string) MaxLength(100), 1], [Property: UsuarioCliente.Ciudad (string) MaxLength(100), 2], [Property: UsuarioCliente.Direccion (string) MaxLength(200), 3], [Property: UsuarioCliente.Dob (DateOnly?), 4], [Property: UsuarioCliente.Email (string) Required MaxLength(100), 5], [Property: UsuarioCliente.FechaIngreso (DateTime?) ValueGenerated.OnAdd, 6], [Property: UsuarioCliente.Password (string), 7], [Property: UsuarioCliente.Rnc (string) FK Index MaxLength(11), 8], [Property: UsuarioCliente.RolId (int) Required FK Index, 9], [Property: UsuarioCliente.Telefono (string) MaxLength(20), 10], [Property: UsuarioCliente.UserName (string) Required MaxLength(50), 11] }
            SELECT TOP(1) u.Id, u.Apellidos, u.Ciudad, u.Direccion, u.DOB, u.Email, u.FechaIngreso, u.Password, u.RNC, u.RolId, u.Telefono, u.UserName
            FROM UsuarioCliente AS u
            WHERE u.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UsuarioCliente entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UsuarioCliente instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UsuarioCliente);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UsuarioCliente.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UsuarioCliente)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]: 
                            {
                                return 
                                {
                                    UsuarioCliente instance;
                                    instance = new UsuarioCliente();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Apellidos>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Ciudad>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Direccion>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Dob>k__BackingField = dataReader.IsDBNull(4) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(4);
                                    instance.<Email>k__BackingField = dataReader.GetString(5);
                                    instance.<FechaIngreso>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<Password>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Rnc>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RolId>k__BackingField = dataReader.GetInt32(9);
                                    instance.<Telefono>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<UserName>k__BackingField = dataReader.GetString(11);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UsuarioCliente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("GIGANTECLIENTCORE.Models.UsuarioCliente")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UsuarioCliente)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: GIGANTECLIENTCORE.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-08 19:02:31.118 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:02:31.118 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:02:31.118 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.119 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.119 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:02:31.119 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:31.119 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:31.119 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 19:02:31.132 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 19:02:31.132 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:31.133 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.133 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:02:31.133 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.133 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:02:31.133 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 19:02:31.133 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 19:02:31.133 -04:00 [DBG] The unchanged property 'UsuarioCliente.UserName' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 19:02:31.133 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:31.133 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 19:02:31.134 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.134 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.134 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:02:31.134 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:31.134 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:31.134 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [UserName] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 19:02:31.157 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [UserName] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 19:02:31.157 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.157 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:02:31.157 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.157 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:02:31.157 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:31.157 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 19:02:31.157 -04:00 [INF] Perfil actualizado exitosamente
2025-02-08 19:02:31.157 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.5739ms.
2025-02-08 19:02:31.157 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:02:31.157 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:02:31.157 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:02:31.157 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:02:31.157 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 19:02:31.157 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 19:02:31.158 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE) in 68.516ms
2025-02-08 19:02:31.158 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.UserController.UpdateProfile (GIGANTECLIENTCORE)'
2025-02-08 19:02:31.158 -04:00 [DBG] Connection id "0HNA8IFHPLJRB" completed keep alive response.
2025-02-08 19:02:31.158 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:02:31.158 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:31.158 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:02:31.158 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/User/update/17 - 200 null text/plain; charset=utf-8 87.4002ms
2025-02-08 19:02:32.605 -04:00 [DBG] Connection id "0HNA8IFHPLJRB" received FIN.
2025-02-08 19:02:32.605 -04:00 [DBG] Connection id "0HNA8IFHPLJRB" disconnecting.
2025-02-08 19:02:32.605 -04:00 [DBG] Connection id "0HNA8IFHPLJRB" stopped.
2025-02-08 19:02:32.605 -04:00 [DBG] Connection id "0HNA8IFHPLJRB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:02:48.637 -04:00 [DBG] Connection id "0HNA8IFHPLJRC" accepted.
2025-02-08 19:02:48.639 -04:00 [DBG] Connection id "0HNA8IFHPLJRC" started.
2025-02-08 19:02:48.639 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/User/change-password/17 - application/json-patch+json 56
2025-02-08 19:02:48.639 -04:00 [DBG] PUT requests are not supported
2025-02-08 19:02:48.639 -04:00 [DBG] 1 candidate(s) found for the request path '/api/User/change-password/17'
2025-02-08 19:02:48.639 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)' with route pattern 'api/User/change-password/{id}' is valid for the request path '/api/User/change-password/17'
2025-02-08 19:02:48.639 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 19:02:48.639 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 19:02:48.639 -04:00 [INF] CORS policy execution failed.
2025-02-08 19:02:48.639 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 19:02:48.639 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:02:48.639 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 19:02:48.642 -04:00 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Int32, GIGANTECLIENTCORE.DTO.ChangePasswordDTO) on controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE).
2025-02-08 19:02:48.642 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:02:48.642 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:02:48.642 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:02:48.642 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:02:48.642 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:02:48.642 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 19:02:48.642 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 19:02:48.642 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 19:02:48.642 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 19:02:48.642 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:48.642 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:48.642 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 19:02:48.642 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:48.642 -04:00 [DBG] Attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' ...
2025-02-08 19:02:48.642 -04:00 [DBG] Attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' using the name '' in request data ...
2025-02-08 19:02:48.642 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 19:02:48.642 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 19:02:48.642 -04:00 [DBG] Connection id "0HNA8IFHPLJRC", Request id "0HNA8IFHPLJRC:00000001": started reading request body.
2025-02-08 19:02:48.642 -04:00 [DBG] Connection id "0HNA8IFHPLJRC", Request id "0HNA8IFHPLJRC:00000001": done reading request body.
2025-02-08 19:02:48.643 -04:00 [DBG] Done attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 19:02:48.643 -04:00 [DBG] Done attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 19:02:48.643 -04:00 [DBG] Attempting to validate the bound parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' ...
2025-02-08 19:02:48.644 -04:00 [DBG] Done attempting to validate the bound parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 19:02:48.644 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:02:48.645 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:02:48.646 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:02:48.646 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:02:48.646 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.646 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.646 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:02:48.646 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:48.646 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:48.646 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 19:02:48.651 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 19:02:48.651 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:48.651 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.651 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:02:48.651 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.651 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:02:48.651 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 19:02:48.651 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 19:02:48.651 -04:00 [DBG] The unchanged property 'UsuarioCliente.Password' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 19:02:48.651 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:48.651 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 19:02:48.651 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.651 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.652 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:02:48.652 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:48.652 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:48.652 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Password] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 19:02:48.657 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Password] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 19:02:48.657 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.657 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:02:48.657 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.657 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:02:48.657 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:48.657 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 19:02:48.657 -04:00 [INF] Contraseña actualizada exitosamente
2025-02-08 19:02:48.657 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.551ms.
2025-02-08 19:02:48.657 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:02:48.657 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:02:48.657 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:02:48.657 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:02:48.657 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 19:02:48.657 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 19:02:48.658 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE) in 15.7192ms
2025-02-08 19:02:48.658 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 19:02:48.658 -04:00 [DBG] Connection id "0HNA8IFHPLJRC" completed keep alive response.
2025-02-08 19:02:48.658 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:02:48.658 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:48.658 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:02:48.658 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/User/change-password/17 - 200 null text/plain; charset=utf-8 18.8389ms
2025-02-08 19:02:52.603 -04:00 [DBG] Connection id "0HNA8IFHPLJRC" received FIN.
2025-02-08 19:02:52.603 -04:00 [DBG] Connection id "0HNA8IFHPLJRC" disconnecting.
2025-02-08 19:02:52.603 -04:00 [DBG] Connection id "0HNA8IFHPLJRC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:02:52.605 -04:00 [DBG] Connection id "0HNA8IFHPLJRC" stopped.
2025-02-08 19:02:55.622 -04:00 [DBG] Connection id "0HNA8IFHPLJRD" accepted.
2025-02-08 19:02:55.622 -04:00 [DBG] Connection id "0HNA8IFHPLJRD" started.
2025-02-08 19:02:55.622 -04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5204/api/User/change-password/17 - application/json-patch+json 56
2025-02-08 19:02:55.622 -04:00 [DBG] PUT requests are not supported
2025-02-08 19:02:55.622 -04:00 [DBG] 1 candidate(s) found for the request path '/api/User/change-password/17'
2025-02-08 19:02:55.622 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)' with route pattern 'api/User/change-password/{id}' is valid for the request path '/api/User/change-password/17'
2025-02-08 19:02:55.622 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 19:02:55.622 -04:00 [DBG] The request has an origin header: 'http://localhost:5204'.
2025-02-08 19:02:55.622 -04:00 [INF] CORS policy execution failed.
2025-02-08 19:02:55.622 -04:00 [INF] Request origin http://localhost:5204 does not have permission to access the resource.
2025-02-08 19:02:55.622 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:02:55.622 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 19:02:55.622 -04:00 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Int32, GIGANTECLIENTCORE.DTO.ChangePasswordDTO) on controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE).
2025-02-08 19:02:55.622 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:02:55.622 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:02:55.622 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:02:55.622 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:02:55.622 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:02:55.622 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 19:02:55.623 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.UserController (GIGANTECLIENTCORE)
2025-02-08 19:02:55.623 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 19:02:55.623 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 19:02:55.623 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:55.623 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:55.623 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 19:02:55.623 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 19:02:55.623 -04:00 [DBG] Attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' ...
2025-02-08 19:02:55.623 -04:00 [DBG] Attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' using the name '' in request data ...
2025-02-08 19:02:55.623 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 19:02:55.623 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-02-08 19:02:55.623 -04:00 [DBG] Connection id "0HNA8IFHPLJRD", Request id "0HNA8IFHPLJRD:00000001": started reading request body.
2025-02-08 19:02:55.623 -04:00 [DBG] Connection id "0HNA8IFHPLJRD", Request id "0HNA8IFHPLJRD:00000001": done reading request body.
2025-02-08 19:02:55.623 -04:00 [DBG] Done attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 19:02:55.623 -04:00 [DBG] Done attempting to bind parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 19:02:55.623 -04:00 [DBG] Attempting to validate the bound parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO' ...
2025-02-08 19:02:55.623 -04:00 [DBG] Done attempting to validate the bound parameter 'changePassword' of type 'GIGANTECLIENTCORE.DTO.ChangePasswordDTO'.
2025-02-08 19:02:55.623 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:02:55.625 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:02:55.625 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:02:55.625 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:02:55.625 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.626 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.627 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:02:55.627 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:55.627 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:55.627 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 19:02:55.634 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName]
FROM [UsuarioCliente] AS [u]
WHERE [u].[Id] = @__p_0
2025-02-08 19:02:55.635 -04:00 [DBG] Context 'MyDbContext' started tracking 'UsuarioCliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:55.635 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.635 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:02:55.635 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.635 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:02:55.635 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-02-08 19:02:55.635 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-02-08 19:02:55.635 -04:00 [DBG] The unchanged property 'UsuarioCliente.Password' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-02-08 19:02:55.635 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:55.635 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-02-08 19:02:55.636 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.636 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.636 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:02:55.636 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:55.636 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:02:55.636 -04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Password] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 19:02:55.642 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioCliente] SET [Password] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-08 19:02:55.642 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.642 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:02:55.642 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.642 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:02:55.642 -04:00 [DBG] An entity of type 'UsuarioCliente' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-08 19:02:55.642 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-02-08 19:02:55.642 -04:00 [INF] Contraseña actualizada exitosamente
2025-02-08 19:02:55.642 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.7749ms.
2025-02-08 19:02:55.642 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:02:55.642 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:02:55.642 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:02:55.642 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:02:55.642 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-02-08 19:02:55.642 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-08 19:02:55.642 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE) in 19.9312ms
2025-02-08 19:02:55.642 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.UserController.ChangePassword (GIGANTECLIENTCORE)'
2025-02-08 19:02:55.642 -04:00 [DBG] Connection id "0HNA8IFHPLJRD" completed keep alive response.
2025-02-08 19:02:55.642 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:02:55.642 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:02:55.642 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:02:55.642 -04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5204/api/User/change-password/17 - 200 null text/plain; charset=utf-8 20.4575ms
2025-02-08 19:02:57.608 -04:00 [DBG] Connection id "0HNA8IFHPLJRD" received FIN.
2025-02-08 19:02:57.609 -04:00 [DBG] Connection id "0HNA8IFHPLJRD" disconnecting.
2025-02-08 19:02:57.609 -04:00 [DBG] Connection id "0HNA8IFHPLJRD" stopped.
2025-02-08 19:02:57.609 -04:00 [DBG] Connection id "0HNA8IFHPLJRD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 19:04:43.028 -04:00 [DBG] Connection id "0HNA8IFHPLJRE" accepted.
2025-02-08 19:04:43.029 -04:00 [DBG] Connection id "0HNA8IFHPLJRE" started.
2025-02-08 19:04:43.030 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5204/api/Carrito?id=17 - null null
2025-02-08 19:04:43.031 -04:00 [DBG] The request path  does not match the path filter
2025-02-08 19:04:43.031 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Carrito'
2025-02-08 19:04:43.031 -04:00 [DBG] Endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)' with route pattern 'api/Carrito' is valid for the request path '/api/Carrito'
2025-02-08 19:04:43.031 -04:00 [DBG] Request matched endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 19:04:43.032 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-08 19:04:43.032 -04:00 [INF] Executing endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 19:04:43.033 -04:00 [INF] Route matched with {action = "ObtenerCarritoUsario", controller = "Carrito"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerCarritoUsario(Int32) on controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE).
2025-02-08 19:04:43.033 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-08 19:04:43.033 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-08 19:04:43.033 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-08 19:04:43.033 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-08 19:04:43.033 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-08 19:04:43.033 -04:00 [DBG] Executing controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 19:04:43.034 -04:00 [DBG] Executed controller factory for controller GIGANTECLIENTCORE.Controllers.CarritoController (GIGANTECLIENTCORE)
2025-02-08 19:04:43.038 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-02-08 19:04:43.039 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-02-08 19:04:43.040 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:04:43.040 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-02-08 19:04:43.040 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-02-08 19:04:43.041 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-02-08 19:04:43.041 -04:00 [INF] Executing action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) - Validation state: "Valid"
2025-02-08 19:04:43.059 -04:00 [DBG] Entity Framework Core 9.0.1 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.1' with options: EngineType=SqlServer 
2025-02-08 19:04:43.061 -04:00 [DBG] Creating DbConnection.
2025-02-08 19:04:43.061 -04:00 [DBG] Created DbConnection. (0ms).
2025-02-08 19:04:43.061 -04:00 [DBG] Opening connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:04:43.061 -04:00 [DBG] Opened connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:04:43.061 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-08 19:04:43.062 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:04:43.062 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-02-08 19:04:43.062 -04:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 19:04:43.078 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UsuarioId], [u].[Id], [u].[Apellidos], [u].[Ciudad], [u].[Direccion], [u].[DOB], [u].[Email], [u].[FechaIngreso], [u].[Password], [u].[RNC], [u].[RolId], [u].[Telefono], [u].[UserName], [s0].[Id], [s0].[Cantidad], [s0].[CarritoId], [s0].[ProductoId], [s0].[Codigo], [s0].[CategoriaId], [s0].[ImageUrl], [s0].[Marca], [s0].[Nombre], [s0].[Stock], [s0].[SubCategoriaId], [s0].[Id0], [s0].[Nombre0], [s0].[Id1], [s0].[CategoriaId0], [s0].[Nombre1]
FROM [Carrito] AS [c]
INNER JOIN [UsuarioCliente] AS [u] ON [c].[UsuarioId] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[CarritoId], [d].[ProductoId], [p].[Codigo], [p].[CategoriaId], [p].[ImageUrl], [p].[Marca], [p].[Nombre], [p].[Stock], [p].[SubCategoriaId], [c0].[Id] AS [Id0], [c0].[Nombre] AS [Nombre0], [s].[Id] AS [Id1], [s].[CategoriaId] AS [CategoriaId0], [s].[Nombre] AS [Nombre1]
    FROM [DetalleCarrito] AS [d]
    INNER JOIN [Productos] AS [p] ON [d].[ProductoId] = [p].[Codigo]
    LEFT JOIN [Categoria] AS [c0] ON [p].[CategoriaId] = [c0].[Id]
    LEFT JOIN [SubCategoria] AS [s] ON [c0].[Id] = [s].[CategoriaId]
) AS [s0] ON [c].[Id] = [s0].[CarritoId]
WHERE [c].[UsuarioId] = @__id_0
ORDER BY [c].[Id], [u].[Id], [s0].[Id], [s0].[Codigo], [s0].[Id0]
2025-02-08 19:04:43.078 -04:00 [DBG] Closing data reader to 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:04:43.078 -04:00 [DBG] A data reader for 'GIGANTEAPIS' on server 'localhost' is being disposed after spending 0ms reading results.
2025-02-08 19:04:43.078 -04:00 [DBG] Closing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:04:43.078 -04:00 [DBG] Closed connection to database 'GIGANTEAPIS' on server 'localhost' (0ms).
2025-02-08 19:04:43.078 -04:00 [INF] Executed action method GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.9241ms.
2025-02-08 19:04:43.078 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-02-08 19:04:43.079 -04:00 [DBG] No information found on request to perform content negotiation.
2025-02-08 19:04:43.079 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-08 19:04:43.079 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-08 19:04:43.079 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-08 19:04:43.079 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GIGANTECLIENTCORE.Models.Carrito, GIGANTECLIENTCORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 19:04:43.079 -04:00 [INF] Executed action GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE) in 46.0314ms
2025-02-08 19:04:43.079 -04:00 [INF] Executed endpoint 'GIGANTECLIENTCORE.Controllers.CarritoController.ObtenerCarritoUsario (GIGANTECLIENTCORE)'
2025-02-08 19:04:43.079 -04:00 [DBG] Connection id "0HNA8IFHPLJRE" completed keep alive response.
2025-02-08 19:04:43.079 -04:00 [DBG] 'MyDbContext' disposed.
2025-02-08 19:04:43.079 -04:00 [DBG] Disposing connection to database 'GIGANTEAPIS' on server 'localhost'.
2025-02-08 19:04:43.079 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-02-08 19:04:43.080 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5204/api/Carrito?id=17 - 200 2 application/json; charset=utf-8 49.4725ms
2025-02-08 19:04:47.142 -04:00 [DBG] Connection id "0HNA8IFHPLJRE" received FIN.
2025-02-08 19:04:47.142 -04:00 [DBG] Connection id "0HNA8IFHPLJRE" disconnecting.
2025-02-08 19:04:47.142 -04:00 [DBG] Connection id "0HNA8IFHPLJRE" stopped.
2025-02-08 19:04:47.146 -04:00 [DBG] Connection id "0HNA8IFHPLJRE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-08 20:01:42.365 -04:00 [INF] Application is shutting down...
2025-02-08 20:01:42.370 -04:00 [DBG] Hosting stopping
2025-02-08 20:01:42.397 -04:00 [DBG] Hosting stopped
